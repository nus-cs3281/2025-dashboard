[{"path":"src/app/app.component.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":".container {","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"  padding: 8px 16px;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"  min-height: 87.9vh;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"tng wen xi"},"content":"  flex-grow: 1;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"tng wen xi":1,"-":4}},{"path":"src/app/app.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"tng wen xi"},"content":"\u003capp-layout-header style\u003d\"flex: 0 0 auto\"\u003e\u003c/app-layout-header\u003e","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"container\"\u003e","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"  \u003crouter-outlet\u003e\u003c/router-outlet\u003e","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"\u003c/div\u003e","isFullCredit":false}],"authorContributionMap":{"tng wen xi":1,"-":4}},{"path":"src/app/core/constants/filter-options.constants.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Norbert"},"content":"import { milestone } from \u0027@primer/octicons\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Norbert"},"content":"export enum StatusOptions {","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Norbert"},"content":"  OpenPullRequests \u003d \u0027open pullrequest\u0027,","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Norbert"},"content":"  MergedPullRequests \u003d \u0027merged pullrequest\u0027,","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Norbert"},"content":"  ClosedPullRequests \u003d \u0027closed pullrequest\u0027,","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Norbert"},"content":"  OpenIssues \u003d \u0027open issue\u0027,","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Norbert"},"content":"  ClosedIssues \u003d \u0027closed issue\u0027","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Norbert"},"content":"}","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Norbert"},"content":"export enum TypeOptions {","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Norbert"},"content":"  All \u003d \u0027all\u0027,","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Norbert"},"content":"  Issue \u003d \u0027issue\u0027,","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Norbert"},"content":"  PullRequests \u003d \u0027pullrequest\u0027","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Norbert"},"content":"}","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"Norbert"},"content":"export enum SortOptions {","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Norbert"},"content":"  Id \u003d \u0027id\u0027,","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"Norbert"},"content":"  Title \u003d \u0027title\u0027,","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"Norbert"},"content":"  Date \u003d \u0027date\u0027,","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"Norbert"},"content":"  Status \u003d \u0027status\u0027","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"Norbert"},"content":"}","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Norbert"},"content":"export enum OrderOptions {","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"Norbert"},"content":"  Asc \u003d \u0027asc\u0027,","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"Norbert"},"content":"  Desc \u003d \u0027desc\u0027","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Norbert"},"content":"}","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Norbert"},"content":"export enum MilestoneOptions {","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"Norbert"},"content":"  IssueWithoutMilestone \u003d \u0027Issue without a milestone\u0027,","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Norbert"},"content":"  PullRequestWithoutMilestone \u003d \u0027PR without a milestone\u0027","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"Norbert"},"content":"}","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Norbert"},"content":"export const AssigneesFilter \u003d {","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Norbert"},"content":"  no_assignees: \u0027no:assignee\u0027,","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Norbert"},"content":"  unassigned: \u0027Unassigned\u0027","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Norbert"},"content":"};","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Norbert"},"content":"export const StatusFilter \u003d {","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"Norbert"},"content":"  [StatusOptions.OpenPullRequests]: \u0027(is:open AND is:pr)\u0027,","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Norbert"},"content":"  [StatusOptions.MergedPullRequests]: \u0027(is:pr AND is:merged)\u0027,","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Norbert"},"content":"  [StatusOptions.ClosedPullRequests]: \u0027(is:pr AND is:closed)\u0027,","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"Norbert"},"content":"  [StatusOptions.OpenIssues]: \u0027(is:open AND is:issue)\u0027,","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"Norbert"},"content":"  [StatusOptions.ClosedIssues]: \u0027(is:closed AND is:issue)\u0027","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"Norbert"},"content":"};","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"Norbert"},"content":"export const TypeFilter \u003d {","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"Norbert"},"content":"  [TypeOptions.All]: \u0027(is:issue OR is:pr)\u0027,","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"Norbert"},"content":"  [TypeOptions.Issue]: \u0027is:issue\u0027,","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"Norbert"},"content":"  [TypeOptions.PullRequests]: \u0027is:pr\u0027","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"Norbert"},"content":"};","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"Norbert"},"content":"export const SortFilter \u003d {","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"Norbert"},"content":"  [SortOptions.Date]: \u0027updated\u0027","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"Norbert"},"content":"};","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"Norbert"},"content":"export const MilestoneFilter \u003d {","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"Norbert"},"content":"  [MilestoneOptions.IssueWithoutMilestone]: \u0027(no:milestone AND is:issue)\u0027,","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"Norbert"},"content":"  [MilestoneOptions.PullRequestWithoutMilestone]: \u0027(no:milestone AND is:pr)\u0027","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"Norbert"},"content":"};","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"Norbert"},"content":"export const FilterOptions \u003d {","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"Norbert"},"content":"  assignee: \u0027assignee:\u0027,","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"Norbert"},"content":"  label: \u0027label:\u0027,","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"Norbert"},"content":"  milestone: \u0027milestone:\u0027,","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"Norbert"},"content":"  author: \u0027author:\u0027","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"Norbert"},"content":"};","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"Norbert"},"content":"export const BooleanConjunctions \u003d {","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"Norbert"},"content":"  AND: \u0027 AND \u0027,","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"Norbert"},"content":"  OR: \u0027 OR \u0027,","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"Norbert"},"content":"  EXCLUDE: \u0027-\u0027","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"Norbert"},"content":"};","isFullCredit":false}],"authorContributionMap":{"Norbert":73}},{"path":"src/app/core/models/github-user.model.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Group } from \u0027./github/group.interface\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":" * Represents raw data returned from the GitHub API about a user.","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"export interface RawGithubUser {","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"  avatar_url: string;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"  created_at: string;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"  html_url: string;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"  login: string;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"  name: string;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"  node_id: string;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"  two_factor_authentication: boolean;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  site_admin: false;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  type: string;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  updated_at: string;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"  url: string;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":" * Represents a GitHub user in WATcher, used for authentication","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":" * of user as well as representing assignees for issues/PRs.","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"export class GithubUser implements RawGithubUser, Group {","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"  static NO_ASSIGNEE: GithubUser \u003d new GithubUser({","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"    avatar_url: \u0027\u0027,","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"    created_at: \u0027\u0027,","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"    html_url: \u0027\u0027,","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"    login: \u0027Unassigned\u0027,","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"    name: \u0027\u0027,","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"    node_id: \u0027\u0027,","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"    two_factor_authentication: false,","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"    site_admin: false,","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"    type: \u0027\u0027,","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"    updated_at: \u0027\u0027,","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"    url: \u0027\u0027","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"  avatar_url: string;","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"  created_at: string;","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  html_url: string;","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"  login: string;","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"  name: string;","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"  node_id: string;","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"  two_factor_authentication: boolean;","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  site_admin: false;","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"  type: string;","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"  updated_at: string;","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"  url: string;","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"  constructor(rawData: RawGithubUser) {","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"    Object.assign(this, rawData);","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  /*","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  This method is used to enable comparisons between","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  a Group and the filtering criteria, which is stored","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  as a string, in IssuesDataTable.ts","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  */","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  static fromUsername(username: string) {","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"    return new GithubUser({","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      login: username,","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      avatar_url: \u0027\u0027,","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      created_at: \u0027\u0027,","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      html_url: \u0027\u0027,","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      name: \u0027\u0027,","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      node_id: \u0027\u0027,","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      two_factor_authentication: false,","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      site_admin: false,","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      type: \u0027\u0027,","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      updated_at: \u0027\u0027,","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      url: \u0027\u0027","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"    });","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  }","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"  equals(other: any) {","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"    if (!(other instanceof GithubUser)) {","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"      return false;","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"    return this.login \u003d\u003d\u003d other.login;","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Isaac Ng Jun Jie":21,"-":61}},{"path":"src/app/core/models/milestone.model.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Group } from \u0027./github/group.interface\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":" * Represents a milestone and its attributes fetched from Github.","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"export class Milestone implements Group {","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"  static IssueWithoutMilestone: Milestone \u003d new Milestone({ title: \u0027Issue without a milestone\u0027, state: null });","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"  static PRWithoutMilestone: Milestone \u003d new Milestone({ title: \u0027PR without a milestone\u0027, state: null });","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"  title: string;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"  state: string;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"  deadline?: Date;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"  number?: number;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  constructor(milestone: { title: string; state: string; due_on?: string; number?: string }) {","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"    this.title \u003d milestone.title;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"    this.state \u003d milestone.state;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"    this.deadline \u003d milestone.due_on ? new Date(milestone.due_on) : undefined;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"    this.number \u003d milestone.number ? +milestone.number : undefined;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  /*","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  This method is used to enable comparisons between","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  a Group and the filtering criteria, which is stored","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  as a string, in IssuesDataTable.ts","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  */","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  static fromTitle(title: string): Milestone {","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"    return new Milestone({ title, state: \u0027\u0027 });","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  }","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"  public equals(other: any) {","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"    if (!(other instanceof Milestone)) {","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"      return false;","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"    return this.title \u003d\u003d\u003d other.title;","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Isaac Ng Jun Jie":9,"-":27}},{"path":"src/app/core/models/preset.model.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"import { Filter, FiltersService } from \u0027../services/filters.service\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"import { GroupBy } from \u0027../services/grouping/grouping-context.service\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"import { Repo } from \u0027./repo.model\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":"/**","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Marcus Soh"},"content":" * Represents a set of filters.","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":" * Currently, the filters are saved as a URL-encoded string.","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":" */","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":"export abstract class Preset\u003cT\u003e {","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"  repo: Repo;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Marcus Soh"},"content":"  filter: T;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Marcus Soh"},"content":"  label: string;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Marcus Soh"},"content":"  id: string; // current timestamp in ms as string","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"  groupBy: GroupBy;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Marcus Soh"},"content":"  constructor({ repo, label, id \u003d Date.now().toString(), groupBy }: { repo: Repo; label: string; id?: string; groupBy: GroupBy }) {","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"Marcus Soh"},"content":"    this.repo \u003d repo;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Marcus Soh"},"content":"    this.label \u003d label;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"Marcus Soh"},"content":"    this.id \u003d id;","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"Marcus Soh"},"content":"    // this.isGlobal \u003d isGlobal;","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"Marcus Soh"},"content":"    this.groupBy \u003d groupBy;","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Marcus Soh"},"content":"  static fromObject\u003cT\u003e(object: any): Preset\u003cany\u003e {","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"Marcus Soh"},"content":"    throw new Error(\u0027Must be implemented in derived class\u0027);","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Marcus Soh"},"content":"  public toText(): string {","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Marcus Soh"},"content":"    return this.summarize();","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Marcus Soh"},"content":"   * Returns the filter as a summary string.","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Marcus Soh"},"content":"   *","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Marcus Soh"},"content":"   * TODO: https://github.com/CATcher-org/WATcher/issues/405","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Marcus Soh"},"content":"   * This should be part of the filter model.","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Marcus Soh"},"content":"  protected summarize() {","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Marcus Soh"},"content":"    return \u0027Method not implemented!\u0027;","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Marcus Soh"},"content":"  public isGlobal(): boolean {","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"Marcus Soh"},"content":"    return this instanceof GlobalPreset;","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"Marcus Soh"},"content":"export class GlobalPreset extends Preset\u003cPartial\u003cFilter\u003e\u003e {","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"Marcus Soh"},"content":"  constructor({","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"Marcus Soh"},"content":"    repo,","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"Marcus Soh"},"content":"    filter,","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"Marcus Soh"},"content":"    label,","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"Marcus Soh"},"content":"    id \u003d Date.now().toString(),","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"Marcus Soh"},"content":"    groupBy","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"Marcus Soh"},"content":"  }: {","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"Marcus Soh"},"content":"    repo: Repo;","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"Marcus Soh"},"content":"    filter: Partial\u003cFilter\u003e;","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"Marcus Soh"},"content":"    label: string;","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"Marcus Soh"},"content":"    id?: string;","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"Marcus Soh"},"content":"    groupBy: GroupBy;","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"Marcus Soh"},"content":"  }) {","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"Marcus Soh"},"content":"    super({ repo, label, id, groupBy });","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"Marcus Soh"},"content":"    this.filter \u003d filter;","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"Marcus Soh"},"content":"  static fromObject(object: any): GlobalPreset {","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"Marcus Soh"},"content":"    const repo \u003d Repo.fromObject(object.repo);","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"Marcus Soh"},"content":"    const filter \u003d FiltersService.fromObject(object.filter, true);","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"Marcus Soh"},"content":"    const label \u003d object.label;","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"Marcus Soh"},"content":"    const groupBy \u003d object.groupBy || GroupBy.Assignee;","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"Marcus Soh"},"content":"    return new GlobalPreset({ repo, filter, label, id: object.id, groupBy });","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"Marcus Soh"},"content":"  protected summarize() {","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"Marcus Soh"},"content":"    const filter \u003d this.filter;","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"Marcus Soh"},"content":"    return `Search: ${filter.title}","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"Marcus Soh"},"content":"            Status: ${filter.status}","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"Marcus Soh"},"content":"            Type: ${filter.type}","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"Marcus Soh"},"content":"            Sort: ${filter.sort.active}-${filter.sort.direction}","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"Marcus Soh"},"content":"            Items per Page: ${filter.itemsPerPage}`;","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"Marcus Soh"},"content":"export class LocalPreset extends Preset\u003cFilter\u003e {","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"Marcus Soh"},"content":"  constructor({","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"Marcus Soh"},"content":"    repo,","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"Marcus Soh"},"content":"    filter,","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"Marcus Soh"},"content":"    label,","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"Marcus Soh"},"content":"    id \u003d Date.now().toString(),","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"Marcus Soh"},"content":"    groupBy","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"Marcus Soh"},"content":"  }: {","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"Marcus Soh"},"content":"    repo: Repo;","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"Marcus Soh"},"content":"    filter: Filter;","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"Marcus Soh"},"content":"    label: string;","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"Marcus Soh"},"content":"    id?: string;","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"Marcus Soh"},"content":"    groupBy: GroupBy;","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"Marcus Soh"},"content":"  }) {","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"Marcus Soh"},"content":"    super({ repo, label, id, groupBy });","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"Marcus Soh"},"content":"    this.filter \u003d filter;","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"Marcus Soh"},"content":"  static fromObject(object: any): LocalPreset {","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"Marcus Soh"},"content":"    const repo \u003d Repo.fromObject(object.repo);","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"Marcus Soh"},"content":"    // TODO: When refactoring out filter, we will want to have tow different methods for fromObject","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"Marcus Soh"},"content":"    const filter \u003d FiltersService.fromObject(object.filter, false) as Filter;","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"Marcus Soh"},"content":"    const label \u003d object.label;","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"Marcus Soh"},"content":"    const groupBy \u003d object.groupBy || GroupBy.Assignee;","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"Marcus Soh"},"content":"    return new LocalPreset({ repo, filter, label, id: object.id, groupBy });","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"Marcus Soh"},"content":"   * Returns the filter as a summary string.","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"Marcus Soh"},"content":"   *","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"Marcus Soh"},"content":"   * TODO: https://github.com/CATcher-org/WATcher/issues/405","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"Marcus Soh"},"content":"   * This should be part of the filter model.","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"Marcus Soh"},"content":"  protected summarize() {","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"Marcus Soh"},"content":"    const filter \u003d this.filter;","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"Marcus Soh"},"content":"    return `Search terms: ${filter.title}","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"Marcus Soh"},"content":"            Status: ${filter.status}","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"Marcus Soh"},"content":"            Type: ${filter.type}","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"Marcus Soh"},"content":"            Sort: ${filter.sort.active}-${filter.sort.direction}","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"Marcus Soh"},"content":"            Labels: ${filter.labels.join(\u0027, \u0027)}","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"Marcus Soh"},"content":"            Milestones: ${filter.milestones.join(\u0027, \u0027)}","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"Marcus Soh"},"content":"            Hidden Labels: ${[filter.hiddenLabels ? Array.from(filter.hiddenLabels) : \u0027\u0027].join(\u0027, \u0027)}","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"Marcus Soh"},"content":"            Deselected Labels: ${[filter.deselectedLabels ? Array.from(filter.deselectedLabels) : \u0027\u0027].join(\u0027, \u0027)}","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"Marcus Soh"},"content":"            Items per Page: ${filter.itemsPerPage}","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"Marcus Soh"},"content":"            Assignees: ${filter.assignees.join(\u0027, \u0027)}`;","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"Marcus Soh"},"content":"export type EitherOrPreset \u003d GlobalPreset | LocalPreset;","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":137}},{"path":"src/app/core/models/repo.model.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { ErrorMessageService } from \u0027../services/error-message.service\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":" * Represents a repository.","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":" * Repository url is owner/name.","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"export class Repo {","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"  owner: string;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"  name: string;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"  /** Creates a new Repo from owner and name strings. */","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"  constructor(owner: string, name: string) {","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"    this.owner \u003d owner;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"    this.name \u003d name;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"  /** Creates a new Repo from one repository url. */","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"  public static of(repoUrlInput: string) {","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"    const repoUrl \u003d this.getRepoUrl(repoUrlInput);","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"    const repoUrlSplit \u003d repoUrl.split(\u0027/\u0027);","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"    if (repoUrlSplit.length !\u003d\u003d 2) {","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"      throw new Error(ErrorMessageService.repositoryNotPresentMessage());","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"    return new Repo(repoUrlSplit[0], repoUrlSplit[1]);","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"  public static ofEmptyRepo() {","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"    return EMPTY_REPO;","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  public static isInvalidRepoName(repo: unknown) {","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"    if (repo instanceof Repo) {","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"      const otherRepo \u003d repo as Repo;","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"      return otherRepo.equals(EMPTY_REPO);","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"    return false;","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"  /** Gets org/repo from full http url */","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  private static getRepoUrl(sessionInformation: string) {","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"    const lastChar \u003d sessionInformation.charAt(sessionInformation.length - 1);","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"    const formattedInput \u003d lastChar \u003d\u003d\u003d \u0027/\u0027 ? sessionInformation.slice(0, -1) : sessionInformation;","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"    return formattedInput.split(\u0027/\u0027).slice(-2).join(\u0027/\u0027);","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"Marcus Soh"},"content":"  public static fromObject(object: any): Repo {","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"Marcus Soh"},"content":"    // validation","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"Marcus Soh"},"content":"    if (!object.owner || !object.name) {","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"Marcus Soh"},"content":"      console.log(\u0027Missing object owner, object name\u0027, { object });","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"Marcus Soh"},"content":"      throw new Error(ErrorMessageService.corruptPresetMessage());","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"Marcus Soh"},"content":"    return new Repo(object.owner, object.name);","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"  /** String representation of a Repo. */","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"  public toString(): string {","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"    return this.owner + \u0027/\u0027 + this.name;","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"  public equals(otherRepo: unknown): boolean {","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"    if (otherRepo instanceof Repo) {","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"      return otherRepo.name \u003d\u003d\u003d this.name \u0026\u0026 otherRepo.owner \u003d\u003d\u003d this.owner;","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"    return false;","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"const EMPTY_REPO \u003d new Repo(\u0027\u0027, \u0027\u0027);","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":10,"-":61}},{"path":"src/app/core/services/error-message.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"@Injectable({","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":" * Contains all error message prompts to user.","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"export class ErrorMessageService {","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"  public static repoOwnerNotPresentMessage() {","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"    return \u0027Invalid repo owner. Provide a repository URL or repo name (\u003cORG/USER\u003e/\u003cREPO\u003e) with a valid organisation/user name\u0027;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  public static repositoryNotPresentMessage() {","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"    return \u0027Invalid repository name. Please provide a Github repository URL or repo name in the format \u003cORG/USER\u003e/\u003cREPO\u003e.\u0027;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"  public static invalidUrlMessage() {","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"    return \u0027URL is invalid, or repository does not exist, please indicate the repository you wish to view to continue.\u0027;","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"  public static unableToFetchIssuesMessage() {","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch issue.\u0027;","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"  public static unableToFetchMilestoneMessage() {","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch milestones.\u0027;","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  public static unableToFetchLabelsMessage() {","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch labels.\u0027;","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"  public static usersUnassignableMessage(assignee: string) {","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"    return `Cannot assign ${assignee} to the issue. Please check if ${assignee} is authorized.`;","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"  public static unableToFetchUsersMessage() {","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch assignable users for repository\u0027;","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"  public static unableToFetchEventsMessage() {","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch issue events for repository\u0027;","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"  public static unableToFetchActivityEventsMessage() {","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch activity events for repository\u0027;","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"  public static unableToFetchDataFileMessage() {","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch data file.\u0027;","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"  public static unableToFetchLatestReleaseMessage() {","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch latest release.\u0027;","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"  public static unableToFetchSettingsFileMessage() {","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch settings file.\u0027;","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"  public static unableToFetchAuthenticatedUsersMessage() {","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"    return \u0027Failed to fetch authenticated user.\u0027;","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"  public static unableToOpenInBrowserMessage() {","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"    return \u0027Unable to open this issue in Browser\u0027;","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"  public static unableToOpenMilestoneInBrowserMessage() {","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"    return \u0027Milestone unassigned\u0027;","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"  public static applicationVersionOutdatedMessage() {","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"    return \u0027Please update to the latest version of WATcher.\u0027;","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"  public static multipleDropdownOptionsErrorMessage() {","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"    return \u0027Supply either Dropdown option number or text, not both.\u0027;","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"  public static noDropdownOptionsErrorMessage() {","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"    return \u0027No Dropdown identification parameters supplied.\u0027;","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"Marcus Soh"},"content":"  public static corruptLocalPresetMessage() {","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"Marcus Soh"},"content":"    return \u0027Local presets are corrupted and have been deleted.\u0027;","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"Marcus Soh"},"content":"  public static corruptGlobalPresetMessage() {","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"Marcus Soh"},"content":"    return \u0027Global presets are corrupted and have been deleted.\u0027;","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"Marcus Soh"},"content":"  public static corruptPresetMessage() {","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"Marcus Soh"},"content":"    return \u0027Presets are corrupted and have been deleted.\u0027;","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":12,"-":86}},{"path":"src/app/core/services/filters.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"import { ComponentFactoryResolver, Injectable } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Sort } from \u0027@angular/material/sort\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { ActivatedRoute, Router } from \u0027@angular/router\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { BehaviorSubject, pipe } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Norbert"},"content":"import {","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Norbert"},"content":"  AssigneesFilter,","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Norbert"},"content":"  BooleanConjunctions,","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Norbert"},"content":"  FilterOptions,","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Norbert"},"content":"  MilestoneFilter,","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Norbert"},"content":"  MilestoneOptions,","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Norbert"},"content":"  OrderOptions,","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Norbert"},"content":"  SortFilter,","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Norbert"},"content":"  SortOptions,","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Norbert"},"content":"  StatusFilter,","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Norbert"},"content":"  StatusOptions,","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Norbert"},"content":"  TypeFilter,","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"Norbert"},"content":"  TypeOptions","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Norbert"},"content":"} from \u0027../constants/filter-options.constants\u0027;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"import { GithubUser } from \u0027../models/github-user.model\u0027;","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"import { SimpleLabel } from \u0027../models/label.model\u0027;","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"import { Milestone } from \u0027../models/milestone.model\u0027;","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"Marcus Soh"},"content":"import { EitherOrPreset, GlobalPreset } from \u0027../models/preset.model\u0027;","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"import { AssigneeService } from \u0027./assignee.service\u0027;","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Marcus Soh"},"content":"import { ErrorMessageService } from \u0027./error-message.service\u0027;","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027./logging.service\u0027;","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"import { MilestoneService } from \u0027./milestone.service\u0027;","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"export type Filter \u003d {","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"  title: string;","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"  status: string[];","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  type: string;","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"  sort: Sort;","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"  labels: string[];","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"  milestones: string[];","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"  hiddenLabels: Set\u003cstring\u003e;","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"  deselectedLabels: Set\u003cstring\u003e;","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"  itemsPerPage: number;","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"  assignees: string[];","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"};","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Marcus Soh"},"content":"type QueryParams \u003d {","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Marcus Soh"},"content":"  [x: string]: any;","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"Marcus Soh"},"content":"};","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"@Injectable({","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":" * Responsible for centralising filters","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":" * Filters are subscribed to and emitted from this service","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"export class FiltersService {","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"Marcus Soh"},"content":"  constructor(","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"Marcus Soh"},"content":"    private logger: LoggingService,","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"Marcus Soh"},"content":"    private router: Router,","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"Marcus Soh"},"content":"    private route: ActivatedRoute,","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"Marcus Soh"},"content":"    private milestoneService: MilestoneService,","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"Marcus Soh"},"content":"    private assigneeService: AssigneeService","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"Marcus Soh"},"content":"  ) {","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"Marcus Soh"},"content":"    this.filter$.subscribe((filter: Filter) \u003d\u003e {","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"Marcus Soh"},"content":"      this.itemsPerPage \u003d filter.itemsPerPage;","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"Marcus Soh"},"content":"    });","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"  public static readonly PRESET_VIEW_QUERY_PARAM_KEY \u003d \u0027presetview\u0027;","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"Marcus Soh"},"content":"  private static ITEMS_PER_PAGE \u003d 20;","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"Marcus Soh"},"content":"  static readonly DEFAULT_FILTER: Filter \u003d {","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"    title: \u0027\u0027,","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"Norbert"},"content":"    status: [StatusOptions.OpenPullRequests, StatusOptions.MergedPullRequests, StatusOptions.OpenIssues, StatusOptions.ClosedIssues],","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"Norbert"},"content":"    type: TypeOptions.All,","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"Norbert"},"content":"    sort: { active: SortOptions.Status, direction: OrderOptions.Asc },","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"    labels: [],","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"    milestones: [],","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"    hiddenLabels: new Set\u003cstring\u003e(),","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"    deselectedLabels: new Set\u003cstring\u003e(),","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"Marcus Soh"},"content":"    itemsPerPage: FiltersService.ITEMS_PER_PAGE,","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"    assignees: []","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"  };","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"Marcus Soh"},"content":"  private itemsPerPage \u003d FiltersService.ITEMS_PER_PAGE;","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"  readonly presetViews: {","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"    [key: string]: () \u003d\u003e Partial\u003cFilter\u003e;","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"  } \u003d {","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"    currentlyActive: () \u003d\u003e ({","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"      title: \u0027\u0027,","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"Norbert"},"content":"      status: [StatusOptions.OpenPullRequests, StatusOptions.MergedPullRequests, StatusOptions.OpenIssues, StatusOptions.ClosedIssues],","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"Norbert"},"content":"      type: TypeOptions.All,","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"Norbert"},"content":"      sort: { active: SortOptions.Status, direction: OrderOptions.Asc },","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"      labels: [],","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"      milestones: this.getMilestonesForCurrentlyActive().map((milestone) \u003d\u003e milestone.title),","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"      deselectedLabels: new Set\u003cstring\u003e(),","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"      itemsPerPage: 20,","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"      assignees: this.getAssigneesForCurrentlyActive().map((assignee) \u003d\u003e assignee.login)","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"    }),","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"    contributions: () \u003d\u003e ({","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"      title: \u0027\u0027,","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"Norbert"},"content":"      status: [StatusOptions.OpenPullRequests, StatusOptions.MergedPullRequests, StatusOptions.OpenIssues, StatusOptions.ClosedIssues],","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"Norbert"},"content":"      type: TypeOptions.All,","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"Norbert"},"content":"      sort: { active: SortOptions.Id, direction: OrderOptions.Desc },","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"      labels: [],","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"tng wen xi"},"content":"      milestones: this.getMilestonesForContributions().map((milestone) \u003d\u003e milestone.title),","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"      deselectedLabels: new Set\u003cstring\u003e(),","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"      itemsPerPage: 20,","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"      assignees: this.assigneeService.assignees.map((assignee) \u003d\u003e assignee.login)","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"    }),","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"    custom: () \u003d\u003e ({})","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"  };","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"  // List of keys in the new filter change that causes current filter to not qualify to be a preset view.","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"  readonly presetChangingKeys \u003d new Set\u003cstring\u003e([\u0027status\u0027, \u0027type\u0027, \u0027sort\u0027, \u0027milestones\u0027, \u0027labels\u0027, \u0027deselectedLabels\u0027, \u0027assignees\u0027]);","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"Marcus Soh"},"content":"  public filter$ \u003d new BehaviorSubject\u003cFilter\u003e(FiltersService.DEFAULT_FILTER);","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"  // Either \u0027currentlyActive\u0027, \u0027contributions\u0027, or \u0027custom\u0027.","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"  public presetView$ \u003d new BehaviorSubject\u003cstring\u003e(\u0027currentlyActive\u0027);","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"  // Helps in determining whether all milestones were selected from previous repo during sanitization of milestones","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"  private previousMilestonesLength \u003d 0;","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"  private previousAssigneesLength \u003d 0;","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"Marcus Soh"},"content":"   * Create a filter from a plain JSON object.","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"Marcus Soh"},"content":"   *","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"Marcus Soh"},"content":"   * TODO: https://github.com/CATcher-org/WATcher/issues/405","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"Marcus Soh"},"content":"   *","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"Marcus Soh"},"content":"   * @param object The object to create from e.g. from LocalStorage","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"Marcus Soh"},"content":"   * @returns","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"Marcus Soh"},"content":"  static fromObject(object: any, isGlobal \u003d false): Partial\u003cFilter\u003e | Filter {","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"Marcus Soh"},"content":"    if (isGlobal) {","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"Marcus Soh"},"content":"      // required fields: status, type, sort, itemsPerPage","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"Marcus Soh"},"content":"      if (!object.status || !object.type || !object.sort || !object.itemsPerPage) {","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"Marcus Soh"},"content":"        throw new Error(ErrorMessageService.corruptPresetMessage());","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"Marcus Soh"},"content":"      }","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"Marcus Soh"},"content":"      const filter: Partial\u003cFilter\u003e \u003d {","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"Marcus Soh"},"content":"        title: object.title,","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"Marcus Soh"},"content":"        status: object.status,","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"Marcus Soh"},"content":"        type: object.type,","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"Marcus Soh"},"content":"        sort: object.sort,","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"Marcus Soh"},"content":"        itemsPerPage: object.itemsPerPage","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"Marcus Soh"},"content":"      };","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"Marcus Soh"},"content":"      return filter;","isFullCredit":false},{"lineNumber":146,"author":{"gitId":"Marcus Soh"},"content":"    } else {","isFullCredit":false},{"lineNumber":147,"author":{"gitId":"Marcus Soh"},"content":"      // required fields: status, type, sort, itemsPerPage","isFullCredit":false},{"lineNumber":148,"author":{"gitId":"Marcus Soh"},"content":"      if (!object.status || !object.type || !object.sort || !object.itemsPerPage) {","isFullCredit":false},{"lineNumber":149,"author":{"gitId":"Marcus Soh"},"content":"        throw new Error(ErrorMessageService.corruptPresetMessage());","isFullCredit":false},{"lineNumber":150,"author":{"gitId":"Marcus Soh"},"content":"      }","isFullCredit":false},{"lineNumber":151,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":152,"author":{"gitId":"Marcus Soh"},"content":"      const filter: Filter \u003d {","isFullCredit":false},{"lineNumber":153,"author":{"gitId":"Marcus Soh"},"content":"        title: object.title,","isFullCredit":false},{"lineNumber":154,"author":{"gitId":"Marcus Soh"},"content":"        status: object.status,","isFullCredit":false},{"lineNumber":155,"author":{"gitId":"Marcus Soh"},"content":"        type: object.type,","isFullCredit":false},{"lineNumber":156,"author":{"gitId":"Marcus Soh"},"content":"        sort: object.sort,","isFullCredit":false},{"lineNumber":157,"author":{"gitId":"Marcus Soh"},"content":"        labels: object.labels || [],","isFullCredit":false},{"lineNumber":158,"author":{"gitId":"Marcus Soh"},"content":"        milestones: object.milestones || [],","isFullCredit":false},{"lineNumber":159,"author":{"gitId":"Marcus Soh"},"content":"        hiddenLabels: new Set(Object.keys(object.hiddenLabels).length ? object.hiddenLabels : undefined),","isFullCredit":false},{"lineNumber":160,"author":{"gitId":"Marcus Soh"},"content":"        deselectedLabels: new Set(Object.keys(object.deselectedLabels).length ? object.deselectedLabels : undefined),","isFullCredit":false},{"lineNumber":161,"author":{"gitId":"Marcus Soh"},"content":"        itemsPerPage: object.itemsPerPage,","isFullCredit":false},{"lineNumber":162,"author":{"gitId":"Marcus Soh"},"content":"        assignees: object.assignees || []","isFullCredit":false},{"lineNumber":163,"author":{"gitId":"Marcus Soh"},"content":"      };","isFullCredit":false},{"lineNumber":164,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":165,"author":{"gitId":"Marcus Soh"},"content":"      return filter;","isFullCredit":false},{"lineNumber":166,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":167,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":168,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":169,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":170,"author":{"gitId":"Marcus Soh"},"content":"   * Checks to see if two filters are equal.","isFullCredit":false},{"lineNumber":171,"author":{"gitId":"Marcus Soh"},"content":"   * TODO: https://github.com/CATcher-org/WATcher/issues/405","isFullCredit":false},{"lineNumber":172,"author":{"gitId":"Marcus Soh"},"content":"   * @param a The filter that is set in the app","isFullCredit":false},{"lineNumber":173,"author":{"gitId":"Marcus Soh"},"content":"   * @param b The filter that comes from saving a preset","isFullCredit":false},{"lineNumber":174,"author":{"gitId":"Marcus Soh"},"content":"   * @returns","isFullCredit":false},{"lineNumber":175,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":176,"author":{"gitId":"Marcus Soh"},"content":"  public static isPartOfPreset(a: Filter, preset: EitherOrPreset): boolean {","isFullCredit":false},{"lineNumber":177,"author":{"gitId":"Marcus Soh"},"content":"    // only compare if both objects have the key","isFullCredit":false},{"lineNumber":178,"author":{"gitId":"Marcus Soh"},"content":"    // Compare simple scalar fields","isFullCredit":false},{"lineNumber":179,"author":{"gitId":"Marcus Soh"},"content":"    const b \u003d preset.filter;","isFullCredit":false},{"lineNumber":180,"author":{"gitId":"Marcus Soh"},"content":"    if (a.title !\u003d\u003d b.title) {","isFullCredit":false},{"lineNumber":181,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":182,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":183,"author":{"gitId":"Marcus Soh"},"content":"    if (a.type !\u003d\u003d b.type) {","isFullCredit":false},{"lineNumber":184,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":185,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":186,"author":{"gitId":"Marcus Soh"},"content":"    if (a.itemsPerPage !\u003d\u003d b.itemsPerPage) {","isFullCredit":false},{"lineNumber":187,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":188,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":189,"author":{"gitId":"Marcus Soh"},"content":"    if (!FiltersService.haveSameElements(a.status, b.status)) {","isFullCredit":false},{"lineNumber":190,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":191,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":192,"author":{"gitId":"Marcus Soh"},"content":"    // Compare Angular Material Sort (shallow comparison is enough)","isFullCredit":false},{"lineNumber":193,"author":{"gitId":"Marcus Soh"},"content":"    if (!FiltersService.compareMatSort(a.sort, b.sort)) {","isFullCredit":false},{"lineNumber":194,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":195,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":196,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":197,"author":{"gitId":"Marcus Soh"},"content":"    if (preset instanceof GlobalPreset) {","isFullCredit":false},{"lineNumber":198,"author":{"gitId":"Marcus Soh"},"content":"      return true;","isFullCredit":false},{"lineNumber":199,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":200,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":201,"author":{"gitId":"Marcus Soh"},"content":"    // Compare arrays ignoring order","isFullCredit":false},{"lineNumber":202,"author":{"gitId":"Marcus Soh"},"content":"    if (!FiltersService.haveSameElements(a.labels, b.labels)) {","isFullCredit":false},{"lineNumber":203,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":204,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":205,"author":{"gitId":"Marcus Soh"},"content":"    if (!FiltersService.haveSameElements(a.milestones, b.milestones)) {","isFullCredit":false},{"lineNumber":206,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":207,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":208,"author":{"gitId":"Marcus Soh"},"content":"    if (!FiltersService.haveSameElements(a.assignees, b.assignees)) {","isFullCredit":false},{"lineNumber":209,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":210,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":211,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":212,"author":{"gitId":"Marcus Soh"},"content":"    // Compare sets","isFullCredit":false},{"lineNumber":213,"author":{"gitId":"Marcus Soh"},"content":"    if (!FiltersService.areSetsEqual(a.hiddenLabels, b.hiddenLabels)) {","isFullCredit":false},{"lineNumber":214,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":215,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":216,"author":{"gitId":"Marcus Soh"},"content":"    if (!FiltersService.areSetsEqual(a.deselectedLabels, b.deselectedLabels)) {","isFullCredit":false},{"lineNumber":217,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":218,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":219,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":220,"author":{"gitId":"Marcus Soh"},"content":"    return true;","isFullCredit":false},{"lineNumber":221,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":222,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":223,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":224,"author":{"gitId":"Marcus Soh"},"content":"   * Returns true if two arrays contain exactly the same elements (ignoring order).","isFullCredit":false},{"lineNumber":225,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":226,"author":{"gitId":"Marcus Soh"},"content":"  private static haveSameElements(arr1: string[], arr2: string[]): boolean {","isFullCredit":false},{"lineNumber":227,"author":{"gitId":"Marcus Soh"},"content":"    if (arr1.length !\u003d\u003d arr2.length) {","isFullCredit":false},{"lineNumber":228,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":229,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":230,"author":{"gitId":"Marcus Soh"},"content":"    const sorted1 \u003d [...arr1].sort();","isFullCredit":false},{"lineNumber":231,"author":{"gitId":"Marcus Soh"},"content":"    const sorted2 \u003d [...arr2].sort();","isFullCredit":false},{"lineNumber":232,"author":{"gitId":"Marcus Soh"},"content":"    return sorted1.every((val, idx) \u003d\u003e val \u003d\u003d\u003d sorted2[idx]);","isFullCredit":false},{"lineNumber":233,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":234,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":235,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":236,"author":{"gitId":"Marcus Soh"},"content":"   * Returns true if two sets contain exactly the same elements.","isFullCredit":false},{"lineNumber":237,"author":{"gitId":"Marcus Soh"},"content":"   *","isFullCredit":false},{"lineNumber":238,"author":{"gitId":"Marcus Soh"},"content":"   * TODO: https://github.com/CATcher-org/WATcher/issues/405","isFullCredit":false},{"lineNumber":239,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":240,"author":{"gitId":"Marcus Soh"},"content":"  private static areSetsEqual(set1: Set\u003cstring\u003e, set2: Set\u003cstring\u003e): boolean {","isFullCredit":false},{"lineNumber":241,"author":{"gitId":"Marcus Soh"},"content":"    if (set1.size !\u003d\u003d set2.size) {","isFullCredit":false},{"lineNumber":242,"author":{"gitId":"Marcus Soh"},"content":"      return false;","isFullCredit":false},{"lineNumber":243,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":244,"author":{"gitId":"Marcus Soh"},"content":"    for (const item of set1) {","isFullCredit":false},{"lineNumber":245,"author":{"gitId":"Marcus Soh"},"content":"      if (!set2.has(item)) {","isFullCredit":false},{"lineNumber":246,"author":{"gitId":"Marcus Soh"},"content":"        return false;","isFullCredit":false},{"lineNumber":247,"author":{"gitId":"Marcus Soh"},"content":"      }","isFullCredit":false},{"lineNumber":248,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":249,"author":{"gitId":"Marcus Soh"},"content":"    return true;","isFullCredit":false},{"lineNumber":250,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":251,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":252,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":253,"author":{"gitId":"Marcus Soh"},"content":"   * Compare two Angular Material Sort objects for equality.","isFullCredit":false},{"lineNumber":254,"author":{"gitId":"Marcus Soh"},"content":"   *","isFullCredit":false},{"lineNumber":255,"author":{"gitId":"Marcus Soh"},"content":"   * TODO: https://github.com/CATcher-org/WATcher/issues/405","isFullCredit":false},{"lineNumber":256,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":257,"author":{"gitId":"Marcus Soh"},"content":"  private static compareMatSort(s1: Sort, s2: Sort): boolean {","isFullCredit":false},{"lineNumber":258,"author":{"gitId":"Marcus Soh"},"content":"    // Both \u0027active\u0027 and \u0027direction\u0027 are simple scalar fields","isFullCredit":false},{"lineNumber":259,"author":{"gitId":"Marcus Soh"},"content":"    return s1.active \u003d\u003d\u003d s2.active \u0026\u0026 s1.direction \u003d\u003d\u003d s2.direction;","isFullCredit":false},{"lineNumber":260,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":261,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":262,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":263,"author":{"gitId":"Marcus Soh"},"content":"   * Create a deep copy of a filter. For use when setting filters from presets.","isFullCredit":false},{"lineNumber":264,"author":{"gitId":"Marcus Soh"},"content":"   *","isFullCredit":false},{"lineNumber":265,"author":{"gitId":"Marcus Soh"},"content":"   * @param original","isFullCredit":false},{"lineNumber":266,"author":{"gitId":"Marcus Soh"},"content":"   * @returns A deep copied version of the filter","isFullCredit":false},{"lineNumber":267,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":268,"author":{"gitId":"Marcus Soh"},"content":"  public static createDeepCopy(original: Filter | Partial\u003cFilter\u003e): Filter | Partial\u003cFilter\u003e {","isFullCredit":false},{"lineNumber":269,"author":{"gitId":"Marcus Soh"},"content":"    const filter: Partial\u003cFilter\u003e \u003d {};","isFullCredit":false},{"lineNumber":270,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":271,"author":{"gitId":"Marcus Soh"},"content":"    if (original.title !\u003d\u003d undefined) {","isFullCredit":false},{"lineNumber":272,"author":{"gitId":"Marcus Soh"},"content":"      // string can be empty, is falsy value","isFullCredit":false},{"lineNumber":273,"author":{"gitId":"Marcus Soh"},"content":"      filter.title \u003d original.title;","isFullCredit":false},{"lineNumber":274,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":275,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":276,"author":{"gitId":"Marcus Soh"},"content":"    if (original.status) {","isFullCredit":false},{"lineNumber":277,"author":{"gitId":"Marcus Soh"},"content":"      filter.status \u003d [...original.status];","isFullCredit":false},{"lineNumber":278,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":279,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":280,"author":{"gitId":"Marcus Soh"},"content":"    if (original.type) {","isFullCredit":false},{"lineNumber":281,"author":{"gitId":"Marcus Soh"},"content":"      filter.type \u003d original.type;","isFullCredit":false},{"lineNumber":282,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":283,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":284,"author":{"gitId":"Marcus Soh"},"content":"    if (original.sort) {","isFullCredit":false},{"lineNumber":285,"author":{"gitId":"Marcus Soh"},"content":"      filter.sort \u003d { ...original.sort };","isFullCredit":false},{"lineNumber":286,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":287,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":288,"author":{"gitId":"Marcus Soh"},"content":"    if (original.labels) {","isFullCredit":false},{"lineNumber":289,"author":{"gitId":"Marcus Soh"},"content":"      filter.labels \u003d [...original.labels];","isFullCredit":false},{"lineNumber":290,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":291,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":292,"author":{"gitId":"Marcus Soh"},"content":"    if (original.milestones) {","isFullCredit":false},{"lineNumber":293,"author":{"gitId":"Marcus Soh"},"content":"      filter.milestones \u003d [...original.milestones];","isFullCredit":false},{"lineNumber":294,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":295,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":296,"author":{"gitId":"Marcus Soh"},"content":"    if (original.itemsPerPage) {","isFullCredit":false},{"lineNumber":297,"author":{"gitId":"Marcus Soh"},"content":"      filter.itemsPerPage \u003d original.itemsPerPage;","isFullCredit":false},{"lineNumber":298,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":299,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":300,"author":{"gitId":"Marcus Soh"},"content":"    if (original.assignees) {","isFullCredit":false},{"lineNumber":301,"author":{"gitId":"Marcus Soh"},"content":"      filter.assignees \u003d [...original.assignees];","isFullCredit":false},{"lineNumber":302,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":303,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":304,"author":{"gitId":"Marcus Soh"},"content":"    if (original.hiddenLabels) {","isFullCredit":false},{"lineNumber":305,"author":{"gitId":"Marcus Soh"},"content":"      filter.hiddenLabels \u003d new Set(original.hiddenLabels);","isFullCredit":false},{"lineNumber":306,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":307,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":308,"author":{"gitId":"Marcus Soh"},"content":"    if (original.deselectedLabels) {","isFullCredit":false},{"lineNumber":309,"author":{"gitId":"Marcus Soh"},"content":"      filter.deselectedLabels \u003d new Set(original.deselectedLabels);","isFullCredit":false},{"lineNumber":310,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":311,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":312,"author":{"gitId":"Marcus Soh"},"content":"    const isPartial \u003d Object.keys(original).length !\u003d\u003d Object.keys(FiltersService.DEFAULT_FILTER).length;","isFullCredit":false},{"lineNumber":313,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":314,"author":{"gitId":"Marcus Soh"},"content":"    if (isPartial) {","isFullCredit":false},{"lineNumber":315,"author":{"gitId":"Marcus Soh"},"content":"      return filter as Partial\u003cFilter\u003e;","isFullCredit":false},{"lineNumber":316,"author":{"gitId":"Marcus Soh"},"content":"    } else {","isFullCredit":false},{"lineNumber":317,"author":{"gitId":"Marcus Soh"},"content":"      return filter as Filter;","isFullCredit":false},{"lineNumber":318,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":319,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":320,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":321,"author":{"gitId":"-"},"content":"  private pushFiltersToUrl(): void {","isFullCredit":false},{"lineNumber":322,"author":{"gitId":"-"},"content":"    const queryParams \u003d { ...this.route.snapshot.queryParams };","isFullCredit":false},{"lineNumber":323,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":324,"author":{"gitId":"-"},"content":"    for (const filterName of Object.keys(this.filter$.value)) {","isFullCredit":false},{"lineNumber":325,"author":{"gitId":"-"},"content":"      const filterValue \u003d this.filter$.value[filterName];","isFullCredit":false},{"lineNumber":326,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":327,"author":{"gitId":"-"},"content":"      // Don\u0027t include empty or null filters","isFullCredit":false},{"lineNumber":328,"author":{"gitId":"-"},"content":"      // Intended behaviour to reset to default if 0 of a certain filter are selected","isFullCredit":false},{"lineNumber":329,"author":{"gitId":"-"},"content":"      switch (filterName) {","isFullCredit":false},{"lineNumber":330,"author":{"gitId":"-"},"content":"        // Strings","isFullCredit":false},{"lineNumber":331,"author":{"gitId":"-"},"content":"        case \u0027title\u0027:","isFullCredit":false},{"lineNumber":332,"author":{"gitId":"-"},"content":"        case \u0027type\u0027:","isFullCredit":false},{"lineNumber":333,"author":{"gitId":"-"},"content":"          if (!filterValue) {","isFullCredit":false},{"lineNumber":334,"author":{"gitId":"-"},"content":"            delete queryParams[filterName];","isFullCredit":false},{"lineNumber":335,"author":{"gitId":"-"},"content":"            continue;","isFullCredit":false},{"lineNumber":336,"author":{"gitId":"-"},"content":"          }","isFullCredit":false},{"lineNumber":337,"author":{"gitId":"-"},"content":"          queryParams[filterName] \u003d filterValue;","isFullCredit":false},{"lineNumber":338,"author":{"gitId":"-"},"content":"          break;","isFullCredit":false},{"lineNumber":339,"author":{"gitId":"-"},"content":"        // Arrays","isFullCredit":false},{"lineNumber":340,"author":{"gitId":"-"},"content":"        case \u0027status\u0027:","isFullCredit":false},{"lineNumber":341,"author":{"gitId":"-"},"content":"        case \u0027labels\u0027:","isFullCredit":false},{"lineNumber":342,"author":{"gitId":"-"},"content":"        case \u0027milestones\u0027:","isFullCredit":false},{"lineNumber":343,"author":{"gitId":"-"},"content":"        case \u0027assignees\u0027:","isFullCredit":false},{"lineNumber":344,"author":{"gitId":"-"},"content":"          if (filterValue.length \u003d\u003d\u003d 0) {","isFullCredit":false},{"lineNumber":345,"author":{"gitId":"-"},"content":"            delete queryParams[filterName];","isFullCredit":false},{"lineNumber":346,"author":{"gitId":"-"},"content":"            continue;","isFullCredit":false},{"lineNumber":347,"author":{"gitId":"-"},"content":"          }","isFullCredit":false},{"lineNumber":348,"author":{"gitId":"-"},"content":"          queryParams[filterName] \u003d filterValue;","isFullCredit":false},{"lineNumber":349,"author":{"gitId":"-"},"content":"          break;","isFullCredit":false},{"lineNumber":350,"author":{"gitId":"-"},"content":"        // Sets","isFullCredit":false},{"lineNumber":351,"author":{"gitId":"-"},"content":"        case \u0027selectedLabels\u0027:","isFullCredit":false},{"lineNumber":352,"author":{"gitId":"-"},"content":"        case \u0027deselectedLabels\u0027:","isFullCredit":false},{"lineNumber":353,"author":{"gitId":"-"},"content":"          if (filterValue.size \u003d\u003d\u003d 0) {","isFullCredit":false},{"lineNumber":354,"author":{"gitId":"-"},"content":"            delete queryParams[filterName];","isFullCredit":false},{"lineNumber":355,"author":{"gitId":"-"},"content":"          }","isFullCredit":false},{"lineNumber":356,"author":{"gitId":"-"},"content":"          queryParams[filterName] \u003d [...filterValue];","isFullCredit":false},{"lineNumber":357,"author":{"gitId":"-"},"content":"          break;","isFullCredit":false},{"lineNumber":358,"author":{"gitId":"-"},"content":"        // Objects","isFullCredit":false},{"lineNumber":359,"author":{"gitId":"-"},"content":"        case \u0027sort\u0027:","isFullCredit":false},{"lineNumber":360,"author":{"gitId":"-"},"content":"          queryParams[filterName] \u003d JSON.stringify(filterValue);","isFullCredit":false},{"lineNumber":361,"author":{"gitId":"-"},"content":"          break;","isFullCredit":false},{"lineNumber":362,"author":{"gitId":"-"},"content":"        case \u0027itemsPerPage\u0027:","isFullCredit":false},{"lineNumber":363,"author":{"gitId":"-"},"content":"          queryParams[filterName] \u003d filterValue.toString();","isFullCredit":false},{"lineNumber":364,"author":{"gitId":"-"},"content":"          break;","isFullCredit":false},{"lineNumber":365,"author":{"gitId":"-"},"content":"        default:","isFullCredit":false},{"lineNumber":366,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":367,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":368,"author":{"gitId":"-"},"content":"    queryParams[FiltersService.PRESET_VIEW_QUERY_PARAM_KEY] \u003d this.presetView$.value;","isFullCredit":false},{"lineNumber":369,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":370,"author":{"gitId":"-"},"content":"    this.router.navigate([], {","isFullCredit":false},{"lineNumber":371,"author":{"gitId":"-"},"content":"      relativeTo: this.route,","isFullCredit":false},{"lineNumber":372,"author":{"gitId":"-"},"content":"      queryParams,","isFullCredit":false},{"lineNumber":373,"author":{"gitId":"-"},"content":"      replaceUrl: true","isFullCredit":false},{"lineNumber":374,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":375,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":376,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":377,"author":{"gitId":"-"},"content":"  clearFilters(): void {","isFullCredit":false},{"lineNumber":378,"author":{"gitId":"Marcus Soh"},"content":"    this.updateFilters(FiltersService.DEFAULT_FILTER);","isFullCredit":false},{"lineNumber":379,"author":{"gitId":"-"},"content":"    this.updatePresetView(\u0027currentlyActive\u0027);","isFullCredit":false},{"lineNumber":380,"author":{"gitId":"-"},"content":"    this.previousMilestonesLength \u003d 0;","isFullCredit":false},{"lineNumber":381,"author":{"gitId":"-"},"content":"    this.previousAssigneesLength \u003d 0;","isFullCredit":false},{"lineNumber":382,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":383,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":384,"author":{"gitId":"-"},"content":"  initializeFromURLParams() {","isFullCredit":false},{"lineNumber":385,"author":{"gitId":"Marcus Soh"},"content":"    const nextFilter: Filter \u003d FiltersService.DEFAULT_FILTER;","isFullCredit":false},{"lineNumber":386,"author":{"gitId":"-"},"content":"    const queryParams \u003d this.route.snapshot.queryParamMap;","isFullCredit":false},{"lineNumber":387,"author":{"gitId":"-"},"content":"    try {","isFullCredit":false},{"lineNumber":388,"author":{"gitId":"-"},"content":"      for (const filterName of Object.keys(nextFilter)) {","isFullCredit":false},{"lineNumber":389,"author":{"gitId":"-"},"content":"        // Check if there is no such param in url","isFullCredit":false},{"lineNumber":390,"author":{"gitId":"-"},"content":"        if (queryParams.get(filterName) \u003d\u003d\u003d null) {","isFullCredit":false},{"lineNumber":391,"author":{"gitId":"-"},"content":"          continue;","isFullCredit":false},{"lineNumber":392,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":393,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":394,"author":{"gitId":"-"},"content":"        const filterData \u003d queryParams.getAll(filterName);","isFullCredit":false},{"lineNumber":395,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":396,"author":{"gitId":"-"},"content":"        switch (filterName) {","isFullCredit":false},{"lineNumber":397,"author":{"gitId":"-"},"content":"          // Strings","isFullCredit":false},{"lineNumber":398,"author":{"gitId":"-"},"content":"          case \u0027title\u0027:","isFullCredit":false},{"lineNumber":399,"author":{"gitId":"-"},"content":"          case \u0027type\u0027:","isFullCredit":false},{"lineNumber":400,"author":{"gitId":"-"},"content":"            nextFilter[filterName] \u003d filterData[0];","isFullCredit":false},{"lineNumber":401,"author":{"gitId":"-"},"content":"            break;","isFullCredit":false},{"lineNumber":402,"author":{"gitId":"-"},"content":"          // Arrays","isFullCredit":false},{"lineNumber":403,"author":{"gitId":"-"},"content":"          case \u0027status\u0027:","isFullCredit":false},{"lineNumber":404,"author":{"gitId":"-"},"content":"          case \u0027labels\u0027:","isFullCredit":false},{"lineNumber":405,"author":{"gitId":"-"},"content":"          case \u0027milestones\u0027:","isFullCredit":false},{"lineNumber":406,"author":{"gitId":"-"},"content":"          case \u0027assignees\u0027:","isFullCredit":false},{"lineNumber":407,"author":{"gitId":"-"},"content":"            nextFilter[filterName] \u003d filterData;","isFullCredit":false},{"lineNumber":408,"author":{"gitId":"-"},"content":"            break;","isFullCredit":false},{"lineNumber":409,"author":{"gitId":"-"},"content":"          // Sets","isFullCredit":false},{"lineNumber":410,"author":{"gitId":"-"},"content":"          case \u0027selectedLabels\u0027:","isFullCredit":false},{"lineNumber":411,"author":{"gitId":"-"},"content":"          case \u0027deselectedLabels\u0027:","isFullCredit":false},{"lineNumber":412,"author":{"gitId":"-"},"content":"            nextFilter[filterName] \u003d new Set(filterData);","isFullCredit":false},{"lineNumber":413,"author":{"gitId":"-"},"content":"            break;","isFullCredit":false},{"lineNumber":414,"author":{"gitId":"-"},"content":"          // Objects","isFullCredit":false},{"lineNumber":415,"author":{"gitId":"-"},"content":"          case \u0027sort\u0027:","isFullCredit":false},{"lineNumber":416,"author":{"gitId":"-"},"content":"            nextFilter[filterName] \u003d JSON.parse(filterData[0]);","isFullCredit":false},{"lineNumber":417,"author":{"gitId":"-"},"content":"            break;","isFullCredit":false},{"lineNumber":418,"author":{"gitId":"-"},"content":"          case \u0027itemsPerPage\u0027:","isFullCredit":false},{"lineNumber":419,"author":{"gitId":"-"},"content":"            nextFilter[filterName] \u003d Number(filterData[0]);","isFullCredit":false},{"lineNumber":420,"author":{"gitId":"-"},"content":"            break;","isFullCredit":false},{"lineNumber":421,"author":{"gitId":"-"},"content":"          default:","isFullCredit":false},{"lineNumber":422,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":423,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":424,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":425,"author":{"gitId":"-"},"content":"      this.updateFilters(nextFilter);","isFullCredit":false},{"lineNumber":426,"author":{"gitId":"-"},"content":"      // Use preset view if set in url","isFullCredit":false},{"lineNumber":427,"author":{"gitId":"-"},"content":"      const presetView \u003d queryParams.get(FiltersService.PRESET_VIEW_QUERY_PARAM_KEY);","isFullCredit":false},{"lineNumber":428,"author":{"gitId":"-"},"content":"      if (presetView \u0026\u0026 this.presetViews.hasOwnProperty(presetView)) {","isFullCredit":false},{"lineNumber":429,"author":{"gitId":"-"},"content":"        this.updatePresetView(presetView);","isFullCredit":false},{"lineNumber":430,"author":{"gitId":"-"},"content":"      } else {","isFullCredit":false},{"lineNumber":431,"author":{"gitId":"-"},"content":"        this.updatePresetView(\u0027currentlyActive\u0027);","isFullCredit":false},{"lineNumber":432,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":433,"author":{"gitId":"-"},"content":"    } catch (err) {","isFullCredit":false},{"lineNumber":434,"author":{"gitId":"-"},"content":"      this.logger.info(`FiltersService: Update filters from URL failed with an error: ${err}`);","isFullCredit":false},{"lineNumber":435,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":436,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":437,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":438,"author":{"gitId":"-"},"content":"  updateFilters(newFilters: Partial\u003cFilter\u003e): void {","isFullCredit":false},{"lineNumber":439,"author":{"gitId":"-"},"content":"    const nextDropdownFilter: Filter \u003d {","isFullCredit":false},{"lineNumber":440,"author":{"gitId":"-"},"content":"      ...this.filter$.value,","isFullCredit":false},{"lineNumber":441,"author":{"gitId":"-"},"content":"      ...newFilters","isFullCredit":false},{"lineNumber":442,"author":{"gitId":"-"},"content":"    };","isFullCredit":false},{"lineNumber":443,"author":{"gitId":"-"},"content":"    this.filter$.next(nextDropdownFilter);","isFullCredit":false},{"lineNumber":444,"author":{"gitId":"-"},"content":"    this.updatePresetViewFromFilters(newFilters);","isFullCredit":false},{"lineNumber":445,"author":{"gitId":"-"},"content":"    this.pushFiltersToUrl();","isFullCredit":false},{"lineNumber":446,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":447,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":448,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":449,"author":{"gitId":"-"},"content":"   * Updates the filters without updating the preset view.","isFullCredit":false},{"lineNumber":450,"author":{"gitId":"-"},"content":"   * This should only be called when there are new labels/milestones fetched.","isFullCredit":false},{"lineNumber":451,"author":{"gitId":"-"},"content":"   * The preset view will be reapplied in order to account for changes in milestone categories on upstream","isFullCredit":false},{"lineNumber":452,"author":{"gitId":"-"},"content":"   * @param newFilters The filters with new values","isFullCredit":false},{"lineNumber":453,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":454,"author":{"gitId":"-"},"content":"  private updateFiltersWithoutUpdatingPresetView(newFilters: Partial\u003cFilter\u003e): void {","isFullCredit":false},{"lineNumber":455,"author":{"gitId":"-"},"content":"    const presetFilters \u003d this.presetViews[this.presetView$.value]();","isFullCredit":false},{"lineNumber":456,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":457,"author":{"gitId":"-"},"content":"    // Remove filters that should not be reset when labels/milestones are fetched","isFullCredit":false},{"lineNumber":458,"author":{"gitId":"-"},"content":"    delete presetFilters.title;","isFullCredit":false},{"lineNumber":459,"author":{"gitId":"-"},"content":"    delete presetFilters.itemsPerPage;","isFullCredit":false},{"lineNumber":460,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":461,"author":{"gitId":"-"},"content":"    const nextDropdownFilter: Filter \u003d {","isFullCredit":false},{"lineNumber":462,"author":{"gitId":"-"},"content":"      ...this.filter$.value,","isFullCredit":false},{"lineNumber":463,"author":{"gitId":"-"},"content":"      ...newFilters,","isFullCredit":false},{"lineNumber":464,"author":{"gitId":"-"},"content":"      ...presetFilters","isFullCredit":false},{"lineNumber":465,"author":{"gitId":"-"},"content":"    };","isFullCredit":false},{"lineNumber":466,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":467,"author":{"gitId":"-"},"content":"    this.filter$.next(nextDropdownFilter);","isFullCredit":false},{"lineNumber":468,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":469,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":470,"author":{"gitId":"-"},"content":"  private updatePresetViewFromFilters(newFilter: Partial\u003cFilter\u003e): void {","isFullCredit":false},{"lineNumber":471,"author":{"gitId":"-"},"content":"    for (const key of Object.keys(newFilter)) {","isFullCredit":false},{"lineNumber":472,"author":{"gitId":"-"},"content":"      if (this.presetChangingKeys.has(key)) {","isFullCredit":false},{"lineNumber":473,"author":{"gitId":"-"},"content":"        this.presetView$.next(\u0027custom\u0027);","isFullCredit":false},{"lineNumber":474,"author":{"gitId":"-"},"content":"        return;","isFullCredit":false},{"lineNumber":475,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":476,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":477,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":478,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":479,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":480,"author":{"gitId":"-"},"content":"   * Updates the filter based on a preset view.","isFullCredit":false},{"lineNumber":481,"author":{"gitId":"-"},"content":"   * @param presetViewName The name of the preset view, either \u0027currentlyActive\u0027, \u0027contributions\u0027, or \u0027custom\u0027.","isFullCredit":false},{"lineNumber":482,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":483,"author":{"gitId":"-"},"content":"  updatePresetView(presetViewName: string) {","isFullCredit":false},{"lineNumber":484,"author":{"gitId":"-"},"content":"    this.filter$.next({ ...this.filter$.value, ...this.presetViews[presetViewName]() });","isFullCredit":false},{"lineNumber":485,"author":{"gitId":"-"},"content":"    this.presetView$.next(presetViewName);","isFullCredit":false},{"lineNumber":486,"author":{"gitId":"-"},"content":"    this.pushFiltersToUrl();","isFullCredit":false},{"lineNumber":487,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":488,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":489,"author":{"gitId":"-"},"content":"  sanitizeLabels(allLabels: SimpleLabel[]): void {","isFullCredit":false},{"lineNumber":490,"author":{"gitId":"-"},"content":"    const allLabelsSet \u003d new Set(allLabels.map((label) \u003d\u003e label.name));","isFullCredit":false},{"lineNumber":491,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":492,"author":{"gitId":"-"},"content":"    const newHiddenLabels: Set\u003cstring\u003e \u003d new Set();","isFullCredit":false},{"lineNumber":493,"author":{"gitId":"-"},"content":"    for (const hiddenLabel of this.filter$.value.hiddenLabels) {","isFullCredit":false},{"lineNumber":494,"author":{"gitId":"-"},"content":"      if (allLabelsSet.has(hiddenLabel)) {","isFullCredit":false},{"lineNumber":495,"author":{"gitId":"-"},"content":"        newHiddenLabels.add(hiddenLabel);","isFullCredit":false},{"lineNumber":496,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":497,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":498,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":499,"author":{"gitId":"-"},"content":"    const newDeselectedLabels: Set\u003cstring\u003e \u003d new Set();","isFullCredit":false},{"lineNumber":500,"author":{"gitId":"-"},"content":"    for (const deselectedLabel of this.filter$.value.deselectedLabels) {","isFullCredit":false},{"lineNumber":501,"author":{"gitId":"-"},"content":"      if (allLabelsSet.has(deselectedLabel)) {","isFullCredit":false},{"lineNumber":502,"author":{"gitId":"-"},"content":"        newDeselectedLabels.add(deselectedLabel);","isFullCredit":false},{"lineNumber":503,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":504,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":505,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":506,"author":{"gitId":"-"},"content":"    const newLabels \u003d this.filter$.value.labels.filter((label) \u003d\u003e allLabelsSet.has(label));","isFullCredit":false},{"lineNumber":507,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":508,"author":{"gitId":"-"},"content":"    this.updateFiltersWithoutUpdatingPresetView({","isFullCredit":false},{"lineNumber":509,"author":{"gitId":"-"},"content":"      labels: newLabels,","isFullCredit":false},{"lineNumber":510,"author":{"gitId":"-"},"content":"      hiddenLabels: newHiddenLabels,","isFullCredit":false},{"lineNumber":511,"author":{"gitId":"-"},"content":"      deselectedLabels: newDeselectedLabels","isFullCredit":false},{"lineNumber":512,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":513,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":514,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":515,"author":{"gitId":"-"},"content":"  sanitizeAssignees(allAssignees: GithubUser[]) {","isFullCredit":false},{"lineNumber":516,"author":{"gitId":"-"},"content":"    const assignees \u003d allAssignees.map((assignee) \u003d\u003e assignee.login);","isFullCredit":false},{"lineNumber":517,"author":{"gitId":"-"},"content":"    assignees.push(GithubUser.NO_ASSIGNEE.login);","isFullCredit":false},{"lineNumber":518,"author":{"gitId":"-"},"content":"    const allAssigneesSet \u003d new Set(assignees);","isFullCredit":false},{"lineNumber":519,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":520,"author":{"gitId":"-"},"content":"    // All previous assignees were selected, reset to all new assignees selected","isFullCredit":false},{"lineNumber":521,"author":{"gitId":"-"},"content":"    if (this.filter$.value.assignees.length \u003d\u003d\u003d this.previousAssigneesLength) {","isFullCredit":false},{"lineNumber":522,"author":{"gitId":"-"},"content":"      this.updateFiltersWithoutUpdatingPresetView({ assignees: [...allAssigneesSet] });","isFullCredit":false},{"lineNumber":523,"author":{"gitId":"-"},"content":"      this.previousAssigneesLength \u003d allAssigneesSet.size;","isFullCredit":false},{"lineNumber":524,"author":{"gitId":"-"},"content":"      return;","isFullCredit":false},{"lineNumber":525,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":526,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":527,"author":{"gitId":"-"},"content":"    const newAssignees: string[] \u003d [];","isFullCredit":false},{"lineNumber":528,"author":{"gitId":"-"},"content":"    for (const assignee of this.filter$.value.assignees) {","isFullCredit":false},{"lineNumber":529,"author":{"gitId":"-"},"content":"      if (allAssigneesSet.has(assignee)) {","isFullCredit":false},{"lineNumber":530,"author":{"gitId":"-"},"content":"        newAssignees.push(assignee);","isFullCredit":false},{"lineNumber":531,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":532,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":533,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":534,"author":{"gitId":"-"},"content":"    this.updateFiltersWithoutUpdatingPresetView({ assignees: newAssignees });","isFullCredit":false},{"lineNumber":535,"author":{"gitId":"-"},"content":"    this.previousAssigneesLength \u003d allAssigneesSet.size;","isFullCredit":false},{"lineNumber":536,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":537,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":538,"author":{"gitId":"-"},"content":"  sanitizeMilestones(allMilestones: Milestone[]) {","isFullCredit":false},{"lineNumber":539,"author":{"gitId":"-"},"content":"    const milestones \u003d allMilestones.map((milestone) \u003d\u003e milestone.title);","isFullCredit":false},{"lineNumber":540,"author":{"gitId":"-"},"content":"    milestones.push(Milestone.IssueWithoutMilestone.title, Milestone.PRWithoutMilestone.title);","isFullCredit":false},{"lineNumber":541,"author":{"gitId":"-"},"content":"    const allMilestonesSet \u003d new Set(milestones);","isFullCredit":false},{"lineNumber":542,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":543,"author":{"gitId":"-"},"content":"    // All previous milestones were selected, reset to all new milestones selected","isFullCredit":false},{"lineNumber":544,"author":{"gitId":"-"},"content":"    if (this.filter$.value.milestones.length \u003d\u003d\u003d this.previousMilestonesLength) {","isFullCredit":false},{"lineNumber":545,"author":{"gitId":"-"},"content":"      this.updateFiltersWithoutUpdatingPresetView({ milestones: [...allMilestonesSet] });","isFullCredit":false},{"lineNumber":546,"author":{"gitId":"-"},"content":"      this.previousMilestonesLength \u003d allMilestonesSet.size;","isFullCredit":false},{"lineNumber":547,"author":{"gitId":"-"},"content":"      return;","isFullCredit":false},{"lineNumber":548,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":549,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":550,"author":{"gitId":"-"},"content":"    const newMilestones: string[] \u003d [];","isFullCredit":false},{"lineNumber":551,"author":{"gitId":"-"},"content":"    for (const milestone of this.filter$.value.milestones) {","isFullCredit":false},{"lineNumber":552,"author":{"gitId":"-"},"content":"      if (allMilestonesSet.has(milestone)) {","isFullCredit":false},{"lineNumber":553,"author":{"gitId":"-"},"content":"        newMilestones.push(milestone);","isFullCredit":false},{"lineNumber":554,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":555,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":556,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":557,"author":{"gitId":"-"},"content":"    // No applicable milestones, reset to all milestones selected","isFullCredit":false},{"lineNumber":558,"author":{"gitId":"-"},"content":"    if (newMilestones.length \u003d\u003d\u003d 0) {","isFullCredit":false},{"lineNumber":559,"author":{"gitId":"-"},"content":"      newMilestones.push(...allMilestonesSet);","isFullCredit":false},{"lineNumber":560,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":561,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":562,"author":{"gitId":"-"},"content":"    this.updateFiltersWithoutUpdatingPresetView({ milestones: newMilestones });","isFullCredit":false},{"lineNumber":563,"author":{"gitId":"-"},"content":"    this.previousMilestonesLength \u003d allMilestonesSet.size;","isFullCredit":false},{"lineNumber":564,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":565,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":566,"author":{"gitId":"-"},"content":"  getMilestonesForCurrentlyActive(): Milestone[] {","isFullCredit":false},{"lineNumber":567,"author":{"gitId":"-"},"content":"    const earliestOpenMilestone \u003d this.milestoneService.getEarliestOpenMilestone();","isFullCredit":false},{"lineNumber":568,"author":{"gitId":"-"},"content":"    if (earliestOpenMilestone) {","isFullCredit":false},{"lineNumber":569,"author":{"gitId":"-"},"content":"      return [earliestOpenMilestone, Milestone.PRWithoutMilestone];","isFullCredit":false},{"lineNumber":570,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":571,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":572,"author":{"gitId":"-"},"content":"    const latestClosedMilestone \u003d this.milestoneService.getLatestClosedMilestone();","isFullCredit":false},{"lineNumber":573,"author":{"gitId":"-"},"content":"    if (latestClosedMilestone) {","isFullCredit":false},{"lineNumber":574,"author":{"gitId":"-"},"content":"      return [latestClosedMilestone, Milestone.PRWithoutMilestone];","isFullCredit":false},{"lineNumber":575,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":576,"author":{"gitId":"-"},"content":"    return [...this.milestoneService.milestones, Milestone.PRWithoutMilestone];","isFullCredit":false},{"lineNumber":577,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":578,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":579,"author":{"gitId":"-"},"content":"  getAssigneesForCurrentlyActive(): GithubUser[] {","isFullCredit":false},{"lineNumber":580,"author":{"gitId":"-"},"content":"    // TODO Filter out assignees that have not contributed in currently active milestones","isFullCredit":false},{"lineNumber":581,"author":{"gitId":"-"},"content":"    return [...this.assigneeService.assignees, GithubUser.NO_ASSIGNEE];","isFullCredit":false},{"lineNumber":582,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":583,"author":{"gitId":"tng wen xi"},"content":"","isFullCredit":false},{"lineNumber":584,"author":{"gitId":"tng wen xi"},"content":"  getMilestonesForContributions(): Milestone[] {","isFullCredit":false},{"lineNumber":585,"author":{"gitId":"tng wen xi"},"content":"    const milestones \u003d this.milestoneService.milestones;","isFullCredit":false},{"lineNumber":586,"author":{"gitId":"tng wen xi"},"content":"    return [...milestones, Milestone.PRWithoutMilestone, Milestone.IssueWithoutMilestone];","isFullCredit":false},{"lineNumber":587,"author":{"gitId":"tng wen xi"},"content":"  }","isFullCredit":false},{"lineNumber":588,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":589,"author":{"gitId":"Norbert"},"content":"  private getGhFilterDeselectedLabels(deselectedLabels: Set\u003cstring\u003e): string {","isFullCredit":false},{"lineNumber":590,"author":{"gitId":"Norbert"},"content":"    return Array.from(deselectedLabels)","isFullCredit":false},{"lineNumber":591,"author":{"gitId":"Norbert"},"content":"      .map((label) \u003d\u003e BooleanConjunctions.EXCLUDE + FilterOptions.label + `\\\"${label}\\\"`)","isFullCredit":false},{"lineNumber":592,"author":{"gitId":"Norbert"},"content":"      .join(BooleanConjunctions.AND);","isFullCredit":false},{"lineNumber":593,"author":{"gitId":"Norbert"},"content":"  }","isFullCredit":false},{"lineNumber":594,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":595,"author":{"gitId":"Norbert"},"content":"  private getGhFilterLabels(labels: string[]): string {","isFullCredit":false},{"lineNumber":596,"author":{"gitId":"Norbert"},"content":"    return labels.map((label) \u003d\u003e FilterOptions.label + `\\\"${label}\\\"`).join(BooleanConjunctions.AND);","isFullCredit":false},{"lineNumber":597,"author":{"gitId":"Norbert"},"content":"  }","isFullCredit":false},{"lineNumber":598,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":599,"author":{"gitId":"Norbert"},"content":"  private getGhFilterMilestones(milestones: string[]): string {","isFullCredit":false},{"lineNumber":600,"author":{"gitId":"Norbert"},"content":"    return milestones","isFullCredit":false},{"lineNumber":601,"author":{"gitId":"Norbert"},"content":"      .map((milestone) \u003d\u003e","isFullCredit":false},{"lineNumber":602,"author":{"gitId":"Norbert"},"content":"        MilestoneFilter.hasOwnProperty(milestone) ? MilestoneFilter[milestone] : FilterOptions.milestone + `\\\"${milestone}\\\"`","isFullCredit":false},{"lineNumber":603,"author":{"gitId":"Norbert"},"content":"      )","isFullCredit":false},{"lineNumber":604,"author":{"gitId":"Norbert"},"content":"      .join(BooleanConjunctions.OR);","isFullCredit":false},{"lineNumber":605,"author":{"gitId":"Norbert"},"content":"  }","isFullCredit":false},{"lineNumber":606,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":607,"author":{"gitId":"Norbert"},"content":"  private getGhFilterSort(sort: Sort): string {","isFullCredit":false},{"lineNumber":608,"author":{"gitId":"Norbert"},"content":"    return SortFilter.hasOwnProperty(sort.active) ? SortFilter[sort.active] + \u0027:\u0027 + sort.direction : \u0027\u0027;","isFullCredit":false},{"lineNumber":609,"author":{"gitId":"Norbert"},"content":"  }","isFullCredit":false},{"lineNumber":610,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":611,"author":{"gitId":"Norbert"},"content":"  private getGhFilterTypes(type: string): string {","isFullCredit":false},{"lineNumber":612,"author":{"gitId":"Norbert"},"content":"    return TypeFilter[type];","isFullCredit":false},{"lineNumber":613,"author":{"gitId":"Norbert"},"content":"  }","isFullCredit":false},{"lineNumber":614,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":615,"author":{"gitId":"Norbert"},"content":"  /**","isFullCredit":false},{"lineNumber":616,"author":{"gitId":"Norbert"},"content":"   * Returns the encoded filter string for the GitHub search using url queries.","isFullCredit":false},{"lineNumber":617,"author":{"gitId":"Norbert"},"content":"   * Currently GithHub\u0027s search functionality only support whole words rather than partial","isFullCredit":false},{"lineNumber":618,"author":{"gitId":"Norbert"},"content":"   * While we still search for the string that is input the input box, the results might","isFullCredit":false},{"lineNumber":619,"author":{"gitId":"Norbert"},"content":"   * not be as expected in GitHub.","isFullCredit":false},{"lineNumber":620,"author":{"gitId":"Norbert"},"content":"   * Reference: https://github.com/CATcher-org/WATcher/issues/425","isFullCredit":false},{"lineNumber":621,"author":{"gitId":"Norbert"},"content":"   *","isFullCredit":false},{"lineNumber":622,"author":{"gitId":"Norbert"},"content":"   * @returns Encoded filter string","isFullCredit":false},{"lineNumber":623,"author":{"gitId":"Norbert"},"content":"   */","isFullCredit":false},{"lineNumber":624,"author":{"gitId":"Norbert"},"content":"  getEncodedFilter(): string {","isFullCredit":false},{"lineNumber":625,"author":{"gitId":"Norbert"},"content":"    const res \u003d [","isFullCredit":false},{"lineNumber":626,"author":{"gitId":"Norbert"},"content":"      \u0027\u0027,","isFullCredit":false},{"lineNumber":627,"author":{"gitId":"Norbert"},"content":"      this.getGhFilterDeselectedLabels(this.filter$.value.deselectedLabels),","isFullCredit":false},{"lineNumber":628,"author":{"gitId":"Norbert"},"content":"      this.getGhFilterLabels(this.filter$.value.labels),","isFullCredit":false},{"lineNumber":629,"author":{"gitId":"Norbert"},"content":"      this.getGhFilterMilestones(this.filter$.value.milestones),","isFullCredit":false},{"lineNumber":630,"author":{"gitId":"Norbert"},"content":"      this.getGhFilterSort(this.filter$.value.sort),","isFullCredit":false},{"lineNumber":631,"author":{"gitId":"Norbert"},"content":"      this.getGhFilterTypes(this.filter$.value.type),","isFullCredit":false},{"lineNumber":632,"author":{"gitId":"Norbert"},"content":"      this.getGhFilterOpenAndClosedPR(this.filter$.value.assignees, this.filter$.value.status),","isFullCredit":false},{"lineNumber":633,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":634,"author":{"gitId":"Norbert"},"content":"      // Github search as of now does not support searching for title with partial words. Results might not be as expected.","isFullCredit":false},{"lineNumber":635,"author":{"gitId":"Norbert"},"content":"      this.filter$.value.title","isFullCredit":false},{"lineNumber":636,"author":{"gitId":"Norbert"},"content":"    ];","isFullCredit":false},{"lineNumber":637,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":638,"author":{"gitId":"Norbert"},"content":"    return res","isFullCredit":false},{"lineNumber":639,"author":{"gitId":"Norbert"},"content":"      .filter((curr) \u003d\u003e curr !\u003d\u003d \u0027\u0027)","isFullCredit":false},{"lineNumber":640,"author":{"gitId":"Norbert"},"content":"      .map((curr) \u003d\u003e \u0027(\u0027 + curr + \u0027)\u0027)","isFullCredit":false},{"lineNumber":641,"author":{"gitId":"Norbert"},"content":"      .join(BooleanConjunctions.AND);","isFullCredit":false},{"lineNumber":642,"author":{"gitId":"Norbert"},"content":"  }","isFullCredit":false},{"lineNumber":643,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":644,"author":{"gitId":"Norbert"},"content":"  private getGhFilterOpenAndClosedPR(assignees: string[], status: string[]): string {","isFullCredit":false},{"lineNumber":645,"author":{"gitId":"Norbert"},"content":"    const toState \u003d (stat: string): string \u003d\u003e {","isFullCredit":false},{"lineNumber":646,"author":{"gitId":"Norbert"},"content":"      switch (stat) {","isFullCredit":false},{"lineNumber":647,"author":{"gitId":"Norbert"},"content":"        case StatusOptions.OpenPullRequests:","isFullCredit":false},{"lineNumber":648,"author":{"gitId":"Norbert"},"content":"        case StatusOptions.OpenIssues:","isFullCredit":false},{"lineNumber":649,"author":{"gitId":"Norbert"},"content":"          return \u0027is:open\u0027;","isFullCredit":false},{"lineNumber":650,"author":{"gitId":"Norbert"},"content":"        case StatusOptions.MergedPullRequests:","isFullCredit":false},{"lineNumber":651,"author":{"gitId":"Norbert"},"content":"          return \u0027is:merged\u0027;","isFullCredit":false},{"lineNumber":652,"author":{"gitId":"Norbert"},"content":"        case StatusOptions.ClosedPullRequests:","isFullCredit":false},{"lineNumber":653,"author":{"gitId":"Norbert"},"content":"        case StatusOptions.ClosedIssues:","isFullCredit":false},{"lineNumber":654,"author":{"gitId":"Norbert"},"content":"          return \u0027is:closed\u0027;","isFullCredit":false},{"lineNumber":655,"author":{"gitId":"Norbert"},"content":"        default:","isFullCredit":false},{"lineNumber":656,"author":{"gitId":"Norbert"},"content":"          return \u0027\u0027;","isFullCredit":false},{"lineNumber":657,"author":{"gitId":"Norbert"},"content":"      }","isFullCredit":false},{"lineNumber":658,"author":{"gitId":"Norbert"},"content":"    };","isFullCredit":false},{"lineNumber":659,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":660,"author":{"gitId":"Norbert"},"content":"    const isIssue \u003d (stat: string): boolean \u003d\u003e stat \u003d\u003d\u003d StatusOptions.OpenIssues || stat \u003d\u003d\u003d StatusOptions.ClosedIssues;","isFullCredit":false},{"lineNumber":661,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":662,"author":{"gitId":"Norbert"},"content":"    const prFilter \u003d status.filter((stat) \u003d\u003e !isIssue(stat)).map(toState);","isFullCredit":false},{"lineNumber":663,"author":{"gitId":"Norbert"},"content":"    const issueFilter \u003d status.filter(isIssue).map(toState);","isFullCredit":false},{"lineNumber":664,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":665,"author":{"gitId":"Norbert"},"content":"    if (prFilter.length \u003d\u003d\u003d 0) {","isFullCredit":false},{"lineNumber":666,"author":{"gitId":"Norbert"},"content":"      return \u0027\u0027;","isFullCredit":false},{"lineNumber":667,"author":{"gitId":"Norbert"},"content":"    }","isFullCredit":false},{"lineNumber":668,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":669,"author":{"gitId":"Norbert"},"content":"    const asAuthors \u003d assignees","isFullCredit":false},{"lineNumber":670,"author":{"gitId":"Norbert"},"content":"      .filter((assignee) \u003d\u003e assignee !\u003d\u003d AssigneesFilter.unassigned)","isFullCredit":false},{"lineNumber":671,"author":{"gitId":"Norbert"},"content":"      .map((assignee) \u003d\u003e FilterOptions.author + assignee);","isFullCredit":false},{"lineNumber":672,"author":{"gitId":"Norbert"},"content":"    const asAssignees \u003d assignees.map((assignee) \u003d\u003e","isFullCredit":false},{"lineNumber":673,"author":{"gitId":"Norbert"},"content":"      assignee \u003d\u003d\u003d AssigneesFilter.unassigned ? AssigneesFilter.no_assignees : FilterOptions.assignee + assignee","isFullCredit":false},{"lineNumber":674,"author":{"gitId":"Norbert"},"content":"    );","isFullCredit":false},{"lineNumber":675,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":676,"author":{"gitId":"Norbert"},"content":"    const issueRelatedQuery \u003d `(${TypeFilter[TypeOptions.Issue]} (${issueFilter.join(BooleanConjunctions.OR)}) (${asAssignees.join(","isFullCredit":false},{"lineNumber":677,"author":{"gitId":"Norbert"},"content":"      BooleanConjunctions.OR","isFullCredit":false},{"lineNumber":678,"author":{"gitId":"Norbert"},"content":"    )}))`;","isFullCredit":false},{"lineNumber":679,"author":{"gitId":"Norbert"},"content":"    const prRelatedQuery \u003d `(${TypeFilter[TypeOptions.PullRequests]} (${prFilter.join(BooleanConjunctions.OR)}) (${asAuthors.join(","isFullCredit":false},{"lineNumber":680,"author":{"gitId":"Norbert"},"content":"      BooleanConjunctions.OR","isFullCredit":false},{"lineNumber":681,"author":{"gitId":"Norbert"},"content":"    )}))`;","isFullCredit":false},{"lineNumber":682,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":683,"author":{"gitId":"Norbert"},"content":"    return issueRelatedQuery + BooleanConjunctions.OR + prRelatedQuery;","isFullCredit":false},{"lineNumber":684,"author":{"gitId":"Norbert"},"content":"  }","isFullCredit":false},{"lineNumber":685,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":224,"tng wen xi":6,"-":335,"Norbert":120}},{"path":"src/app/core/services/presets.services.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"import { Injectable, OnInit } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"import { BehaviorSubject } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"import { EitherOrPreset, GlobalPreset, LocalPreset, Preset } from \u0027../models/preset.model\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"import { Repo } from \u0027../models/repo.model\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":"import { ErrorHandlingService } from \u0027./error-handling.service\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Marcus Soh"},"content":"import { ErrorMessageService } from \u0027./error-message.service\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"import { Filter, FiltersService } from \u0027./filters.service\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":"import { GroupBy, GroupingContextService } from \u0027./grouping/grouping-context.service\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":"import { LoggingService } from \u0027./logging.service\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Marcus Soh"},"content":"@Injectable({","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Marcus Soh"},"content":"  providedIn: \u0027root\u0027","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Marcus Soh"},"content":"})","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"export class PresetsService {","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Marcus Soh"},"content":"  static readonly KEY_NAME \u003d \u0027savedPresets\u0027;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Marcus Soh"},"content":"  static readonly GLOBAL_NAME \u003d \u0027globalPresets\u0027;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Marcus Soh"},"content":"  savedPresets \u003d new Map\u003cstring, LocalPreset[]\u003e(); // Complete list of all saved presets, keyed by repo.","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"Marcus Soh"},"content":"  currentPreset: EitherOrPreset \u003d undefined;","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"Marcus Soh"},"content":"  public availablePresets$ \u003d new BehaviorSubject\u003cLocalPreset[]\u003e([]); // Repository-specific presets available for the current repo","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"Marcus Soh"},"content":"  public globalPresets$ \u003d new BehaviorSubject\u003cGlobalPreset[]\u003e([]); // Global presets available for all repos","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Marcus Soh"},"content":"  constructor(","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"Marcus Soh"},"content":"    private logger: LoggingService,","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"Marcus Soh"},"content":"    private filter: FiltersService,","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Marcus Soh"},"content":"    private groupingContextService: GroupingContextService,","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Marcus Soh"},"content":"    private errorHandlingService: ErrorHandlingService","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Marcus Soh"},"content":"  ) {","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"Marcus Soh"},"content":"    // Load saved presets from local storage","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Marcus Soh"},"content":"    const rawRepoPresets \u003d window.localStorage.getItem(PresetsService.KEY_NAME);","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"Marcus Soh"},"content":"    const rawGlobalPresets \u003d window.localStorage.getItem(PresetsService.GLOBAL_NAME);","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Marcus Soh"},"content":"    // convert the raw json into a map of presets","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Marcus Soh"},"content":"    if (rawRepoPresets) {","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Marcus Soh"},"content":"      try {","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Marcus Soh"},"content":"        const mapArray \u003d JSON.parse(rawRepoPresets);","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Marcus Soh"},"content":"        const unTypedMap \u003d new Map\u003cstring, any[]\u003e(mapArray); // from JSON.parse(...)","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Marcus Soh"},"content":"        const typedMap \u003d new Map\u003cstring, LocalPreset[]\u003e();","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Marcus Soh"},"content":"        unTypedMap.forEach((arrayOfObjs, key) \u003d\u003e {","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Marcus Soh"},"content":"          // Convert each object in the array into a Preset","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"Marcus Soh"},"content":"          const presetArr \u003d arrayOfObjs.map((obj) \u003d\u003e LocalPreset.fromObject(obj));","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"Marcus Soh"},"content":"          typedMap.set(key, presetArr);","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"Marcus Soh"},"content":"        });","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"Marcus Soh"},"content":"        this.savedPresets \u003d typedMap;","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"Marcus Soh"},"content":"      } catch (e) {","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"Marcus Soh"},"content":"        // present an alert to the user that their presets are corrupted and delete them","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"Marcus Soh"},"content":"        errorHandlingService.handleError(e);","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"Marcus Soh"},"content":"        window.localStorage.removeItem(PresetsService.KEY_NAME);","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"Marcus Soh"},"content":"        this.savedPresets \u003d new Map\u003cstring, LocalPreset[]\u003e();","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"Marcus Soh"},"content":"      }","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"Marcus Soh"},"content":"    } else {","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"Marcus Soh"},"content":"      this.savedPresets \u003d new Map\u003cstring, LocalPreset[]\u003e();","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"Marcus Soh"},"content":"    // convert the global presets into an array of presets","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"Marcus Soh"},"content":"    if (rawGlobalPresets) {","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"Marcus Soh"},"content":"      try {","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"Marcus Soh"},"content":"        const globalPresets \u003d JSON.parse(rawGlobalPresets).map((obj) \u003d\u003e GlobalPreset.fromObject(obj));","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"Marcus Soh"},"content":"        this.globalPresets$.next(globalPresets);","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"Marcus Soh"},"content":"      } catch (e) {","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"Marcus Soh"},"content":"        errorHandlingService.handleError(e);","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"Marcus Soh"},"content":"        window.localStorage.removeItem(PresetsService.GLOBAL_NAME);","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"Marcus Soh"},"content":"        this.globalPresets$.next([]);","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"Marcus Soh"},"content":"      }","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"Marcus Soh"},"content":"    } else {","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"Marcus Soh"},"content":"      this.globalPresets$.next([]);","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"Marcus Soh"},"content":"    this.logger.info(`PresetsService: Loaded presets from local storage`, this.savedPresets);","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"Marcus Soh"},"content":"    // Initialize subscription to filters to check if this is a global preset or a local preset","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"Marcus Soh"},"content":"    this.filter.filter$.subscribe((filter) \u003d\u003e {","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"Marcus Soh"},"content":"      // check to see if it\u0027s a local preset first","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"Marcus Soh"},"content":"      const localPreset \u003d this.availablePresets$.value.find(","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"Marcus Soh"},"content":"        (p) \u003d\u003e FiltersService.isPartOfPreset(filter, p) \u0026\u0026 this.groupingContextService.currGroupBy \u003d\u003d\u003d p.groupBy","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"Marcus Soh"},"content":"      );","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"Marcus Soh"},"content":"      if (localPreset) {","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"Marcus Soh"},"content":"        this.logger.info(`PresetsService: Found a matching local preset from a change in filters`, localPreset);","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"Marcus Soh"},"content":"        this.currentPreset \u003d localPreset;","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"Marcus Soh"},"content":"        return;","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"Marcus Soh"},"content":"      }","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"Marcus Soh"},"content":"      const globalPreset \u003d this.globalPresets$.value.find(","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"Marcus Soh"},"content":"        (p) \u003d\u003e FiltersService.isPartOfPreset(filter, p) \u0026\u0026 this.groupingContextService.currGroupBy \u003d\u003d\u003d p.groupBy","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"Marcus Soh"},"content":"      );","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"Marcus Soh"},"content":"      if (globalPreset) {","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"Marcus Soh"},"content":"        this.logger.info(`PresetsService: Found a matching global preset from a change in filters`, globalPreset);","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"Marcus Soh"},"content":"        this.currentPreset \u003d globalPreset;","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"Marcus Soh"},"content":"        return;","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"Marcus Soh"},"content":"      }","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"Marcus Soh"},"content":"      // No matching preset","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"Marcus Soh"},"content":"      this.currentPreset \u003d undefined;","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"Marcus Soh"},"content":"    });","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"Marcus Soh"},"content":"   * Load any saved filters from the given repository, if the key exists.","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"Marcus Soh"},"content":"   * If the key doesn\u0027t exist, do nothing.","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"Marcus Soh"},"content":"   * @param repo","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"Marcus Soh"},"content":"  loadSavedPresets(repo: Repo) {","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"Marcus Soh"},"content":"    const repoKey \u003d repo.toString();","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"Marcus Soh"},"content":"    this.availablePresets$.next(this.getSavedPresetsForCurrentRepo(repo));","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"Marcus Soh"},"content":"    this.logger.info(`PresetsService: Loaded ${this.availablePresets$.value.length} presets for ${repoKey}`);","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"Marcus Soh"},"content":"  getSavedPresetsForCurrentRepo(repo: Repo): LocalPreset[] {","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"Marcus Soh"},"content":"    // concat global presets with repo-specific presets","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"Marcus Soh"},"content":"    const repoPresets \u003d this.savedPresets.get(repo.toString()) || [];","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"Marcus Soh"},"content":"    return repoPresets;","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"Marcus Soh"},"content":"   *","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"Marcus Soh"},"content":"   * @param repo The repo this preset is for. TODO: Do we want to just reference the repo object?","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"Marcus Soh"},"content":"   * @param preset The preset to save. TODO: Do we want to just reference the filter object?","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"Marcus Soh"},"content":"  public savePreset(","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"Marcus Soh"},"content":"    repo: Repo,","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"Marcus Soh"},"content":"    groupBy: GroupBy,","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"Marcus Soh"},"content":"    data: {","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"Marcus Soh"},"content":"      label: string;","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"Marcus Soh"},"content":"      isGlobal: boolean;","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"Marcus Soh"},"content":"  ): EitherOrPreset {","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"Marcus Soh"},"content":"    const repoKey \u003d repo.toString();","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"Marcus Soh"},"content":"    const { label, isGlobal } \u003d data;","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"Marcus Soh"},"content":"    const filter: Filter \u003d { ...this.filter.filter$.value };","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"Marcus Soh"},"content":"    // For Global Presets, we save them under the \"global\" key.","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"Marcus Soh"},"content":"    if (isGlobal) {","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"Marcus Soh"},"content":"      const preset \u003d new GlobalPreset({ repo, filter, label, id: Date.now().toString(), groupBy });","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"Marcus Soh"},"content":"      const existingGlobalPresets \u003d this.globalPresets$.value;","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"Marcus Soh"},"content":"      const globalPresets \u003d [...existingGlobalPresets, preset];","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"Marcus Soh"},"content":"      // this.savedPresets.set(\u0027global\u0027, globalPresets); // update the existing presets","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"Marcus Soh"},"content":"      this.logger.info(`PresetsService: Saved global preset`, { preset });","isFullCredit":false},{"lineNumber":146,"author":{"gitId":"Marcus Soh"},"content":"      this.globalPresets$.next(globalPresets);","isFullCredit":false},{"lineNumber":147,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":148,"author":{"gitId":"Marcus Soh"},"content":"      this.writeSavedPresets();","isFullCredit":false},{"lineNumber":149,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":150,"author":{"gitId":"Marcus Soh"},"content":"      // this.changeToPreset(preset);","isFullCredit":false},{"lineNumber":151,"author":{"gitId":"Marcus Soh"},"content":"      return preset;","isFullCredit":false},{"lineNumber":152,"author":{"gitId":"Marcus Soh"},"content":"    } else {","isFullCredit":false},{"lineNumber":153,"author":{"gitId":"Marcus Soh"},"content":"      const presets \u003d this.savedPresets.get(repoKey) || [];","isFullCredit":false},{"lineNumber":154,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":155,"author":{"gitId":"Marcus Soh"},"content":"      const preset \u003d new LocalPreset({ repo, filter, label, id: Date.now().toString(), groupBy });","isFullCredit":false},{"lineNumber":156,"author":{"gitId":"Marcus Soh"},"content":"      presets.push(preset);","isFullCredit":false},{"lineNumber":157,"author":{"gitId":"Marcus Soh"},"content":"      this.savedPresets.set(repoKey, presets); // update the existing presets","isFullCredit":false},{"lineNumber":158,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":159,"author":{"gitId":"Marcus Soh"},"content":"      this.logger.info(`PresetsService: Saved preset for ${repoKey}`);","isFullCredit":false},{"lineNumber":160,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":161,"author":{"gitId":"Marcus Soh"},"content":"      this.availablePresets$.next(presets);","isFullCredit":false},{"lineNumber":162,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":163,"author":{"gitId":"Marcus Soh"},"content":"      this.writeSavedPresets();","isFullCredit":false},{"lineNumber":164,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":165,"author":{"gitId":"Marcus Soh"},"content":"      // this.changeToPreset(preset);","isFullCredit":false},{"lineNumber":166,"author":{"gitId":"Marcus Soh"},"content":"      return preset;","isFullCredit":false},{"lineNumber":167,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":168,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":169,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":170,"author":{"gitId":"Marcus Soh"},"content":"  /**","isFullCredit":false},{"lineNumber":171,"author":{"gitId":"Marcus Soh"},"content":"   * Saves the current presets (held in savedPresets) to localStorage.","isFullCredit":false},{"lineNumber":172,"author":{"gitId":"Marcus Soh"},"content":"   */","isFullCredit":false},{"lineNumber":173,"author":{"gitId":"Marcus Soh"},"content":"  private writeSavedPresets() {","isFullCredit":false},{"lineNumber":174,"author":{"gitId":"Marcus Soh"},"content":"    this.logger.info(`PresetsService: Saved to local storage`, this.savedPresets);","isFullCredit":false},{"lineNumber":175,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":176,"author":{"gitId":"Marcus Soh"},"content":"    const stringifiedPresets \u003d JSON.stringify(Array.from(this.savedPresets.entries()), (key, value) \u003d\u003e","isFullCredit":false},{"lineNumber":177,"author":{"gitId":"Marcus Soh"},"content":"      value instanceof Set ? Array.from(value) : value","isFullCredit":false},{"lineNumber":178,"author":{"gitId":"Marcus Soh"},"content":"    );","isFullCredit":false},{"lineNumber":179,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":180,"author":{"gitId":"Marcus Soh"},"content":"    window.localStorage.setItem(PresetsService.KEY_NAME, stringifiedPresets);","isFullCredit":false},{"lineNumber":181,"author":{"gitId":"Marcus Soh"},"content":"    window.localStorage.setItem(PresetsService.GLOBAL_NAME, JSON.stringify(this.globalPresets$.value));","isFullCredit":false},{"lineNumber":182,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":183,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":184,"author":{"gitId":"Marcus Soh"},"content":"  public getPresetById(repo: Repo, id: string): EitherOrPreset | undefined {","isFullCredit":false},{"lineNumber":185,"author":{"gitId":"Marcus Soh"},"content":"    const presets \u003d this.savedPresets.get(repo.toString()) || [];","isFullCredit":false},{"lineNumber":186,"author":{"gitId":"Marcus Soh"},"content":"    return presets.find((p) \u003d\u003e p.id \u003d\u003d\u003d id);","isFullCredit":false},{"lineNumber":187,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":188,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":189,"author":{"gitId":"Marcus Soh"},"content":"  public changeToPreset(preset: EitherOrPreset) {","isFullCredit":false},{"lineNumber":190,"author":{"gitId":"Marcus Soh"},"content":"    // TODO: move PresetViews to this service","isFullCredit":false},{"lineNumber":191,"author":{"gitId":"Marcus Soh"},"content":"    this.filter.updatePresetView(\u0027custom\u0027);","isFullCredit":false},{"lineNumber":192,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":193,"author":{"gitId":"Marcus Soh"},"content":"    // if (preset.isGlobal) {","isFullCredit":false},{"lineNumber":194,"author":{"gitId":"Marcus Soh"},"content":"    //   // delete the repo-specific filters","isFullCredit":false},{"lineNumber":195,"author":{"gitId":"Marcus Soh"},"content":"    //   delete preset.filter.milestones;","isFullCredit":false},{"lineNumber":196,"author":{"gitId":"Marcus Soh"},"content":"    //   delete preset.filter.assignees;","isFullCredit":false},{"lineNumber":197,"author":{"gitId":"Marcus Soh"},"content":"    //   delete preset.filter.labels;","isFullCredit":false},{"lineNumber":198,"author":{"gitId":"Marcus Soh"},"content":"    //   delete preset.filter.hiddenLabels;","isFullCredit":false},{"lineNumber":199,"author":{"gitId":"Marcus Soh"},"content":"    // }","isFullCredit":false},{"lineNumber":200,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":201,"author":{"gitId":"Marcus Soh"},"content":"    // copy the filter into a new object so it is not a refernnce","isFullCredit":false},{"lineNumber":202,"author":{"gitId":"Marcus Soh"},"content":"    const newFilter \u003d FiltersService.createDeepCopy(preset.filter);","isFullCredit":false},{"lineNumber":203,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":204,"author":{"gitId":"Marcus Soh"},"content":"    this.logger.info(`PresetsService: Changing to preset`, preset);","isFullCredit":false},{"lineNumber":205,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":206,"author":{"gitId":"Marcus Soh"},"content":"    this.filter.updateFilters(newFilter);","isFullCredit":false},{"lineNumber":207,"author":{"gitId":"Marcus Soh"},"content":"    this.groupingContextService.setCurrentGroupingType(preset.groupBy);","isFullCredit":false},{"lineNumber":208,"author":{"gitId":"Marcus Soh"},"content":"    this.currentPreset \u003d preset;","isFullCredit":false},{"lineNumber":209,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":210,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":211,"author":{"gitId":"Marcus Soh"},"content":"  public deletePreset(preset: EitherOrPreset) {","isFullCredit":false},{"lineNumber":212,"author":{"gitId":"Marcus Soh"},"content":"    if (preset instanceof GlobalPreset) {","isFullCredit":false},{"lineNumber":213,"author":{"gitId":"Marcus Soh"},"content":"      const globalPresets \u003d this.globalPresets$.value;","isFullCredit":false},{"lineNumber":214,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":215,"author":{"gitId":"Marcus Soh"},"content":"      const newPresets \u003d globalPresets.filter((p) \u003d\u003e p.id !\u003d\u003d preset.id);","isFullCredit":false},{"lineNumber":216,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":217,"author":{"gitId":"Marcus Soh"},"content":"      this.globalPresets$.next(newPresets);","isFullCredit":false},{"lineNumber":218,"author":{"gitId":"Marcus Soh"},"content":"    } else {","isFullCredit":false},{"lineNumber":219,"author":{"gitId":"Marcus Soh"},"content":"      const repoKey \u003d preset.repo.toString();","isFullCredit":false},{"lineNumber":220,"author":{"gitId":"Marcus Soh"},"content":"      const presets \u003d this.savedPresets.get(repoKey) || [];","isFullCredit":false},{"lineNumber":221,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":222,"author":{"gitId":"Marcus Soh"},"content":"      const newPresets \u003d presets.filter((p) \u003d\u003e p.id !\u003d\u003d preset.id);","isFullCredit":false},{"lineNumber":223,"author":{"gitId":"Marcus Soh"},"content":"      this.savedPresets.set(repoKey, newPresets);","isFullCredit":false},{"lineNumber":224,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":225,"author":{"gitId":"Marcus Soh"},"content":"      this.availablePresets$.next(newPresets);","isFullCredit":false},{"lineNumber":226,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":227,"author":{"gitId":"Marcus Soh"},"content":"    this.currentPreset \u003d undefined;","isFullCredit":false},{"lineNumber":228,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":229,"author":{"gitId":"Marcus Soh"},"content":"    this.writeSavedPresets();","isFullCredit":false},{"lineNumber":230,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":231,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":231}},{"path":"src/app/core/services/repo-url-cache.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { AbstractControl } from \u0027@angular/forms\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Observable } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { map, startWith } from \u0027rxjs/operators\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"@Injectable({","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"export class RepoUrlCacheService {","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"  static readonly KEY_NAME \u003d \u0027suggestions\u0027;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"  suggestions: string[];","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  constructor() {","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"    this.suggestions \u003d JSON.parse(window.localStorage.getItem(RepoUrlCacheService.KEY_NAME)) || [];","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"  cache(repo: string): void {","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"    // Update autofill repository URL suggestions in localStorage","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"    if (!this.suggestions.includes(repo)) {","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"      this.suggestions.push(repo);","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"      window.localStorage.setItem(RepoUrlCacheService.KEY_NAME, JSON.stringify(this.suggestions));","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"tng wen xi"},"content":"  removeFromSuggestions(repo: string): void {","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Marcus Soh"},"content":"    this.suggestions \u003d this.suggestions.filter((r) \u003d\u003e r !\u003d\u003d repo);","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"tng wen xi"},"content":"    window.localStorage.setItem(RepoUrlCacheService.KEY_NAME, JSON.stringify(this.suggestions));","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"tng wen xi"},"content":"  }","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"tng wen xi"},"content":"","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  getFilteredSuggestions(control: AbstractControl): Observable\u003cstring[]\u003e {","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"    // Ref: https://v10.material.angular.io/components/autocomplete/overview","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"    return control.valueChanges.pipe(","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"      startWith(\u0027\u0027),","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"      map((value) \u003d\u003e this.suggestions.filter((suggestion) \u003d\u003e suggestion.toLowerCase().includes(value.toLowerCase())))","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"    );","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":1,"tng wen xi":4,"-":33}},{"path":"src/app/core/services/view.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { ActivatedRoute, Router } from \u0027@angular/router\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { BehaviorSubject, Observable, of, Subject } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { map } from \u0027rxjs/operators\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { STORAGE_KEYS } from \u0027../constants/storage-keys.constants\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { Repo } from \u0027../models/repo.model\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { SessionData } from \u0027../models/session.model\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { View } from \u0027../models/view.model\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { ErrorMessageService } from \u0027./error-message.service\u0027;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027./github.service\u0027;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027./logging.service\u0027;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"import { PresetsService } from \u0027./presets.services\u0027;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { RepoUrlCacheService } from \u0027./repo-url-cache.service\u0027;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"export const SESSION_AVALIABILITY_FIX_FAILED \u003d \u0027Session Availability Fix failed.\u0027;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":" * The title of each view that appears in the header bar.","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"export const ViewDescription \u003d {","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"  [View.issuesViewer]: \u0027Issues Dashboard\u0027,","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"  [View.activityDashboard]: \u0027Activity Dashboard\u0027","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"};","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":" * All data of the session.","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":" * Add accessible views here.","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"export const STARTING_SESSION_DATA: SessionData \u003d {","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"  sessionRepo: [","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"    { view: View.issuesViewer, repos: [] }","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"    // { view: View.activityDashboard, repos: [] }","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"  ]","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"};","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"export const STARTING_VIEW \u003d View.issuesViewer;","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"@Injectable({","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":" * Responsible for managing the current selected feature of WATcher as well as the","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":" * current session data and repository details related to the session.","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"export class ViewService {","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"  public static readonly REPO_QUERY_PARAM_KEY \u003d \u0027repo\u0027;","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"  public currentView: View \u003d STARTING_VIEW;","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"  public currentRepo: Repo; // current or main repository of current view","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"  public otherRepos: Repo[]; // more repositories relevant to this view","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"  repoSetSource \u003d new BehaviorSubject(false);","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"  repoSetState \u003d this.repoSetSource.asObservable();","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"   * Expose an observable to track changes to currentRepo","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"   *","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"   * TODO - replace all references to currentRepo to have","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"   * dependencies subscribe to this observable?","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"  public repoChanged$: Subject\u003cRepo | null\u003e \u003d new Subject();","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"  /** Whether the ViewService is changing the repository */","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"  public isChangingRepo \u003d new BehaviorSubject\u003cboolean\u003e(false);","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"  public sessionData \u003d STARTING_SESSION_DATA; // stores session data for the session","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"  constructor(","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"    private githubService: GithubService,","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"    private repoUrlCacheService: RepoUrlCacheService,","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"Marcus Soh"},"content":"    private presetsService: PresetsService,","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"    public logger: LoggingService,","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"    private route: ActivatedRoute,","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"    private router: Router","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"  ) {}","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"   * Sets the current main repository and additional repos if any.","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"   * Updates session data in View Service and local storage.","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"   * Updates Github Service with current repository.","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"   * @param repo Main current repository","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"   * @param repos Additional repositories","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"  setRepository(repo: Repo, repos?: Repo[]): void {","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"    this.currentRepo \u003d repo;","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"    this.otherRepos \u003d repos ? repos : [];","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"    this.sessionData.sessionRepo.find((x) \u003d\u003e x.view \u003d\u003d\u003d this.currentView).repos \u003d this.getRepository();","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"    this.githubService.storeViewDetails(this.currentRepo.owner, this.currentRepo.name);","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"    localStorage.setItem(\u0027sessionData\u0027, JSON.stringify(this.sessionData));","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"    this.router.navigate([\u0027issuesViewer\u0027], {","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"      queryParams: {","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"        [ViewService.REPO_QUERY_PARAM_KEY]: repo.toString()","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"      },","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"      queryParamsHandling: \u0027merge\u0027","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"Marcus Soh"},"content":"    this.presetsService.loadSavedPresets(repo);","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"   * Changes current respository to a new repository.","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"   * @param repo New current repository","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"  private changeCurrentRepository(repo: Repo): void {","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"    this.logger.info(`ViewService: Changing current repository to \u0027${repo}\u0027`);","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"    if (this.currentView \u003d\u003d\u003d View.issuesViewer) {","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"      /** Adds past repositories to view */","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"      (this.otherRepos || []).push(this.currentRepo);","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"    if (!repo.equals(this.currentRepo)) {","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"      this.setRepository(repo, this.otherRepos);","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"      this.repoChanged$.next(repo);","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"    this.repoUrlCacheService.cache(repo.toString());","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"   * Verifies if the organisation and repository are present on GitHub.","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":"   * @param org Organisation name","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":"   * @param repo Repository name","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"   * @returns Promise that resolves to true if the organisation and repository are present.","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"   * @throws Error if the organisation or repository are not present.","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"  async verifyOwnerAndRepo(owner: string, repo: string): Promise\u003cboolean\u003e {","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"-"},"content":"    const isValidOwner \u003d","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"      (await this.githubService.isOrganisationPresent(owner).toPromise()) ||","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"-"},"content":"      (await this.githubService.isUsernamePresent(owner).toPromise());","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"-"},"content":"    if (!isValidOwner) {","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"-"},"content":"      this.isChangingRepo.next(false);","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"-"},"content":"      throw new Error(ErrorMessageService.repoOwnerNotPresentMessage());","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"-"},"content":"    const isValidRepository \u003d await this.githubService.isRepositoryPresent(owner, repo).toPromise();","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"-"},"content":"    if (!isValidRepository) {","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"-"},"content":"      this.isChangingRepo.next(false);","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"tng wen xi"},"content":"      this.repoUrlCacheService.removeFromSuggestions(owner + \u0027/\u0027 + repo);","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"-"},"content":"      throw new Error(ErrorMessageService.repositoryNotPresentMessage());","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"-"},"content":"    return true;","isFullCredit":false},{"lineNumber":146,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":147,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":148,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":149,"author":{"gitId":"-"},"content":"   * Change repository if a valid repository is provided","isFullCredit":false},{"lineNumber":150,"author":{"gitId":"-"},"content":"   * @param repo New repository","isFullCredit":false},{"lineNumber":151,"author":{"gitId":"-"},"content":"   * @throws Error if the repository is not valid","isFullCredit":false},{"lineNumber":152,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":153,"author":{"gitId":"-"},"content":"  async changeRepositoryIfValid(repo: Repo) {","isFullCredit":false},{"lineNumber":154,"author":{"gitId":"-"},"content":"    this.isChangingRepo.next(true);","isFullCredit":false},{"lineNumber":155,"author":{"gitId":"-"},"content":"    await this.verifyOwnerAndRepo(repo.owner, repo.name);","isFullCredit":false},{"lineNumber":156,"author":{"gitId":"-"},"content":"    this.changeCurrentRepository(repo);","isFullCredit":false},{"lineNumber":157,"author":{"gitId":"-"},"content":"    this.isChangingRepo.next(false);","isFullCredit":false},{"lineNumber":158,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":159,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":160,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":161,"author":{"gitId":"-"},"content":"   * Returns the full repository array of the current feature.","isFullCredit":false},{"lineNumber":162,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":163,"author":{"gitId":"-"},"content":"  getRepository(): Repo[] {","isFullCredit":false},{"lineNumber":164,"author":{"gitId":"-"},"content":"    return [this.currentRepo].concat(this.otherRepos);","isFullCredit":false},{"lineNumber":165,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":166,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":167,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":168,"author":{"gitId":"-"},"content":"   * Retrieves the repository url from local storage and sets to current repository.","isFullCredit":false},{"lineNumber":169,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":170,"author":{"gitId":"-"},"content":"  async initializeCurrentRepository() {","isFullCredit":false},{"lineNumber":171,"author":{"gitId":"-"},"content":"    const org \u003d window.localStorage.getItem(STORAGE_KEYS.ORG);","isFullCredit":false},{"lineNumber":172,"author":{"gitId":"-"},"content":"    const repoName \u003d window.localStorage.getItem(STORAGE_KEYS.DATA_REPO);","isFullCredit":false},{"lineNumber":173,"author":{"gitId":"-"},"content":"    this.logger.info(`ViewService: received initial org (${org}) and initial name (${repoName})`);","isFullCredit":false},{"lineNumber":174,"author":{"gitId":"-"},"content":"    let repo: Repo;","isFullCredit":false},{"lineNumber":175,"author":{"gitId":"-"},"content":"    if (!org || !repoName) {","isFullCredit":false},{"lineNumber":176,"author":{"gitId":"-"},"content":"      repo \u003d Repo.ofEmptyRepo();","isFullCredit":false},{"lineNumber":177,"author":{"gitId":"-"},"content":"    } else {","isFullCredit":false},{"lineNumber":178,"author":{"gitId":"-"},"content":"      repo \u003d new Repo(org, repoName);","isFullCredit":false},{"lineNumber":179,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":180,"author":{"gitId":"-"},"content":"    await this.verifyOwnerAndRepo(repo.owner, repo.name);","isFullCredit":false},{"lineNumber":181,"author":{"gitId":"-"},"content":"    this.logger.info(`ViewService: Repo is ${repo}`);","isFullCredit":false},{"lineNumber":182,"author":{"gitId":"-"},"content":"    this.setRepository(repo);","isFullCredit":false},{"lineNumber":183,"author":{"gitId":"-"},"content":"    this.repoSetSource.next(true);","isFullCredit":false},{"lineNumber":184,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":185,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":186,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":187,"author":{"gitId":"-"},"content":"   * Set items in the local storage corresponding to the next URL.","isFullCredit":false},{"lineNumber":188,"author":{"gitId":"-"},"content":"   * This includes checking if the view is valid, and if the repo is of the correct format.","isFullCredit":false},{"lineNumber":189,"author":{"gitId":"-"},"content":"   * @param url The partial URL without the host, e.g. `/issuesViewer?repo\u003dCATcher%2FWATcher.","isFullCredit":false},{"lineNumber":190,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":191,"author":{"gitId":"-"},"content":"  setupFromUrl(url: string): Observable\u003cvoid\u003e {","isFullCredit":false},{"lineNumber":192,"author":{"gitId":"-"},"content":"    return of(this.getViewAndRepoFromUrl(url)).pipe(","isFullCredit":false},{"lineNumber":193,"author":{"gitId":"-"},"content":"      map(([viewName, repoName]) \u003d\u003e {","isFullCredit":false},{"lineNumber":194,"author":{"gitId":"-"},"content":"        if (!this.isViewAllowed(viewName)) {","isFullCredit":false},{"lineNumber":195,"author":{"gitId":"-"},"content":"          throw new Error(ErrorMessageService.invalidUrlMessage());","isFullCredit":false},{"lineNumber":196,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":197,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":198,"author":{"gitId":"-"},"content":"        if (repoName \u003d\u003d\u003d null) {","isFullCredit":false},{"lineNumber":199,"author":{"gitId":"-"},"content":"          throw new Error(ErrorMessageService.invalidUrlMessage());","isFullCredit":false},{"lineNumber":200,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":201,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":202,"author":{"gitId":"-"},"content":"        const newRepo \u003d Repo.of(repoName);","isFullCredit":false},{"lineNumber":203,"author":{"gitId":"-"},"content":"        if (newRepo) {","isFullCredit":false},{"lineNumber":204,"author":{"gitId":"-"},"content":"          window.localStorage.setItem(STORAGE_KEYS.ORG, newRepo.owner);","isFullCredit":false},{"lineNumber":205,"author":{"gitId":"-"},"content":"          window.localStorage.setItem(STORAGE_KEYS.DATA_REPO, newRepo.name);","isFullCredit":false},{"lineNumber":206,"author":{"gitId":"-"},"content":"          this.repoUrlCacheService.cache(newRepo.toString());","isFullCredit":false},{"lineNumber":207,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":208,"author":{"gitId":"-"},"content":"      })","isFullCredit":false},{"lineNumber":209,"author":{"gitId":"-"},"content":"    );","isFullCredit":false},{"lineNumber":210,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":211,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":212,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":213,"author":{"gitId":"-"},"content":"   * Initializes a repo based on the URL parameters and changes the repo if valid.","isFullCredit":false},{"lineNumber":214,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":215,"author":{"gitId":"-"},"content":"  initializeRepoFromUrlParams(): void {","isFullCredit":false},{"lineNumber":216,"author":{"gitId":"-"},"content":"    const repoParams \u003d this.route.snapshot.queryParamMap.get(ViewService.REPO_QUERY_PARAM_KEY);","isFullCredit":false},{"lineNumber":217,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":218,"author":{"gitId":"-"},"content":"    const newRepo \u003d Repo.of(repoParams);","isFullCredit":false},{"lineNumber":219,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":220,"author":{"gitId":"-"},"content":"    this.changeRepositoryIfValid(newRepo);","isFullCredit":false},{"lineNumber":221,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":222,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":223,"author":{"gitId":"-"},"content":"  getViewAndRepoFromUrl(url: string): [string, string] {","isFullCredit":false},{"lineNumber":224,"author":{"gitId":"-"},"content":"    const urlObject \u003d new URL(`${location.protocol}//${location.host}${url}`);","isFullCredit":false},{"lineNumber":225,"author":{"gitId":"-"},"content":"    const pathname \u003d urlObject.pathname;","isFullCredit":false},{"lineNumber":226,"author":{"gitId":"-"},"content":"    const reponame \u003d urlObject.searchParams.get(ViewService.REPO_QUERY_PARAM_KEY);","isFullCredit":false},{"lineNumber":227,"author":{"gitId":"-"},"content":"    return [pathname, reponame];","isFullCredit":false},{"lineNumber":228,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":229,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":230,"author":{"gitId":"-"},"content":"  isViewAllowed(viewName: string) {","isFullCredit":false},{"lineNumber":231,"author":{"gitId":"-"},"content":"    return viewName \u003d\u003d\u003d \u0027/\u0027 + View.issuesViewer;","isFullCredit":false},{"lineNumber":232,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":233,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":234,"author":{"gitId":"-"},"content":"  isRepoSet(): boolean {","isFullCredit":false},{"lineNumber":235,"author":{"gitId":"-"},"content":"    return this.repoSetSource.getValue();","isFullCredit":false},{"lineNumber":236,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":237,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":238,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":239,"author":{"gitId":"-"},"content":"   * Changes view and updates View Service\u0027s properties.","isFullCredit":false},{"lineNumber":240,"author":{"gitId":"-"},"content":"   * @param view New view","isFullCredit":false},{"lineNumber":241,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":242,"author":{"gitId":"-"},"content":"  changeView(view: View) {","isFullCredit":false},{"lineNumber":243,"author":{"gitId":"-"},"content":"    this.currentView \u003d view;","isFullCredit":false},{"lineNumber":244,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":245,"author":{"gitId":"-"},"content":"    // For now, assumes repository stays the same","isFullCredit":false},{"lineNumber":246,"author":{"gitId":"-"},"content":"    this.githubService.storeViewDetails(this.currentRepo.owner, this.currentRepo.name);","isFullCredit":false},{"lineNumber":247,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":248,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":249,"author":{"gitId":"-"},"content":"  public getCurrentRepositoryURL() {","isFullCredit":false},{"lineNumber":250,"author":{"gitId":"-"},"content":"    return this.currentRepo.owner.concat(\u0027/\u0027).concat(this.currentRepo.name);","isFullCredit":false},{"lineNumber":251,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":252,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":253,"author":{"gitId":"-"},"content":"  reset() {","isFullCredit":false},{"lineNumber":254,"author":{"gitId":"-"},"content":"    this.currentView \u003d STARTING_VIEW;","isFullCredit":false},{"lineNumber":255,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":256,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":6,"tng wen xi":1,"-":249}},{"path":"src/app/issues-viewer/card-view/card-view.component.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":".card-column {","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"  margin: 8px;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"tng wen xi"},"content":"  height: 100%;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"  flex-direction: column;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":".card {","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"  margin: 8px 0px 8px 0px;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":".mat-card-title {","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  font-size: 12px;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  text-align: center;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"  overflow: auto;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"  word-break: break-word;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":".column-header .mat-card-title {","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"  font-size: 14px;","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":".mat-card {","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"  padding: 10px;","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":":host ::ng-deep div.mat-card-header-text {","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"  margin: 2px;","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"div.column-header .mat-card-title {","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"  justify-content: center;","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"  margin: 0;","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"div.column-header {","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"  justify-content: center;","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"  position: relative;","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  z-index: 5;","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"div.column-header .mat-card-header {","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"  justify-content: center;","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":".scrollable-container {","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"  margin-bottom: 2px;","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"  position: relative;","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"/* Ref: https://lea.verou.me/blog/2012/04/background-attachment-local/ */","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":".scroll-shadow {","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"  background:","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"    /* Shadow covers */ linear-gradient(white 30%, rgba(255, 255, 255, 0)),","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"    linear-gradient(rgba(255, 255, 255, 0), white 70%) 0 100%,","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"    /* Shadows */ radial-gradient(50% 0, farthest-side, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0)),","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"    radial-gradient(50% 100%, farthest-side, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0)) 0 100%;","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"  background:","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"    /* Shadow covers */ linear-gradient(white 30%, rgba(255, 255, 255, 0)),","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"    linear-gradient(rgba(255, 255, 255, 0), white 70%) 0 100%,","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"    /* Shadows */ radial-gradient(farthest-side at 50% 0, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0)),","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"    radial-gradient(farthest-side at 50% 100%, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0)) 0 100%;","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"  background-repeat: no-repeat;","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"  background-color: white;","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"  background-size: 100% 40px, 100% 40px, 100% 14px, 100% 14px;","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"  /* Opera doesn\u0027t support this in the shorthand */","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"  background-attachment: local, local, scroll, scroll;","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":".scrollable-container::before {","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"  pointer-events: none;","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"  content: \u0027\u0027;","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"  position: absolute;","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"  z-index: 2;","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"  height: 6px;","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"  width: 100%;","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"  display: block;","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"  background-image: linear-gradient(to bottom, white 66%, transparent);","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":".scrollable-container::after {","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"  pointer-events: none;","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"  content: \u0027\u0027;","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"  position: sticky;","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"  z-index: 2;","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"  top: 100%;","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"  height: 6px;","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"  width: 100%;","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"  display: block;","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"  background-image: linear-gradient(to top, white 66%, transparent);","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":".scrollable-container-wrapper {","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"  position: relative;","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"  scrollbar-width: none;","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"  overflow: auto;","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"  flex-grow: 1;","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":".scrollable-container-wrapper::-webkit-scrollbar {","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"  display: none;","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":".loading-spinner {","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"  justify-content: center;","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":".mat-card-subtitle {","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"  font-size: 11px;","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"  text-align: left;","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"  overflow: auto;","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"  margin: 6px 0;","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":".row-count {","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":"  background-color: rgb(222, 222, 222);","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"  border-radius: 3px;","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"  cursor: default;","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"  padding: 6px;","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"  color: rgb(0, 0, 0);","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"-"},"content":"  font-weight: 410;","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"  display: inline-flex;","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"-"},"content":"  font-size: 14px;","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"-"},"content":":host ::ng-deep .pagination-hide-arrow .mat-paginator-navigation-previous {","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"-"},"content":"  display: none !important;","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"-"},"content":":host ::ng-deep .pagination-hide-arrow .mat-paginator-navigation-next {","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"-"},"content":"  display: none !important;","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"-"},"content":":host ::ng-deep .pagination-hide-arrow .mat-paginator-range-actions {","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"-"},"content":"  display: none !important;","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"tng wen xi":1,"-":144}},{"path":"src/app/issues-viewer/card-view/card-view.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import {","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"  AfterViewInit,","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"  Component,","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"  ElementRef,","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"  EventEmitter,","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"  Input,","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"  OnDestroy,","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"  OnInit,","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"  Output,","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"  TemplateRef,","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"  ViewChild","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"} from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { MatPaginator } from \u0027@angular/material/paginator\u0027;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { Observable, Subscription } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { Group } from \u0027../../core/models/github/group.interface\u0027;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"import { Issue } from \u0027../../core/models/issue.model\u0027;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"import { AssigneeService } from \u0027../../core/services/assignee.service\u0027;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"import { FiltersService } from \u0027../../core/services/filters.service\u0027;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"import { GroupBy, GroupingContextService } from \u0027../../core/services/grouping/grouping-context.service\u0027;","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../core/services/issue.service\u0027;","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../../core/services/logging.service\u0027;","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"import { MilestoneService } from \u0027../../core/services/milestone.service\u0027;","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"import { FilterableComponent, FilterableSource } from \u0027../../shared/issue-tables/filterableTypes\u0027;","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"import { IssuesDataTable } from \u0027../../shared/issue-tables/IssuesDataTable\u0027;","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"@Component({","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"  selector: \u0027app-card-view\u0027,","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./card-view.component.html\u0027,","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./card-view.component.css\u0027]","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":" * Displays issues as Cards.","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"export class CardViewComponent implements OnInit, AfterViewInit, OnDestroy, FilterableComponent {","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"  @Input() headers: string[];","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"  @Input() group?: Group \u003d undefined;","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"  @Input() filters?: any \u003d undefined;","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027defaultHeader\u0027) defaultHeaderTemplate: TemplateRef\u003cany\u003e;","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027assigneeHeader\u0027) assigneeHeaderTemplate: TemplateRef\u003cany\u003e;","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027milestoneHeader\u0027) milestoneHeaderTemplate: TemplateRef\u003cany\u003e;","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"  issues: IssuesDataTable;","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  issues$: Observable\u003cIssue[]\u003e;","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"  private timeoutId: NodeJS.Timeout | null \u003d null;","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"  private issuesLengthSubscription: Subscription;","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"  private issuesLoadingStateSubscription: Subscription;","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"  private filterSubscription: Subscription;","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"  isLoading \u003d true;","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"  issueLength \u003d 0;","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"  pageSize \u003d 20;","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"  @Output() issueLengthChange: EventEmitter\u003cNumber\u003e \u003d new EventEmitter\u003cNumber\u003e();","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"  constructor(","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"    public element: ElementRef,","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"    public issueService: IssueService,","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"    public groupingContextService: GroupingContextService,","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"    private filtersService: FiltersService,","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"    private milestoneService: MilestoneService,","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"    private assigneeService: AssigneeService,","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"    private logger: LoggingService","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"  ) {}","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"  ngOnInit() {","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"    this.issues \u003d new IssuesDataTable(","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"      this.issueService,","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"      this.groupingContextService,","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"      this.filtersService,","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"      this.assigneeService,","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"      this.milestoneService,","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"      this.paginator,","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"      this.headers,","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"      this.group,","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"      this.filters","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"    );","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"    this.filterSubscription \u003d this.filtersService.filter$.subscribe((filter: any) \u003d\u003e {","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"      this.pageSize \u003d filter.itemsPerPage;","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"JiaXinEu"},"content":"      this.paginator._changePageSize(this.pageSize);","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"  ngAfterViewInit(): void {","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"    this.timeoutId \u003d setTimeout(() \u003d\u003e {","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"      this.issues.loadIssues();","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"      this.issues$ \u003d this.issues.connect();","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"      this.logger.debug(\u0027CardViewComponent: Issues loaded\u0027, this.issues$);","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"      // Emit event when issues change","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"      this.issuesLengthSubscription \u003d this.issues$.subscribe(() \u003d\u003e {","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"        this.issueLength \u003d this.issues.count;","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"        this.issueLengthChange.emit(this.issueLength);","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"      // Emit event when loading state changes","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"      this.issuesLoadingStateSubscription \u003d this.issues.isLoading$.subscribe((isLoadingUpdate) \u003d\u003e {","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"        this.isLoading \u003d isLoadingUpdate;","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"  getHeaderTemplate(): TemplateRef\u003cany\u003e {","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"    switch (this.groupingContextService.currGroupBy) {","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"      case GroupBy.Assignee:","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"        return this.assigneeHeaderTemplate;","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"      case GroupBy.Milestone:","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"        return this.milestoneHeaderTemplate;","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"      default:","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"        return this.defaultHeaderTemplate;","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"  ngOnDestroy(): void {","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"    if (this.timeoutId) {","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"      clearTimeout(this.timeoutId);","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":"    if (this.issues) {","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":"      this.issues.disconnect();","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"    if (this.issuesLengthSubscription) {","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"      this.issuesLengthSubscription.unsubscribe();","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"-"},"content":"    if (this.issuesLoadingStateSubscription) {","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"-"},"content":"      this.issuesLoadingStateSubscription.unsubscribe();","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"-"},"content":"  retrieveFilterable(): FilterableSource {","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"-"},"content":"    return this.issues;","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"JiaXinEu":1,"-":139}},{"path":"src/app/issues-viewer/hidden-groups/hidden-groups.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cdiv *ngIf\u003d\"groups.length \u003e 0\" class\u003d\"hidden-groups\"\u003e","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"  \u003cmat-card matTooltip\u003d\"Users that have no Issues/PRs pertaining to the current filter\" matTooltipShowDelay\u003d\"0\" matTooltipHideDelay\u003d\"0\"\u003e","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"    \u003cmat-card-title\u003eHidden {{ this.groupingContextService.currGroupBy }}s\u003c/mat-card-title\u003e","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"    \u003cdiv class\u003d\"row-count\"\u003e{{ groups.length }}\u003c/div\u003e","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"  \u003c/mat-card\u003e","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"  \u003cdiv class\u003d\"scrollable-container\"\u003e","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"    \u003cdiv *ngFor\u003d\"let group of groups\"\u003e","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"tng wen xi"},"content":"      \u003cng-container","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"tng wen xi"},"content":"        *ngIf\u003d\"currentCardTemplate$ | async as template\"","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"tng wen xi"},"content":"        [ngTemplateOutlet]\u003d\"template\"","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"tng wen xi"},"content":"        [ngTemplateOutletContext]\u003d\"{ $implicit: group }\"","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"tng wen xi"},"content":"      \u003e\u003c/ng-container\u003e","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"    \u003c/div\u003e","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  \u003c/div\u003e","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"\u003c/div\u003e","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"\u003c!-- Templates --\u003e","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"\u003cng-template #defaultCard let-group\u003e","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"  \u003cmat-card class\u003d\"loading-spinner\"\u003e","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"    \u003cmat-progress-spinner color\u003d\"primary\" mode\u003d\"indeterminate\" diameter\u003d\"50\" strokeWidth\u003d\"5\"\u003e\u003c/mat-progress-spinner\u003e","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  \u003c/mat-card\u003e","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"\u003c/ng-template\u003e","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"\u003cng-template #assigneeCard let-assignee\u003e","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"  \u003cmat-card\u003e","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"    \u003cmar-card-header class\u003d\"mat-card-header\"\u003e","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"      \u003cdiv","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"        mat-card-avatar","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"        [ngStyle]\u003d\"{","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"          background: \u0027url(\u0027 + assignee.avatar_url + \u0027)\u0027,","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"          \u0027background-size\u0027: \u002730px\u0027","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"        }\"","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"      \u003e\u003c/div\u003e","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"      \u003cmat-card-title\u003e{{ assignee.login }}\u003c/mat-card-title\u003e","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"    \u003c/mar-card-header\u003e","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"  \u003c/mat-card\u003e","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"\u003c/ng-template\u003e","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"\u003cng-template #milestoneCard let-milestone\u003e","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"  \u003cmat-card\u003e","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"    \u003cmar-card-header class\u003d\"mat-card-header\"\u003e","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"      \u003cmat-card-title\u003e{{ milestone.title }}\u003c/mat-card-title\u003e","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"    \u003c/mar-card-header\u003e","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"  \u003c/mat-card\u003e","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"\u003c/ng-template\u003e","isFullCredit":false}],"authorContributionMap":{"tng wen xi":5,"-":40}},{"path":"src/app/issues-viewer/hidden-groups/hidden-groups.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"tng wen xi"},"content":"import { AfterViewInit, Component, Input, TemplateRef, ViewChild } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"tng wen xi"},"content":"import { BehaviorSubject } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Group } from \u0027../../core/models/github/group.interface\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { GroupBy, GroupingContextService } from \u0027../../core/services/grouping/grouping-context.service\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"@Component({","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"  selector: \u0027app-hidden-groups\u0027,","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./hidden-groups.component.html\u0027,","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./hidden-groups.component.css\u0027]","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"tng wen xi"},"content":"export class HiddenGroupsComponent implements AfterViewInit {","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"  @Input() groups: Group[] \u003d [];","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027defaultCard\u0027) defaultCardTemplate: TemplateRef\u003cany\u003e;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027assigneeCard\u0027) assigneeCardTemplate: TemplateRef\u003cany\u003e;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027milestoneCard\u0027) milestoneCardTemplate: TemplateRef\u003cany\u003e;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"tng wen xi"},"content":"  private currentCardTemplate$ \u003d new BehaviorSubject\u003cTemplateRef\u003cany\u003e\u003e(null);","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"tng wen xi"},"content":"","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"  constructor(public groupingContextService: GroupingContextService) {}","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"tng wen xi"},"content":"  ngAfterViewInit() {","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"tng wen xi"},"content":"    setTimeout(() \u003d\u003e {","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"tng wen xi"},"content":"      this.currentCardTemplate$.next(this.getCardTemplate());","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"tng wen xi"},"content":"    });","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"tng wen xi"},"content":"  }","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"tng wen xi"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"  getCardTemplate(): TemplateRef\u003cany\u003e {","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"    switch (this.groupingContextService.currGroupBy) {","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"      case GroupBy.Assignee:","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"        return this.assigneeCardTemplate;","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"      case GroupBy.Milestone:","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"        return this.milestoneCardTemplate;","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"      default:","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"        return this.defaultCardTemplate;","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"tng wen xi":11,"-":27}},{"path":"src/app/issues-viewer/issues-viewer.component.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"tng wen xi"},"content":".issues-viewer {","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"tng wen xi"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"tng wen xi"},"content":"  flex-direction: column;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"tng wen xi"},"content":"  height: 100%;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"tng wen xi"},"content":"}","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"tng wen xi"},"content":"","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":".issue-table {","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"  width: 25%;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"  min-width: 200px;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"  max-width: 400px;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":".dropdown-filters .mat-form-field {","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  margin: 8px;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  font-size: 14px;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  max-width: 20%;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"  width: 25%; /* depends on number of filters*/","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":".search-bar {","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  width: 90%;","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":".dropdown-filters {","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"  width: 100%;","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":".label-filter-grid-tile {","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"  width: 100%;","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":".submit-button {","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"  margin-left: 8px;","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":".switch-repo-tile {","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"  background-color: lightblue;","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":".wrapper {","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"  overflow-x: auto;","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"  /* white-space: nowrap; */","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"tng wen xi"},"content":"  flex-grow: 1;","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":".loading-spinner {","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"  justify-content: center;","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"tng wen xi":7,"-":44}},{"path":"src/app/issues-viewer/issues-viewer.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"\u003cdiv class\u003d\"issues-viewer\" class\u003d\"issues-viewer\"\u003e","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"  \u003cdiv class\u003d\"loading-spinner\" *ngIf\u003d\"(this.viewService.isChangingRepo | async) || this.groupService.groups.length \u003d\u003d\u003d 0; else elseBlock\"\u003e","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"    \u003cmat-progress-spinner color\u003d\"primary\" mode\u003d\"indeterminate\" diameter\u003d\"50\" strokeWidth\u003d\"5\"\u003e \u003c/mat-progress-spinner\u003e","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"  \u003c/div\u003e","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"  \u003cng-template #elseBlock\u003e","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"    \u003capp-presets\u003e\u003c/app-presets\u003e","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":"    \u003capp-filter-bar [views$]\u003d\"views\" style\u003d\"flex: 0 0 auto\" style\u003d\"flex: 0 0 auto\"\u003e\u003c/app-filter-bar\u003e","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"    \u003cdiv class\u003d\"wrapper\"\u003e","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"      \u003capp-card-view","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"        *ngFor\u003d\"let group of this.groupService.groups\"","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"        class\u003d\"issue-table\"","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"        #card","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"        [ngStyle]\u003d\"{ display: card.isLoading || card.issueLength \u003e 0 ? \u0027initial\u0027 : \u0027none\u0027 }\"","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"        [group]\u003d\"group\"","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"        [headers]\u003d\"this.displayedColumns\"","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"        (issueLengthChange)\u003d\"this.groupService.updateHiddenGroups($event, group)\"","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"      \u003e\u003c/app-card-view\u003e","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"      \u003capp-hidden-groups [groups]\u003d\"this.groupService.hiddenGroups\"\u003e\u003c/app-hidden-groups\u003e","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"    \u003c/div\u003e","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"  \u003c/ng-template\u003e","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"\u003c/div\u003e","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":3,"-":20}},{"path":"src/app/issues-viewer/issues-viewer.module.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { NgModule } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { FilterBarModule } from \u0027../shared/filter-bar/filter-bar.module\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { IssuesPrCardModule } from \u0027../shared/issue-pr-card/issue-pr-card.module\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"import { PresetsModule } from \u0027../shared/presets/presets.module\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { SharedModule } from \u0027../shared/shared.module\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { CardViewComponent } from \u0027./card-view/card-view.component\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { HiddenGroupsComponent } from \u0027./hidden-groups/hidden-groups.component\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { IssuesViewerRoutingModule } from \u0027./issues-viewer-routing.module\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { IssuesViewerComponent } from \u0027./issues-viewer.component\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"@NgModule({","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Marcus Soh"},"content":"  imports: [PresetsModule, FilterBarModule, IssuesViewerRoutingModule, IssuesPrCardModule, SharedModule],","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"  declarations: [IssuesViewerComponent, CardViewComponent, HiddenGroupsComponent],","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  exports: [IssuesViewerComponent, CardViewComponent]","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"export class IssuesViewerModule {}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":2,"-":14}},{"path":"src/app/shared/filter-bar/filter-bar.component.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":".filters .mat-form-field {","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"  margin: 8px;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"  font-size: 14px;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"  max-width: 20%;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"  width: 14%; /* depends on number of filters*/","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"ul {","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"  margin: 8px;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"  padding: 0;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"  justify-content: space-between;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  list-style-type: none;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  position: relative;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  max-height: 80px;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":".menu {","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"  padding: 0 10px;","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  border-left: 1px solid #eee;","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"  display: none;","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"  cursor: pointer;","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"  @media (max-width: 1400px) {","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"    display: block;","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"    justify-items: right;","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":".filters {","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"  width: 57%;","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"  flex: 1;","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"  margin-right: 100px;","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"  @media (max-width: 1400px) {","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"    display: none;","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"    \u0026.is-open {","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"      display: block;","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"      position: absolute;","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"      width: 100%;","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"      top: 100%;","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"      z-index: 10;","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"      background-color: #ffffff;","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"Norbert"},"content":"      box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"      .filter-item {","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"        display: inline-block;","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"        margin: 8px;","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"-":54,"Norbert":1}},{"path":"src/app/shared/filter-bar/filter-bar.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"\u003cdiv style\u003d\"display: flex; flex-direction: column\"\u003e","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"  \u003cul\u003e","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"    \u003cli\u003e","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"      \u003cmat-form-field class\u003d\"search-bar\"\u003e","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"        \u003cinput","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"          matInput","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"          value\u003d\"{{ this.filtersService.filter$.value.title }}\"","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"          (keyup)\u003d\"this.filtersService.updateFilters({ title: $event.target.value })\"","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"          placeholder\u003d\"Search\"","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"        /\u003e","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"      \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"    \u003c/li\u003e","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"    \u003cli class\u003d\"filters\" [class.is-open]\u003d\"isMenuOpen\"\u003e","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"      \u003cmat-form-field appearance\u003d\"standard\" class\u003d\"filter-item\"\u003e","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"        \u003cmat-label\u003eGroup by\u003c/mat-label\u003e","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"        \u003cmat-select","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"          [value]\u003d\"this.groupingContextService.currGroupBy$ | async\"","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"          (selectionChange)\u003d\"this.groupingContextService.setCurrentGroupingType($event.value)\"","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"        \u003e","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"          \u003cmat-option *ngFor\u003d\"let option of this.groupByEnum | keyvalue\" [value]\u003d\"option.value\"\u003e{{ option.key }}\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"        \u003c/mat-select\u003e","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"      \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"      \u003cmat-form-field appearance\u003d\"standard\" class\u003d\"filter-item\"\u003e","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"        \u003cmat-label\u003eStatus\u003c/mat-label\u003e","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"        \u003cmat-select [value]\u003d\"this.filter.status\" (selectionChange)\u003d\"this.filtersService.updateFilters({ status: $event.value })\" multiple\u003e","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option *ngIf\u003d\"isFilterPullRequest()\" [value]\u003d\"statusOptions.OpenPullRequests\"\u003eOpen Pull Requests\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option *ngIf\u003d\"isFilterPullRequest()\" [value]\u003d\"statusOptions.MergedPullRequests\"\u003eMerged Pull Requests\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option *ngIf\u003d\"isFilterPullRequest()\" [value]\u003d\"statusOptions.ClosedPullRequests\"\u003eClosed Pull Request\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option *ngIf\u003d\"isFilterIssue()\" [value]\u003d\"statusOptions.OpenIssues\"\u003eOpen Issues\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option *ngIf\u003d\"isFilterIssue()\" [value]\u003d\"statusOptions.ClosedIssues\"\u003eClosed Issues\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"        \u003c/mat-select\u003e","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"      \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"      \u003cmat-form-field appearance\u003d\"standard\" class\u003d\"filter-item\"\u003e","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"        \u003cmat-label\u003eType\u003c/mat-label\u003e","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"        \u003cmat-select [value]\u003d\"this.filter.type\" (selectionChange)\u003d\"this.filtersService.updateFilters({ type: $event.value })\"\u003e","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option [value]\u003d\"typeOptions.All\"\u003eAll\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option [value]\u003d\"typeOptions.Issue\"\u003eIssue\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option [value]\u003d\"typeOptions.PullRequests\"\u003ePull Request\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"        \u003c/mat-select\u003e","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"      \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"      \u003cmat-form-field","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"        appearance\u003d\"standard\"","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"        matSort","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"        [matSortDisableClear]\u003d\"true\"","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"        (matSortChange)\u003d\"this.filtersService.updateFilters({ sort: $event })\"","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"        class\u003d\"filter-item\"","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"      \u003e","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"        \u003cmat-label\u003eSort\u003c/mat-label\u003e","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"        \u003cmat-select [value]\u003d\"this.filter.sort.active\"\u003e","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option [value]\u003d\"sortOptions.Id\"\u003e","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"            \u003cspan mat-sort-header\u003d\"id\"\u003eID\u003c/span\u003e","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"          \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option [value]\u003d\"sortOptions.Title\"\u003e","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"            \u003cspan mat-sort-header\u003d\"title\"\u003eTitle\u003c/span\u003e","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"          \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option [value]\u003d\"sortOptions.Date\"\u003e","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"            \u003cspan mat-sort-header\u003d\"date\"\u003eDate Updated\u003c/span\u003e","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"          \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option [value]\u003d\"sortOptions.Status\"\u003e","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"            \u003cspan mat-sort-header\u003d\"status\"\u003eStatus\u003c/span\u003e","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"          \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"        \u003c/mat-select\u003e","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"      \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"      \u003cmat-form-field appearance\u003d\"standard\" class\u003d\"filter-item\"\u003e","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"        \u003cmat-label\u003eMilestone\u003c/mat-label\u003e","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"        \u003cmat-select","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"          #milestoneSelectorRef","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"          [value]\u003d\"this.filter.milestones\"","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"          (selectionChange)\u003d\"this.filtersService.updateFilters({ milestones: $event.value })\"","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"          [disabled]\u003d\"this.milestoneService.hasNoMilestones\"","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"          multiple","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"        \u003e","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"          \u003cmat-select-trigger *ngIf\u003d\"this.milestoneService.hasNoMilestones\"\u003e","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"            \u003cspan\u003eNo Milestones\u003c/span\u003e","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"          \u003c/mat-select-trigger\u003e","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"          \u003cmat-option *ngFor\u003d\"let milestone of this.milestoneService.milestones\" [value]\u003d\"milestone.title\"\u003e","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"            {{ milestone.title }}","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"          \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option *ngIf\u003d\"isFilterIssue()\" [value]\u003d\"milestoneOptions.IssueWithoutMilestone\"\u003eIssues without a milestone\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"Norbert"},"content":"          \u003cmat-option *ngIf\u003d\"isFilterPullRequest()\" [value]\u003d\"milestoneOptions.PullRequestWithoutMilestone\"","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"Norbert"},"content":"            \u003ePRs without a milestone\u003c/mat-option","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"Norbert"},"content":"          \u003e","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"        \u003c/mat-select\u003e","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"      \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"      \u003cmat-form-field appearance\u003d\"standard\" class\u003d\"filter-item\"\u003e","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"        \u003cmat-label\u003eItems per page\u003c/mat-label\u003e","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"Marcus Soh"},"content":"        \u003cmat-select","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"Marcus Soh"},"content":"          [value]\u003d\"this.filter.itemsPerPage\"","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"Marcus Soh"},"content":"          (selectionChange)\u003d\"this.filtersService.updateFilters({ itemsPerPage: $event.value })\"","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"Marcus Soh"},"content":"        \u003e","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"          \u003cmat-option [value]\u003d\"10\"\u003e10\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"          \u003cmat-option [value]\u003d\"20\"\u003e20\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"          \u003cmat-option [value]\u003d\"50\"\u003e50\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"        \u003c/mat-select\u003e","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"      \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"Kok Liang"},"content":"      \u003cmat-form-field appearance\u003d\"standard\"\u003e","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"Kok Liang"},"content":"        \u003cmat-label\u003eAssigned to\u003c/mat-label\u003e","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"Kok Liang"},"content":"        \u003cmat-select","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"Kok Liang"},"content":"          #assigneeSelectorRef","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"Kok Liang"},"content":"          [value]\u003d\"this.filter.assignees\"","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"Kok Liang"},"content":"          (selectionChange)\u003d\"this.filtersService.updateFilters({ assignees: $event.value })\"","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"Kok Liang"},"content":"          [disabled]\u003d\"this.assigneeService.hasNoAssignees\"","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"Kok Liang"},"content":"          multiple","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"Kok Liang"},"content":"        \u003e","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"Kok Liang"},"content":"          \u003cmat-select-trigger *ngIf\u003d\"this.assigneeService.hasNoAssignees\"\u003e","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"Kok Liang"},"content":"            \u003cspan\u003eNo Assignees\u003c/span\u003e","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"Kok Liang"},"content":"          \u003c/mat-select-trigger\u003e","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"Kok Liang"},"content":"          \u003cmat-option *ngFor\u003d\"let assignee of this.assigneeService.assignees\" [value]\u003d\"assignee.login\"\u003e","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"Kok Liang"},"content":"            {{ assignee.login }}","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"Kok Liang"},"content":"          \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"Kok Liang"},"content":"          \u003cmat-option [value]\u003d\"\u0027Unassigned\u0027\"\u003eUnassigned\u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"Kok Liang"},"content":"        \u003c/mat-select\u003e","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"Kok Liang"},"content":"      \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"      \u003capp-label-filter-bar\u003e\u003c/app-label-filter-bar\u003e","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"    \u003c/li\u003e","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"    \u003cli class\u003d\"menu\" (click)\u003d\"toggleMenu()\"\u003e","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"      \u003ci class\u003d\"material-icons\"\u003e{{ isMenuOpen ? \u0027close\u0027 : \u0027menu\u0027 }}\u003c/i\u003e","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"    \u003c/li\u003e","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"  \u003c/ul\u003e","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"Marcus Soh"},"content":"\u003c/div\u003e","isFullCredit":false}],"authorContributionMap":{"Kok Liang":18,"Marcus Soh":6,"-":81,"Norbert":16}},{"path":"src/app/shared/filter-bar/filter-bar.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Norbert"},"content":"import { AfterViewInit, Component, Input, OnDestroy, OnInit, QueryList, Type, ViewChild } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { MatSelect } from \u0027@angular/material/select\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { BehaviorSubject, Subscription } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Norbert"},"content":"import { MilestoneOptions, SortOptions, StatusOptions, TypeOptions } from \u0027../../core/constants/filter-options.constants\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { AssigneeService } from \u0027../../core/services/assignee.service\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { Filter, FiltersService } from \u0027../../core/services/filters.service\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { GroupBy, GroupingContextService } from \u0027../../core/services/grouping/grouping-context.service\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../../core/services/logging.service\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { MilestoneService } from \u0027../../core/services/milestone.service\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { ViewService } from \u0027../../core/services/view.service\u0027;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { FilterableComponent } from \u0027../issue-tables/filterableTypes\u0027;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { LabelFilterBarComponent } from \u0027./label-filter-bar/label-filter-bar.component\u0027;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"/**","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":" * This component is abstracted out filterbar used by both detailed-viewer page","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":" * and Issues-viewer","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":" */","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"@Component({","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"  selector: \u0027app-filter-bar\u0027,","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./filter-bar.component.html\u0027,","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./filter-bar.component.css\u0027]","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"export class FilterBarComponent implements OnInit, OnDestroy {","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"  @Input() views$: BehaviorSubject\u003cQueryList\u003cFilterableComponent\u003e\u003e;","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"  repoChangeSubscription: Subscription;","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"  /** Selected dropdown filter value */","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Marcus Soh"},"content":"  filter: Filter \u003d FiltersService.DEFAULT_FILTER;","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  groupByEnum: typeof GroupBy \u003d GroupBy;","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"  isMenuOpen \u003d false;","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Norbert"},"content":"  statusOptions \u003d StatusOptions;","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Norbert"},"content":"  typeOptions \u003d TypeOptions;","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Norbert"},"content":"  sortOptions \u003d SortOptions;","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Norbert"},"content":"  milestoneOptions \u003d MilestoneOptions;","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"  /** Milestone subscription */","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  milestoneSubscription: Subscription;","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"  assigneeSubscription: Subscription;","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"  @ViewChild(LabelFilterBarComponent, { static: true }) labelFilterBar: LabelFilterBarComponent;","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027milestoneSelectorRef\u0027, { static: false }) milestoneSelectorRef: MatSelect;","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"  constructor(","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"    public assigneeService: AssigneeService,","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"    public milestoneService: MilestoneService,","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"    public filtersService: FiltersService,","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"    private viewService: ViewService,","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"    public groupingContextService: GroupingContextService,","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"    private logger: LoggingService","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"  ) {","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"    this.repoChangeSubscription \u003d this.viewService.repoChanged$.subscribe((newRepo) \u003d\u003e this.newRepoInitialize());","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"  ngOnInit() {","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"    this.newRepoInitialize();","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"    // One-time initializations","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"    this.filtersService.filter$.subscribe((filter) \u003d\u003e {","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"      this.filter \u003d filter;","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"      this.applyFilter();","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"    this.views$.subscribe(() \u003d\u003e this.applyFilter());","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"  ngOnDestroy(): void {","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"    this.milestoneSubscription.unsubscribe();","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"    this.assigneeSubscription.unsubscribe();","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"    this.repoChangeSubscription.unsubscribe();","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"   * Signals to IssuesDataTable that a change has occurred in filter.","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"  applyFilter() {","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"    this.views$?.value?.forEach((v) \u003d\u003e (v.retrieveFilterable().filter \u003d this.filter));","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"   * Checks if program is filtering by type issue.","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"  isFilterIssue() {","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"Norbert"},"content":"    return this.filter.type \u003d\u003d\u003d this.typeOptions.Issue || this.filter.type \u003d\u003d\u003d this.typeOptions.All;","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"  isFilterPullRequest() {","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"Norbert"},"content":"    return this.filter.type \u003d\u003d\u003d this.typeOptions.PullRequests || this.filter.type \u003d\u003d\u003d this.typeOptions.All;","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"   * Fetch and initialize all information from repository to populate Issue Dashboard.","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"   * Re-called when repo has changed","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"  private newRepoInitialize() {","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"    // Fetch milestones and update dropdown filter","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"    this.milestoneSubscription \u003d this.milestoneService.fetchMilestones().subscribe(","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"      (response) \u003d\u003e {","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"        this.logger.debug(\u0027IssuesViewerComponent: Fetched milestones from Github\u0027);","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"        this.filtersService.sanitizeMilestones(this.milestoneService.milestones);","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"      },","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"      (err) \u003d\u003e {},","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"      () \u003d\u003e {}","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"    );","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"    this.assigneeSubscription \u003d this.assigneeService.fetchAssignees().subscribe(","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"      (response) \u003d\u003e {","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"        this.logger.debug(\u0027IssuesViewerComponent: Fetched assignees from Github\u0027);","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"        this.filtersService.sanitizeAssignees(this.assigneeService.assignees);","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"      },","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"      (err) \u003d\u003e {},","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"      () \u003d\u003e {}","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"    );","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"  toggleMenu(): void {","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"    this.isMenuOpen \u003d !this.isMenuOpen;","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":1,"Norbert":9,"-":112}},{"path":"src/app/shared/filter-bar/label-filter-bar/label-filter-bar.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cbutton mat-stroked-button *ngIf\u003d\"loaded\" [matMenuTriggerFor]\u003d\"menu\"\u003e","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"  {{ selectedLabelNames.size \u003d\u003d\u003d 0 ? \u0027All\u0027 : selectedLabelNames.size }} Selected | {{ hiddenLabelNames?.size || 0 }} Hidden ▾","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003c/button\u003e","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"\u003cbutton mat-stroked-button disabled *ngIf\u003d\"!loaded\" color\u003d\"accent\"\u003e","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"  \u003cmat-progress-bar mode\u003d\"query\"\u003e\u003c/mat-progress-bar\u003e","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"\u003c/button\u003e","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003cmat-menu #menu\u003d\"matMenu\" class\u003d\"popupmenu\"\u003e","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"  \u003cdiv (click)\u003d\"$event.stopPropagation()\" class\u003d\"popup-container\"\u003e","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"    \u003cmat-form-field appearance\u003d\"standard\" class\u003d\"input-field\"\u003e","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"      \u003cmat-label\u003eLabels\u003c/mat-label\u003e","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"      \u003cinput #input matInput placeholder\u003d\"Find labels\" /\u003e","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"    \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Marcus Soh"},"content":"    \u003cbutton mat-button (click)\u003d\"resetSelection()\" [disabled]\u003d\"isDefault\"\u003eReset\u003c/button\u003e","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"    \u003cdiv *ngIf\u003d\"!hasLabels(input.value)\" class\u003d\"no-labels\"\u003eNo Labels Found!\u003c/div\u003e","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"    \u003cdiv class\u003d\"scroll-container-wrapper\"\u003e","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"      \u003cdiv class\u003d\"scroll-container\"\u003e","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"        \u003cdiv","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"          *ngFor\u003d\"let label of this.allLabels\"","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"          class\u003d\"flexbox-container\"","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"          (click)\u003d\"changeLabelState(label)\"","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"          [class.hidden]\u003d\"filter(input.value, label.name)\"","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"          [style]\u003d\"{ border: \u00272px solid \u0027 + getColor(label) }\"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"        \u003e","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"          \u003cbutton mat-icon-button *ngIf\u003d\"!hiddenLabelNames.has(label.name)\" (click)\u003d\"hide(label.name); $event.stopPropagation()\"\u003e","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"            \u003cmat-icon\u003evisibility\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"          \u003c/button\u003e","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"          \u003cbutton mat-icon-button *ngIf\u003d\"hiddenLabelNames.has(label.name)\" (click)\u003d\"show(label.name); $event.stopPropagation()\"\u003e","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"            \u003cmat-icon\u003evisibility_off\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"          \u003c/button\u003e","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"          \u003cmat-chip","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"            [ngStyle]\u003d\"labelService.setLabelStyle(label.color)\"","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"            [disabled]\u003d\"hiddenLabelNames.has(label.name)\"","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"            (click)\u003d\"changeLabelState(label)\"","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"          \u003e","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"            {{ label.name }}","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"          \u003c/mat-chip\u003e","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"          \u003cdiv *ngIf\u003d\"deselectedLabelNames.has(label.name)\" class\u003d\"flexbox-container-strikethrough\"\u003e\u003c/div\u003e","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"        \u003c/div\u003e","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"    \u003c/div\u003e","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  \u003c/div\u003e","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"\u003c/mat-menu\u003e","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":1,"-":46}},{"path":"src/app/shared/filter-bar/label-filter-bar/label-filter-bar.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Observable, Subscription } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { SimpleLabel } from \u0027../../../core/models/label.model\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"import { Filter, FiltersService } from \u0027../../../core/services/filters.service\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027../../../core/services/label.service\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../../../core/services/logging.service\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"@Component({","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"  selector: \u0027app-label-filter-bar\u0027,","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./label-filter-bar.component.html\u0027,","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./label-filter-bar.component.css\u0027]","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"export class LabelFilterBarComponent implements OnInit, AfterViewInit, OnDestroy {","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  private static readonly DEFAULT_LABEL_COLOR: string \u003d \u0027transparent\u0027;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  private static readonly DESELECTED_LABEL_COLOR: string \u003d \u0027#b00020\u0027;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  private static readonly SELECTED_LABEL_COLOR: string \u003d \u0027#41c300\u0027;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"  labels$: Observable\u003cSimpleLabel[]\u003e;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"  allLabels: SimpleLabel[];","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"  selectedLabelNames: Set\u003cstring\u003e \u003d new Set\u003cstring\u003e();","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  deselectedLabelNames: Set\u003cstring\u003e \u003d new Set\u003cstring\u003e();","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"  hiddenLabelNames: Set\u003cstring\u003e \u003d new Set();","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"  loaded \u003d false;","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"Marcus Soh"},"content":"  isDefault \u003d true;","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"  labelSubscription: Subscription;","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Marcus Soh"},"content":"  constructor(private labelService: LabelService, private logger: LoggingService, private filtersService: FiltersService) {","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"Marcus Soh"},"content":"    this.filtersService.filter$.subscribe((filter: Filter) \u003d\u003e {","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Marcus Soh"},"content":"      if (this.loaded \u003d\u003d\u003d false) {","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"Marcus Soh"},"content":"        return;","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Marcus Soh"},"content":"      }","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Marcus Soh"},"content":"      this.selectedLabelNames \u003d new Set\u003cstring\u003e(filter.labels);","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Marcus Soh"},"content":"      this.deselectedLabelNames \u003d filter.deselectedLabels;","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Marcus Soh"},"content":"      this.hiddenLabelNames \u003d filter.hiddenLabels;","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Marcus Soh"},"content":"    });","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  ngOnInit() {","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"    this.loaded \u003d false;","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"  ngAfterViewInit(): void {","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"    setTimeout(() \u003d\u003e {","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"      this.load();","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"      this.labels$ \u003d this.labelService.connect();","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"      this.labels$.subscribe((labels) \u003d\u003e {","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"        this.allLabels \u003d labels;","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"        this.filtersService.sanitizeLabels(this.allLabels);","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"        this.selectedLabelNames \u003d new Set\u003cstring\u003e(this.filtersService.filter$.value.labels);","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"        this.deselectedLabelNames \u003d this.filtersService.filter$.value.deselectedLabels;","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"        this.hiddenLabelNames \u003d this.filtersService.filter$.value.hiddenLabels;","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"        this.loaded \u003d true;","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"Marcus Soh"},"content":"        // set the default based on the initial round of filters","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"Marcus Soh"},"content":"        this.isDefault \u003d this.selectedLabelNames.size \u003d\u003d\u003d 0 \u0026\u0026 this.deselectedLabelNames.size \u003d\u003d\u003d 0 \u0026\u0026 this.hiddenLabelNames.size \u003d\u003d\u003d 0;","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"  ngOnDestroy(): void {","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"    this.labelSubscription?.unsubscribe();","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"  hide(label: string): void {","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"    if (this.hiddenLabelNames.has(label)) {","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"      return;","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"    this.hiddenLabelNames.add(label);","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"Marcus Soh"},"content":"    this.updateSelection();","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"  /** Show labels that were hidden */","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"  show(label: string): void {","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"    if (!this.hiddenLabelNames.has(label)) {","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"      return;","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"    this.hiddenLabelNames.delete(label);","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"Marcus Soh"},"content":"    this.updateSelection();","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"   * Change label to the next state.","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"   * Label has the following state rotation: default -\u003e selected -\u003e deselected.","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"   * @param label The label to change state","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"  changeLabelState(label: SimpleLabel) {","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"    if (this.selectedLabelNames.has(label.name)) {","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"      this.selectedLabelNames.delete(label.name);","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"      this.deselectedLabelNames.add(label.name);","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"    } else if (this.deselectedLabelNames.has(label.name)) {","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"      this.deselectedLabelNames.delete(label.name);","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"    } else {","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"      this.selectedLabelNames.add(label.name);","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"    this.updateSelection();","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"   * Returns the border color of the label.","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"   * The border color represents the state of the label.","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"  getColor(label: SimpleLabel): string {","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"    if (this.selectedLabelNames.has(label.name)) {","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"      return LabelFilterBarComponent.SELECTED_LABEL_COLOR;","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"    } else if (this.deselectedLabelNames.has(label.name)) {","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"      return LabelFilterBarComponent.DESELECTED_LABEL_COLOR;","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"    } else {","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"      return LabelFilterBarComponent.DEFAULT_LABEL_COLOR;","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"  /** loads in the labels in the repository */","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"  public load() {","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"    this.labelService.startPollLabels();","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"  filter(filter: string, target: string): boolean {","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"    return !target.toLowerCase().includes(filter.toLowerCase());","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":"  hasLabels(filter: string): boolean {","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"    if (this.allLabels \u003d\u003d\u003d undefined || this.allLabels.length \u003d\u003d\u003d 0) {","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"      return false;","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"    return this.allLabels.some((label) \u003d\u003e !this.filter(filter, label.name));","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"-"},"content":"  updateSelection(): void {","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"-"},"content":"    this.filtersService.updateFilters({","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"-"},"content":"      labels: Array.from(this.selectedLabelNames),","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"Marcus Soh"},"content":"      deselectedLabels: this.deselectedLabelNames,","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"Marcus Soh"},"content":"      hiddenLabels: this.hiddenLabelNames","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"Marcus Soh"},"content":"    this.isDefault \u003d this.selectedLabelNames.size \u003d\u003d\u003d 0 \u0026\u0026 this.deselectedLabelNames.size \u003d\u003d\u003d 0 \u0026\u0026 this.hiddenLabelNames.size \u003d\u003d\u003d 0;","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"Marcus Soh"},"content":"  resetSelection(): void {","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"-"},"content":"    this.selectedLabelNames \u003d new Set\u003cstring\u003e();","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"-"},"content":"    this.deselectedLabelNames \u003d new Set\u003cstring\u003e();","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"Marcus Soh"},"content":"    this.hiddenLabelNames \u003d new Set\u003cstring\u003e();","isFullCredit":false},{"lineNumber":146,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":147,"author":{"gitId":"Marcus Soh"},"content":"    this.isDefault \u003d true;","isFullCredit":false},{"lineNumber":148,"author":{"gitId":"-"},"content":"    this.updateSelection();","isFullCredit":false},{"lineNumber":149,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":150,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":27,"-":123}},{"path":"src/app/shared/issue-pr-card/issue-pr-card.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Component, Input } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Issue } from \u0027../../core/models/issue.model\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Filter } from \u0027../../core/services/filters.service\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027../../core/services/github.service\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027../../core/services/label.service\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../../core/services/logging.service\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { MilestoneService } from \u0027../../core/services/milestone.service\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"@Component({","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"  selector: \u0027app-issue-pr-card\u0027,","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./issue-pr-card.component.html\u0027,","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./issue-pr-card.component.css\u0027]","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"export class IssuePrCardComponent {","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  @Input() issue: Issue;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  @Input() filter?: Filter;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"  constructor(","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"    private logger: LoggingService,","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"    private githubService: GithubService,","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"    public labelService: LabelService,","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"    public milestoneService: MilestoneService","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"  ) {}","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"  /** Opens issue in new window */","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"  viewIssueInBrowser(event: Event) {","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"    this.logger.info(`CardViewComponent: Opening Issue ${this.issue.id} on Github`);","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"    this.githubService.viewIssueInBrowser(this.issue.id, event);","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  /** Opens milestone in new window */","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"  viewMilestoneInBrowser(event: Event) {","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"    this.logger.info(`CardViewComponent: Opening Milestone ${this.issue.milestone.number} on Github`);","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"    this.githubService.viewMilestoneInBrowser(this.issue.milestone.number, event);","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"  /** Returns CSS class for border color */","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"  getIssueOpenOrCloseColorCSSClass() {","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"    if (this.issue.state \u003d\u003d\u003d \u0027OPEN\u0027) {","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"      if (this.issue.isDraft) {","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"yucongkoo"},"content":"        return \u0027border-gray\u0027;","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"      } else {","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"        return \u0027border-green\u0027;","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"    } else if (this.issue.issueOrPr \u003d\u003d\u003d \u0027PullRequest\u0027 \u0026\u0026 this.issue.state \u003d\u003d\u003d \u0027CLOSED\u0027) {","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"      return \u0027border-red\u0027;","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"    } else if (this.issue.issueOrPr \u003d\u003d\u003d \u0027Issue\u0027 \u0026\u0026 this.issue.stateReason \u003d\u003d\u003d \u0027NOT_PLANNED\u0027) {","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"      return \u0027border-gray\u0027;","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"    } else {","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"      return \u0027border-purple\u0027;","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"   * Truncates description to fit in card content.","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"   * @param description - Description of Issue that is to be displayed.","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"  fitDescriptionText(): string {","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"    // Arbitrary Length of Characters beyond which an overflow occurs.","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"    const MAX_CHARACTER_LENGTH \u003d 72;","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"    const ELLIPSES \u003d \u0027...\u0027;","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"    return this.issue.description.slice(0, MAX_CHARACTER_LENGTH) + ELLIPSES;","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"yucongkoo":1,"-":64}},{"path":"src/app/shared/issue-tables/IssuesDataTable.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { DataSource } from \u0027@angular/cdk/table\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { MatPaginator } from \u0027@angular/material/paginator\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { BehaviorSubject, merge, Observable, Subscription } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { map } from \u0027rxjs/operators\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"import { GithubUser } from \u0027../../core/models/github-user.model\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { Group } from \u0027../../core/models/github/group.interface\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { Issue } from \u0027../../core/models/issue.model\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"import { Milestone } from \u0027../../core/models/milestone.model\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { AssigneeService } from \u0027../../core/services/assignee.service\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { Filter, FiltersService } from \u0027../../core/services/filters.service\u0027;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { GroupingContextService } from \u0027../../core/services/grouping/grouping-context.service\u0027;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../core/services/issue.service\u0027;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { MilestoneService } from \u0027../../core/services/milestone.service\u0027;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { applyDropdownFilter } from \u0027./dropdownfilter\u0027;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { FilterableSource } from \u0027./filterableTypes\u0027;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"import { paginateData } from \u0027./issue-paginator\u0027;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"import { applySort } from \u0027./issue-sorter\u0027;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"import { applySearchFilter } from \u0027./search-filter\u0027;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"export class IssuesDataTable extends DataSource\u003cIssue\u003e implements FilterableSource {","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  public count \u003d 0;","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"Marcus Soh"},"content":"  private filterChange \u003d new BehaviorSubject(FiltersService.DEFAULT_FILTER);","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"  private issuesSubject \u003d new BehaviorSubject\u003cIssue[]\u003e([]);","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"  private issueSubscription: Subscription;","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"  public isLoading$ \u003d this.issueService.isLoading.asObservable();","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  private static isGroupInFilter(group: Group, filter: Filter): boolean {","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"    const groupFilterAsGithubUser \u003d filter.assignees.map((selectedAssignee) \u003d\u003e {","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      return GithubUser.fromUsername(selectedAssignee);","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"    });","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"    const groupFilterAsMilestone \u003d filter.milestones.map((selectedMilestone) \u003d\u003e {","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      return Milestone.fromTitle(selectedMilestone);","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"    });","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"    const isGroupInFilter \u003d","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      groupFilterAsGithubUser.some((githubUser) \u003d\u003e group?.equals(githubUser)) ||","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"      groupFilterAsMilestone.some((milestone) \u003d\u003e group?.equals(milestone));","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"    return isGroupInFilter;","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"  }","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"  constructor(","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"    private issueService: IssueService,","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"    private groupingContextService: GroupingContextService,","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"    private filtersService: FiltersService,","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"    private assigneeService: AssigneeService,","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"    private milestoneService: MilestoneService,","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"    private paginator: MatPaginator,","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"    private displayedColumn: string[],","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"    private group?: Group,","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"    private defaultFilter?: (issue: Issue) \u003d\u003e boolean","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"  ) {","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"    super();","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"  connect(): Observable\u003cIssue[]\u003e {","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"    return this.issuesSubject.asObservable();","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"  disconnect() {","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"    this.filterChange.complete();","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"    this.issuesSubject.complete();","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"    if (this.issueSubscription) {","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"      this.issueSubscription.unsubscribe();","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"    this.issueService.stopPollIssues();","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"  loadIssues() {","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"    let page;","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"    if (this.paginator !\u003d\u003d undefined) {","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"      page \u003d this.paginator.page;","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"    const displayDataChanges \u003d [this.issueService.issues$, page, this.filterChange].filter((x) \u003d\u003e x !\u003d\u003d undefined);","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"    this.issueService.startPollIssues();","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"    this.issueSubscription \u003d merge(...displayDataChanges)","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"      .pipe(","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"        // maps each change in display value to new issue ordering or filtering","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"        map(() \u003d\u003e {","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"          if (!IssuesDataTable.isGroupInFilter(this.group, this.filter)) {","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"            this.count \u003d 0;","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"            return [];","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"          }","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"Isaac Ng Jun Jie"},"content":"","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"          let data \u003d \u003cIssue[]\u003eObject.values(this.issueService.issues$.getValue()).reverse();","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"          if (this.defaultFilter) {","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"            data \u003d data.filter(this.defaultFilter);","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"          }","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"          // Filter by assignee of issue","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"          data \u003d this.groupingContextService.getDataForGroup(data, this.group);","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"          // Apply Filters","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"          data \u003d applyDropdownFilter(this.filter, data, !this.milestoneService.hasNoMilestones, !this.assigneeService.hasNoAssignees);","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"          data \u003d applySearchFilter(this.filter.title, this.displayedColumn, this.issueService, data);","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"          this.count \u003d data.length;","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"          data \u003d applySort(this.filter.sort, data);","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"          if (this.paginator !\u003d\u003d undefined) {","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"            data \u003d paginateData(this.paginator, data);","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"          }","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"          return data;","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"        })","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"      )","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"      .subscribe((issues) \u003d\u003e {","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"        this.issuesSubject.next(issues);","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"  get filter(): Filter {","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"    return this.filterChange.value;","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"  set filter(filter: Filter) {","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"    this.filterChange.next(filter);","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":1,"Isaac Ng Jun Jie":22,"-":98}},{"path":"src/app/shared/layout/header.component.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":".repo-menu-footer {","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"  justify-content: space-between;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"  position: sticky;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"  bottom: 0;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"  z-index: 1;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"  padding: 10px;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":".new-repo-button {","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"  flex-grow: 1;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":".keep-filter-button {","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  margin-left: 2px;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":".repo-options {","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"  max-height: 300px;","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  overflow-y: auto;","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":".repo-options button {","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"  font-size: 17px;","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"/* Overwrite the width of the menu */","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"::ng-deep .repo-menu {","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"  width: fit-content !important;","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  min-width: 320px !important;","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Marcus Soh"},"content":"/* Font size of 20px for main elements in header */","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Marcus Soh"},"content":".header-main-text {","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Marcus Soh"},"content":"  font-size: 20px;","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Marcus Soh"},"content":".toolbar-wrapper {","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"Marcus Soh"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Marcus Soh"},"content":"  justify-content: space-between;","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Marcus Soh"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"Marcus Soh"},"content":"  width: 100%;","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"Marcus Soh"},"content":"  div {","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"Marcus Soh"},"content":"    display: flex;","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"Marcus Soh"},"content":"    align-items: center;","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":17,"-":32}},{"path":"src/app/shared/layout/header.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cmat-toolbar color\u003d\"primary\" style\u003d\"position: sticky; position: -webkit-sticky; top: 0; z-index: 1000\"\u003e","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"  \u003cdiv class\u003d\"toolbar-wrapper\"\u003e","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"    \u003cdiv class\u003d\"left\"\u003e","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"      \u003cbutton","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"        *ngIf\u003d\"isBackButtonShown()\"","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"        mat-icon-button","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"        class\u003d\"mat-toolbar mat-primary back-button\"","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"        style\u003d\"transform: scale(0.9)\"","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"        (click)\u003d\"goBack()\"","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"      \u003e","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"        \u003cmat-icon\u003earrow_back_ios\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Marcus Soh"},"content":"      \u003ca","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"        class\u003d\"mat-toolbar mat-primary\"","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Marcus Soh"},"content":"        style\u003d\"text-decoration: none\"","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Marcus Soh"},"content":"        [routerLink]\u003d\"viewService.isRepoSet() ? viewService.currentView : null\"","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"        \u003eWATcher v{{ this.getVersion() }}\u003c/a","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"      \u003e","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"Marcus Soh"},"content":"      \u003cdiv *ngIf\u003d\"viewService.isRepoSet()\" style\u003d\"margin-left: 20px\"\u003e","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"Marcus Soh"},"content":"        \u003cbutton mat-button [matMenuTriggerFor]\u003d\"menu\"\u003e","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"Marcus Soh"},"content":"          \u003cspan class\u003d\"header-main-text\"\u003e","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"            {{ this.presetViews[this.filtersService.presetView$.value] }}","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"          \u003c/span\u003e","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Marcus Soh"},"content":"          \u003cmat-icon style\u003d\"color: white\"\u003eexpand_more\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"        \u003cmat-menu #menu\u003d\"matMenu\"\u003e","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"          \u003cdiv *ngFor\u003d\"let presetView of this.presetViews | keyvalue\"\u003e","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"            \u003cbutton mat-menu-item *ngIf\u003d\"presetView.key !\u003d\u003d \u0027custom\u0027\" (click)\u003d\"this.filtersService.updatePresetView(presetView.key)\"\u003e","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"              \u003cspan\u003e","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"                \u003cmat-icon","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Marcus Soh"},"content":"                  [ngStyle]\u003d\"{","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"Marcus Soh"},"content":"                    color: \u0027green\u0027,","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Marcus Soh"},"content":"                    visibility: this.filtersService.presetView$.value \u003d\u003d\u003d presetView.key ? \u0027visible\u0027 : \u0027hidden\u0027","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Marcus Soh"},"content":"                  }\"","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"                  \u003edone\u003c/mat-icon","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"                \u003e","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"                {{ presetView.value }}","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"              \u003c/span\u003e","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"            \u003c/button\u003e","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"          \u003c/div\u003e","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"        \u003c/mat-menu\u003e","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"Marcus Soh"},"content":"    \u003c/div\u003e","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"Marcus Soh"},"content":"    \u003cdiv class\u003d\"center\"\u003e","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"      \u003cdiv *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 viewService.isRepoSet()\"\u003e","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"        \u003cbutton","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"Marcus Soh"},"content":"          mat-button","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"          matTooltip\u003d\"{{ viewService.isRepoSet() ? \u0027Change Repository\u0027 : \u0027Select Repository\u0027 }}\"","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"          [matMenuTriggerFor]\u003d\"repoMenu\"","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"        \u003e","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"Marcus Soh"},"content":"          \u003cspan id\u003d\"view-descriptor\" class\u003d\"header-main-text\"\u003e","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"Marcus Soh"},"content":"            {{ this.currentRepo || \u0027No Repository Set\u0027 }}","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"Marcus Soh"},"content":"          \u003c/span\u003e","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"          \u003cmat-icon\u003eedit\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"Marcus Soh"},"content":"      \u003cmat-menu #repoMenu xPosition\u003d\"after\" class\u003d\"repo-menu\"\u003e","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"        \u003cdiv class\u003d\"repo-options\"\u003e","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"          \u003cdiv *ngFor\u003d\"let repo of this.repoUrlCacheService.suggestions\"\u003e","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"            \u003cbutton mat-menu-item *ngIf\u003d\"repo !\u003d\u003d this.currentRepo\" (click)\u003d\"this.applyRepoDropdown(repo, true)\"\u003e","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"              {{ repo }}","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"            \u003c/button\u003e","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"          \u003c/div\u003e","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"        \u003c/div\u003e","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"        \u003cdiv class\u003d\"repo-menu-footer\"\u003e","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"Marcus Soh"},"content":"          \u003cbutton","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"Marcus Soh"},"content":"            mat-flat-button","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"Marcus Soh"},"content":"            color\u003d\"primary\"","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"Marcus Soh"},"content":"            class\u003d\"new-repo-button\"","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"Marcus Soh"},"content":"            (click)\u003d\"this.openChangeRepoDialog()\"","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"Marcus Soh"},"content":"            matTooltip\u003d\"Add new repository\"","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"Marcus Soh"},"content":"          \u003e","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"            \u003cmat-icon\u003eadd\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"          \u003c/button\u003e","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"          \u003cbutton","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"            mat-icon-button","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"            (click)\u003d\"toggleKeepFilters($event)\"","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"            class\u003d\"keep-filter-button\"","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"            matTooltip\u003d\"{{ keepFilters ? \u0027Keep filter on\u0027 : \u0027Keep filter off\u0027 }}\"","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"            color\u003d\"{{ keepFilters ? \u0027primary\u0027 : \u0027warn\u0027 }}\"","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"          \u003e","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"            \u003cmat-icon\u003e{{ keepFilters ? \u0027filter_alt\u0027 : \u0027filter_alt_off\u0027 }}\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"          \u003c/button\u003e","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"        \u003c/div\u003e","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"      \u003c/mat-menu\u003e","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"    \u003c/div\u003e","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"Marcus Soh"},"content":"    \u003cdiv class\u003d\"right\"\u003e","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"flex: 1 1 auto\"\u003e\u003c/span\u003e","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"      \u003cbutton mat-button matTooltip\u003d\"Download WATcher Log\" (click)\u003d\"this.exportLogFile()\"\u003e","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"        \u003cmat-icon\u003ereceipt\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"      \u003cbutton mat-button matTooltip\u003d\"Give feedback about WATcher\" (click)\u003d\"openIssueTracker()\"\u003e","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"        \u003cmat-icon\u003email\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"      \u003cbutton","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"        *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 viewService.isRepoSet() \u0026\u0026 isOpenUrlButtonShown()\"","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"        mat-button","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"        matTooltip\u003d\"View current page on GitHub\"","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"        (click)\u003d\"viewBrowser()\"","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"      \u003e","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"        \u003cmat-icon\u003eopen_in_new\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"      \u003cdiv class\u003d\"sync-spinner\" *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 (this.isLoading$ | async); else notLoading\"\u003e","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"        \u003cmat-spinner class\u003d\"white-spinner\" [diameter]\u003d\"20\"\u003e\u003c/mat-spinner\u003e","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"      \u003cng-template #notLoading\u003e","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"        \u003cbutton","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"          *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 viewService.isRepoSet() \u0026\u0026 isReloadButtonShown() \u0026\u0026 !this.isReloadButtonDisabled\"","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"          mat-button","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"          matTooltip\u003d\"Synchronize with Github data\"","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"          (click)\u003d\"reload()\"","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"        \u003e","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"          Sync","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"          \u003cmat-icon\u003erefresh\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":"        \u003cdiv class\u003d\"sync-spinner\" *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 isReloadButtonShown() \u0026\u0026 this.isReloadButtonDisabled\"\u003e","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":"          \u003cspan style\u003d\"font-size: 14px; margin-right: 7px\"\u003eSync\u003c/span\u003e","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"          \u003cmat-spinner class\u003d\"white-spinner\" [diameter]\u003d\"20\"\u003e\u003c/mat-spinner\u003e","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"        \u003c/div\u003e","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"      \u003c/ng-template\u003e","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"-"},"content":"      \u003cbutton *ngIf\u003d\"auth.isAuthenticated()\" mat-button matTooltip\u003d\"Log out\" (click)\u003d\"openLogOutDialog(); $event.stopPropagation()\"\u003e","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"        ({{ userService.currentUser.loginId }})","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"-"},"content":"        \u003cmat-icon style\u003d\"margin-left: 2px\"\u003eexit_to_app\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"-"},"content":"    \u003c/div\u003e","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"Marcus Soh"},"content":"  \u003c/div\u003e","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"Marcus Soh"},"content":"  \u003c!-- Gateway to activity dashboard, do not delete --\u003e","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"Marcus Soh"},"content":"  \u003c!--div *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 this.viewService.sessionData.sessionRepo.length \u003e 1\"\u003e","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"Marcus Soh"},"content":"    \u003cbutton mat-button [matMenuTriggerFor]\u003d\"menu\"\u003e\u003cmat-icon style\u003d\"color: white\"\u003eexpand_more\u003c/mat-icon\u003e\u003c/button\u003e","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"Marcus Soh"},"content":"    \u003cmat-menu #menu\u003d\"matMenu\"\u003e","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"Marcus Soh"},"content":"      \u003cbutton","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"Marcus Soh"},"content":"        mat-menu-item","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"Marcus Soh"},"content":"        *ngFor\u003d\"let sessionRepo of this.viewService.sessionData.sessionRepo\"","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"Marcus Soh"},"content":"        (click)\u003d\"this.routeToSelectedView(sessionRepo.view)\"","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"Marcus Soh"},"content":"      \u003e","isFullCredit":false},{"lineNumber":146,"author":{"gitId":"Marcus Soh"},"content":"        \u003cspan\u003e","isFullCredit":false},{"lineNumber":147,"author":{"gitId":"Marcus Soh"},"content":"          \u003cmat-icon [ngStyle]\u003d\"{ color: \u0027green\u0027, visibility: this.viewService.currentView \u003d\u003d\u003d sessionRepo.view ? \u0027visible\u0027 : \u0027hidden\u0027 }\"","isFullCredit":false},{"lineNumber":148,"author":{"gitId":"Marcus Soh"},"content":"            \u003edone\u003c/mat-icon","isFullCredit":false},{"lineNumber":149,"author":{"gitId":"Marcus Soh"},"content":"          \u003e","isFullCredit":false},{"lineNumber":150,"author":{"gitId":"Marcus Soh"},"content":"          {{ this.getViewDescription(sessionRepo.view) }}","isFullCredit":false},{"lineNumber":151,"author":{"gitId":"Marcus Soh"},"content":"        \u003c/span\u003e","isFullCredit":false},{"lineNumber":152,"author":{"gitId":"Marcus Soh"},"content":"      \u003c/button\u003e","isFullCredit":false},{"lineNumber":153,"author":{"gitId":"Marcus Soh"},"content":"    \u003c/mat-menu\u003e","isFullCredit":false},{"lineNumber":154,"author":{"gitId":"Marcus Soh"},"content":"  \u003c/div--\u003e","isFullCredit":false},{"lineNumber":155,"author":{"gitId":"-"},"content":"\u003c/mat-toolbar\u003e","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":48,"-":107}},{"path":"src/app/shared/layout/header.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Location } from \u0027@angular/common\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Component, OnInit } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Router, RoutesRecognized } from \u0027@angular/router\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { Observable } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { filter, pairwise, switchMap } from \u0027rxjs/operators\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { AppConfig } from \u0027../../../environments/environment\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { STORAGE_KEYS } from \u0027../../core/constants/storage-keys.constants\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { RepoChangeResponse } from \u0027../../core/models/repo-change-response.model\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { Repo } from \u0027../../core/models/repo.model\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { View } from \u0027../../core/models/view.model\u0027;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { AuthService } from \u0027../../core/services/auth.service\u0027;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { DialogService } from \u0027../../core/services/dialog.service\u0027;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../../core/services/error-handling.service\u0027;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { FiltersService } from \u0027../../core/services/filters.service\u0027;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027../../core/services/github.service\u0027;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"import { GithubEventService } from \u0027../../core/services/githubevent.service\u0027;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"import { GroupingContextService } from \u0027../../core/services/grouping/grouping-context.service\u0027;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../core/services/issue.service\u0027;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027../../core/services/label.service\u0027;","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../../core/services/logging.service\u0027;","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"import { RepoSessionStorageService } from \u0027../../core/services/repo-session-storage.service\u0027;","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"import { RepoUrlCacheService } from \u0027../../core/services/repo-url-cache.service\u0027;","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../../core/services/user.service\u0027;","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"import { ViewDescription, ViewService } from \u0027../../core/services/view.service\u0027;","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"const ISSUE_TRACKER_URL \u003d \u0027https://github.com/CATcher-org/WATcher/issues\u0027;","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"@Component({","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"  selector: \u0027app-layout-header\u0027,","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./header.component.html\u0027,","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./header.component.css\u0027]","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"})","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"export class HeaderComponent implements OnInit {","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"  private prevUrl;","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"  isReloadButtonDisabled \u003d false;","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"  ISSUE_FILTER \u003d \u0027/issues?q\u003dis:issue+is:all\u0027; // the filtered list must be an issue and must be open","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"  TUTORIAL_LABEL \u003d \u0027+label:tutorial.\u0027;","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"  TEAM_LABEL \u003d \u0027+label:team.\u0027;","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"  EXCLUDE_DUPLICATE \u003d \u0027+-label:duplicate\u0027; // exclude duplicate issues","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  public isLoading$: Observable\u003cboolean\u003e;","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"  // Messages for the modal popup window upon logging out","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"  private readonly logOutDialogMessages \u003d [\u0027Do you wish to log out?\u0027];","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"  private readonly yesButtonDialogMessage \u003d \u0027Yes, I wish to log out\u0027;","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  private readonly noButtonDialogMessage \u003d \"No, I don\u0027t wish to log out\";","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"  readonly presetViews: {","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"    [key: string]: string;","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"  } \u003d {","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"    currentlyActive: \u0027Currently active\u0027,","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"    contributions: \u0027Contributions\u0027,","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"    custom: \u0027Custom\u0027","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"  };","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"  /** Model for the displayed repository name */","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"  currentRepo \u003d \u0027\u0027;","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"  keepFilters \u003d false;","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"  constructor(","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"    private router: Router,","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"    public auth: AuthService,","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"    public viewService: ViewService,","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"    public userService: UserService,","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"    public logger: LoggingService,","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"    public repoUrlCacheService: RepoUrlCacheService,","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"    private location: Location,","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"    private githubEventService: GithubEventService,","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"    private issueService: IssueService,","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"    private labelService: LabelService,","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"    private errorHandlingService: ErrorHandlingService,","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"    private githubService: GithubService,","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"    private dialogService: DialogService,","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"    private repoSessionStorageService: RepoSessionStorageService,","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"    private filtersService: FiltersService,","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"    private groupingContextService: GroupingContextService","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"  ) {","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"    router.events","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"      .pipe(","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"        filter((e: any) \u003d\u003e e instanceof RoutesRecognized),","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"        pairwise()","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"      )","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"      .subscribe((e) \u003d\u003e {","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"        this.prevUrl \u003d e[0].urlAfterRedirects;","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"    this.auth.currentAuthState.subscribe(() \u003d\u003e {","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"      if (auth.isAuthenticated() \u0026\u0026 !repoSessionStorageService.hasRepoLocation()) {","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"        if (!this.auth.hasNext()) {","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"          this.openChangeRepoDialog();","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"        } else {","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"          this.auth.redirectToNext();","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"    this.viewService.repoSetState.subscribe((state) \u003d\u003e {","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"      if (auth.isAuthenticated() \u0026\u0026 viewService.isRepoSet()) {","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"        this.initializeRepoNameInTitle();","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"    this.viewService.repoChanged$.subscribe((repo) \u003d\u003e {","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"      this.initializeRepoNameInTitle();","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"    this.isLoading$ \u003d this.issueService.isLoading.asObservable();","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"  ngOnInit() {}","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"   * Replaces and resets the current view data and routes the app to the","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"   * newly selected view.","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"   * @param selectedView - Selected View that is selected by the user.","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"  routeToSelectedView(selectedView: string): void {","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"    // Do nothing if the selected view is the current view.","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"    if (this.viewService.currentView \u003d\u003d\u003d View[selectedView]) {","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"      return;","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":"    // Replace Current View Data.","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":"    this.viewService.changeView(View[selectedView]);","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"    // Remove current view issues and load selected view issues.","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"    this.githubService.reset();","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"    this.issueService.reset(false);","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"-"},"content":"    this.labelService.reset();","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"    this.reload();","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"-"},"content":"    // Route app to new view.","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"-"},"content":"    this.router.navigateByUrl(this.viewService.currentView);","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"-"},"content":"  isBackButtonShown(): boolean {","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"-"},"content":"    return `/${this.viewService.currentView}` !\u003d\u003d this.router.url \u0026\u0026 this.router.url !\u003d\u003d \u0027/\u0027 \u0026\u0026 !this.router.url.startsWith(\u0027/?code\u0027);","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"-"},"content":"  isReloadButtonShown(): boolean {","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"-"},"content":"    return this.router.url !\u003d\u003d \u0027/phaseBugReporting/issues/new\u0027;","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"-"},"content":"  isOpenUrlButtonShown(): boolean {","isFullCredit":false},{"lineNumber":146,"author":{"gitId":"-"},"content":"    return this.viewService.currentView \u003d\u003d\u003d View.issuesViewer || this.viewService.currentView \u003d\u003d\u003d View.activityDashboard;","isFullCredit":false},{"lineNumber":147,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":148,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":149,"author":{"gitId":"-"},"content":"  getVersion(): string {","isFullCredit":false},{"lineNumber":150,"author":{"gitId":"-"},"content":"    return AppConfig.version;","isFullCredit":false},{"lineNumber":151,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":152,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":153,"author":{"gitId":"-"},"content":"  getViewDescription(openView: string): string {","isFullCredit":false},{"lineNumber":154,"author":{"gitId":"-"},"content":"    return ViewDescription[openView];","isFullCredit":false},{"lineNumber":155,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":156,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":157,"author":{"gitId":"-"},"content":"  goBack() {","isFullCredit":false},{"lineNumber":158,"author":{"gitId":"-"},"content":"    if (this.prevUrl \u003d\u003d\u003d `/${this.viewService.currentView}/issues/new`) {","isFullCredit":false},{"lineNumber":159,"author":{"gitId":"-"},"content":"      this.router.navigateByUrl(this.viewService.currentView);","isFullCredit":false},{"lineNumber":160,"author":{"gitId":"-"},"content":"    } else {","isFullCredit":false},{"lineNumber":161,"author":{"gitId":"-"},"content":"      this.location.back();","isFullCredit":false},{"lineNumber":162,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":163,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":164,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":165,"author":{"gitId":"-"},"content":"  viewBrowser() {","isFullCredit":false},{"lineNumber":166,"author":{"gitId":"Norbert"},"content":"    const encoded_filter_params \u003d this.filtersService.getEncodedFilter();","isFullCredit":false},{"lineNumber":167,"author":{"gitId":"Norbert"},"content":"    window.open(\u0027https://github.com/\u0027.concat(this.githubService.getRepoURL()).concat(\u0027/issues?q\u003d\u0027).concat(encoded_filter_params));","isFullCredit":false},{"lineNumber":168,"author":{"gitId":"-"},"content":"    if (this.viewService.currentView \u003d\u003d\u003d View.activityDashboard) {","isFullCredit":false},{"lineNumber":169,"author":{"gitId":"-"},"content":"      window.open(`https://github.com/${this.viewService.currentRepo.owner}/${this.viewService.currentRepo.name}/pulse`);","isFullCredit":false},{"lineNumber":170,"author":{"gitId":"-"},"content":"      return;","isFullCredit":false},{"lineNumber":171,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":172,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":173,"author":{"gitId":"-"},"content":"    const routerUrl \u003d this.router.url.substring(1); // remove the first \u0027/\u0027 from string","isFullCredit":false},{"lineNumber":174,"author":{"gitId":"-"},"content":"    const issueUrlIndex \u003d routerUrl.indexOf(\u0027/\u0027); // find the index of second \u0027/\u0027","isFullCredit":false},{"lineNumber":175,"author":{"gitId":"-"},"content":"    let issueUrl: string;","isFullCredit":false},{"lineNumber":176,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":177,"author":{"gitId":"-"},"content":"    // If can\u0027t find the index of second \u0027/\u0027, then router is at the /issues (table list) page","isFullCredit":false},{"lineNumber":178,"author":{"gitId":"-"},"content":"    if (issueUrlIndex \u003c 0) {","isFullCredit":false},{"lineNumber":179,"author":{"gitId":"-"},"content":"      // Apply filters to the issueUrl","isFullCredit":false},{"lineNumber":180,"author":{"gitId":"-"},"content":"      issueUrl \u003d this.ISSUE_FILTER;","isFullCredit":false},{"lineNumber":181,"author":{"gitId":"-"},"content":"    } else {","isFullCredit":false},{"lineNumber":182,"author":{"gitId":"-"},"content":"      // issueUrl will be from the second \u0027/\u0027","isFullCredit":false},{"lineNumber":183,"author":{"gitId":"-"},"content":"      issueUrl \u003d routerUrl.substring(issueUrlIndex);","isFullCredit":false},{"lineNumber":184,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":185,"author":{"gitId":"-"},"content":"    // Open the url in user\u0027s preferred browser","isFullCredit":false},{"lineNumber":186,"author":{"gitId":"-"},"content":"    window.open(\u0027https://github.com/\u0027.concat(this.githubService.getRepoURL()).concat(issueUrl));","isFullCredit":false},{"lineNumber":187,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":188,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":189,"author":{"gitId":"-"},"content":"  openIssueTracker() {","isFullCredit":false},{"lineNumber":190,"author":{"gitId":"-"},"content":"    window.open(ISSUE_TRACKER_URL);","isFullCredit":false},{"lineNumber":191,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":192,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":193,"author":{"gitId":"-"},"content":"  reload() {","isFullCredit":false},{"lineNumber":194,"author":{"gitId":"-"},"content":"    this.isReloadButtonDisabled \u003d true;","isFullCredit":false},{"lineNumber":195,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":196,"author":{"gitId":"-"},"content":"    this.githubEventService.reloadPage().subscribe(","isFullCredit":false},{"lineNumber":197,"author":{"gitId":"-"},"content":"      (success) \u003d\u003e success,","isFullCredit":false},{"lineNumber":198,"author":{"gitId":"-"},"content":"      (error) \u003d\u003e {","isFullCredit":false},{"lineNumber":199,"author":{"gitId":"-"},"content":"        this.errorHandlingService.handleError(error, () \u003d\u003e this.githubEventService.reloadPage());","isFullCredit":false},{"lineNumber":200,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":201,"author":{"gitId":"-"},"content":"    );","isFullCredit":false},{"lineNumber":202,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":203,"author":{"gitId":"-"},"content":"    this.labelService.fetchLabels().subscribe(","isFullCredit":false},{"lineNumber":204,"author":{"gitId":"-"},"content":"      (success) \u003d\u003e success,","isFullCredit":false},{"lineNumber":205,"author":{"gitId":"-"},"content":"      (error) \u003d\u003e {","isFullCredit":false},{"lineNumber":206,"author":{"gitId":"-"},"content":"        this.errorHandlingService.handleError(error, () \u003d\u003e this.labelService.fetchLabels());","isFullCredit":false},{"lineNumber":207,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":208,"author":{"gitId":"-"},"content":"    );","isFullCredit":false},{"lineNumber":209,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":210,"author":{"gitId":"-"},"content":"    // Prevent user from spamming the reload button","isFullCredit":false},{"lineNumber":211,"author":{"gitId":"-"},"content":"    setTimeout(() \u003d\u003e {","isFullCredit":false},{"lineNumber":212,"author":{"gitId":"-"},"content":"      this.isReloadButtonDisabled \u003d false;","isFullCredit":false},{"lineNumber":213,"author":{"gitId":"-"},"content":"    }, 3000);","isFullCredit":false},{"lineNumber":214,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":215,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":216,"author":{"gitId":"-"},"content":"  logOut() {","isFullCredit":false},{"lineNumber":217,"author":{"gitId":"-"},"content":"    this.auth.logOut();","isFullCredit":false},{"lineNumber":218,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":219,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":220,"author":{"gitId":"-"},"content":"  openLogOutDialog() {","isFullCredit":false},{"lineNumber":221,"author":{"gitId":"-"},"content":"    const dialogRef \u003d this.dialogService.openUserConfirmationModal(","isFullCredit":false},{"lineNumber":222,"author":{"gitId":"-"},"content":"      this.logOutDialogMessages,","isFullCredit":false},{"lineNumber":223,"author":{"gitId":"-"},"content":"      this.yesButtonDialogMessage,","isFullCredit":false},{"lineNumber":224,"author":{"gitId":"-"},"content":"      this.noButtonDialogMessage","isFullCredit":false},{"lineNumber":225,"author":{"gitId":"-"},"content":"    );","isFullCredit":false},{"lineNumber":226,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":227,"author":{"gitId":"-"},"content":"    dialogRef.afterClosed().subscribe((res) \u003d\u003e {","isFullCredit":false},{"lineNumber":228,"author":{"gitId":"-"},"content":"      if (res) {","isFullCredit":false},{"lineNumber":229,"author":{"gitId":"-"},"content":"        this.logger.info(`HeaderComponent: Logging out from ${this.userService.currentUser.loginId}`);","isFullCredit":false},{"lineNumber":230,"author":{"gitId":"-"},"content":"        this.logOut();","isFullCredit":false},{"lineNumber":231,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":232,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":233,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":234,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":235,"author":{"gitId":"-"},"content":"  exportLogFile() {","isFullCredit":false},{"lineNumber":236,"author":{"gitId":"-"},"content":"    this.logger.exportLogFile();","isFullCredit":false},{"lineNumber":237,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":238,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":239,"author":{"gitId":"-"},"content":"  initializeRepoNameInTitle() {","isFullCredit":false},{"lineNumber":240,"author":{"gitId":"-"},"content":"    if (Repo.isInvalidRepoName(this.viewService.currentRepo)) {","isFullCredit":false},{"lineNumber":241,"author":{"gitId":"-"},"content":"      return;","isFullCredit":false},{"lineNumber":242,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":243,"author":{"gitId":"-"},"content":"    const currentRepoString \u003d this.viewService.currentRepo.toString();","isFullCredit":false},{"lineNumber":244,"author":{"gitId":"-"},"content":"    this.logger.info(`HeaderComponent: initializing current repository name as ${currentRepoString}`);","isFullCredit":false},{"lineNumber":245,"author":{"gitId":"-"},"content":"    this.currentRepo \u003d currentRepoString;","isFullCredit":false},{"lineNumber":246,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":247,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":248,"author":{"gitId":"-"},"content":"  /**","isFullCredit":false},{"lineNumber":249,"author":{"gitId":"-"},"content":"   * Change repository viewed on Issue Dashboard, if a valid repository is provided.","isFullCredit":false},{"lineNumber":250,"author":{"gitId":"-"},"content":"   * Re-open dialog to prompt for another repository if an invalid one is provided.","isFullCredit":false},{"lineNumber":251,"author":{"gitId":"-"},"content":"   */","isFullCredit":false},{"lineNumber":252,"author":{"gitId":"-"},"content":"  changeRepositoryIfValid(repo: Repo, newRepoString: string, keepFilters: boolean) {","isFullCredit":false},{"lineNumber":253,"author":{"gitId":"-"},"content":"    if (newRepoString \u003d\u003d\u003d this.currentRepo) {","isFullCredit":false},{"lineNumber":254,"author":{"gitId":"-"},"content":"      return;","isFullCredit":false},{"lineNumber":255,"author":{"gitId":"-"},"content":"    }","isFullCredit":false},{"lineNumber":256,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":257,"author":{"gitId":"-"},"content":"    this.viewService","isFullCredit":false},{"lineNumber":258,"author":{"gitId":"-"},"content":"      .changeRepositoryIfValid(repo)","isFullCredit":false},{"lineNumber":259,"author":{"gitId":"-"},"content":"      .then(() \u003d\u003e {","isFullCredit":false},{"lineNumber":260,"author":{"gitId":"-"},"content":"        this.auth.setTitleWithViewDetail();","isFullCredit":false},{"lineNumber":261,"author":{"gitId":"-"},"content":"        this.currentRepo \u003d newRepoString;","isFullCredit":false},{"lineNumber":262,"author":{"gitId":"-"},"content":"        if (!keepFilters) {","isFullCredit":false},{"lineNumber":263,"author":{"gitId":"-"},"content":"          this.groupingContextService.reset();","isFullCredit":false},{"lineNumber":264,"author":{"gitId":"-"},"content":"          this.filtersService.clearFilters();","isFullCredit":false},{"lineNumber":265,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":266,"author":{"gitId":"-"},"content":"      })","isFullCredit":false},{"lineNumber":267,"author":{"gitId":"-"},"content":"      .catch((error) \u003d\u003e {","isFullCredit":false},{"lineNumber":268,"author":{"gitId":"-"},"content":"        this.openChangeRepoDialog();","isFullCredit":false},{"lineNumber":269,"author":{"gitId":"-"},"content":"        this.errorHandlingService.handleError(error);","isFullCredit":false},{"lineNumber":270,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":271,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":272,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":273,"author":{"gitId":"-"},"content":"  applyRepoDropdown(repoString: string) {","isFullCredit":false},{"lineNumber":274,"author":{"gitId":"-"},"content":"    const newRepo \u003d Repo.of(repoString);","isFullCredit":false},{"lineNumber":275,"author":{"gitId":"-"},"content":"    this.changeRepositoryIfValid(newRepo, newRepo.toString(), this.keepFilters);","isFullCredit":false},{"lineNumber":276,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":277,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":278,"author":{"gitId":"-"},"content":"  toggleKeepFilters(event: MouseEvent) {","isFullCredit":false},{"lineNumber":279,"author":{"gitId":"-"},"content":"    event.stopPropagation();","isFullCredit":false},{"lineNumber":280,"author":{"gitId":"-"},"content":"    this.keepFilters \u003d !this.keepFilters;","isFullCredit":false},{"lineNumber":281,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":282,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":283,"author":{"gitId":"-"},"content":"  openChangeRepoDialog() {","isFullCredit":false},{"lineNumber":284,"author":{"gitId":"-"},"content":"    const dialogRef \u003d this.dialogService.openChangeRepoDialog(this.currentRepo);","isFullCredit":false},{"lineNumber":285,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":286,"author":{"gitId":"-"},"content":"    dialogRef.afterClosed().subscribe((res: RepoChangeResponse | null) \u003d\u003e {","isFullCredit":false},{"lineNumber":287,"author":{"gitId":"-"},"content":"      if (!res) {","isFullCredit":false},{"lineNumber":288,"author":{"gitId":"-"},"content":"        return;","isFullCredit":false},{"lineNumber":289,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":290,"author":{"gitId":"-"},"content":"      const newRepo \u003d Repo.of(res.repo);","isFullCredit":false},{"lineNumber":291,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":292,"author":{"gitId":"-"},"content":"      if (this.viewService.isRepoSet()) {","isFullCredit":false},{"lineNumber":293,"author":{"gitId":"-"},"content":"        this.changeRepositoryIfValid(newRepo, newRepo.toString(), res.keepFilters);","isFullCredit":false},{"lineNumber":294,"author":{"gitId":"-"},"content":"      } else {","isFullCredit":false},{"lineNumber":295,"author":{"gitId":"-"},"content":"        /**","isFullCredit":false},{"lineNumber":296,"author":{"gitId":"-"},"content":"         * From session-selection.component.ts","isFullCredit":false},{"lineNumber":297,"author":{"gitId":"-"},"content":"         *","isFullCredit":false},{"lineNumber":298,"author":{"gitId":"-"},"content":"         * Persist repo information in local browser storage","isFullCredit":false},{"lineNumber":299,"author":{"gitId":"-"},"content":"         * To retrieve after authentication redirects back to WATcher","isFullCredit":false},{"lineNumber":300,"author":{"gitId":"-"},"content":"         *","isFullCredit":false},{"lineNumber":301,"author":{"gitId":"-"},"content":"         * Since localStorage::setItem with an undefined value can result in","isFullCredit":false},{"lineNumber":302,"author":{"gitId":"-"},"content":"         * the subsequent value being stored as a string being \u0027undefined\u0027, check","isFullCredit":false},{"lineNumber":303,"author":{"gitId":"-"},"content":"         * if undefined before storing it. Let\u0027s reset the items before setting them.","isFullCredit":false},{"lineNumber":304,"author":{"gitId":"-"},"content":"         */","isFullCredit":false},{"lineNumber":305,"author":{"gitId":"-"},"content":"        window.localStorage.removeItem(STORAGE_KEYS.ORG);","isFullCredit":false},{"lineNumber":306,"author":{"gitId":"-"},"content":"        window.localStorage.removeItem(STORAGE_KEYS.DATA_REPO);","isFullCredit":false},{"lineNumber":307,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":308,"author":{"gitId":"-"},"content":"        if (newRepo) {","isFullCredit":false},{"lineNumber":309,"author":{"gitId":"-"},"content":"          window.localStorage.setItem(STORAGE_KEYS.ORG, newRepo.owner);","isFullCredit":false},{"lineNumber":310,"author":{"gitId":"-"},"content":"          window.localStorage.setItem(STORAGE_KEYS.DATA_REPO, newRepo.name);","isFullCredit":false},{"lineNumber":311,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":312,"author":{"gitId":"-"},"content":"          this.repoUrlCacheService.cache(newRepo.toString());","isFullCredit":false},{"lineNumber":313,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":314,"author":{"gitId":"-"},"content":"        this.auth.setRepo().subscribe();","isFullCredit":false},{"lineNumber":315,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":316,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":317,"author":{"gitId":"-"},"content":"  }","isFullCredit":false},{"lineNumber":318,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"-":316,"Norbert":2}},{"path":"src/app/shared/presets/presets-save-prompt/presets-save-prompt.component.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":".full-width {","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"  width: 100%;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":".footer-buttons {","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Marcus Soh"},"content":"  width: 100%;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":"  justify-content: flex-end;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":"  gap: 1.25rem;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Marcus Soh"},"content":".mat-dialog-container {","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Marcus Soh"},"content":"  overflow-y: hidden;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":14}},{"path":"src/app/shared/presets/presets-save-prompt/presets-save-prompt.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"\u003cform (ngSubmit)\u003d\"onSubmit($event)\" [formGroup]\u003d\"form\"\u003e","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"  \u003ch1 mat-dialog-title\u003eSave new preset\u003c/h1\u003e","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"  \u003cmat-dialog-content\u003e","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"    \u003cdiv class\u003d\"content-wrapper\"\u003e","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":"      \u003cp\u003ePlease enter a name for your preset.\u003c/p\u003e","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Marcus Soh"},"content":"      \u003cmat-form-field class\u003d\"full-width\"\u003e","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"        \u003cmat-label\u003eName\u003c/mat-label\u003e","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":"        \u003cinput formControlName\u003d\"label\" name\u003d\"label\" matInput required /\u003e","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":"      \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"      \u003cp\u003e\u003c/p\u003e","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Marcus Soh"},"content":"      \u003cmat-checkbox formControlName\u003d\"isGlobal\" name\u003d\"isGlobal\"\u003eGlobal preset\u003c/mat-checkbox\u003e","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Marcus Soh"},"content":"      \u003cdiv\u003e","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Marcus Soh"},"content":"        \u003cmat-hint\u003eGlobal presets save all filters \u003cb\u003eexcept\u003c/b\u003e Milestones, Assignees and Labels.\u003c/mat-hint\u003e","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"      \u003c/div\u003e","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Marcus Soh"},"content":"    \u003c/div\u003e","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Marcus Soh"},"content":"  \u003c/mat-dialog-content\u003e","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"Marcus Soh"},"content":"  \u003cdiv mat-dialog-actions class\u003d\"footer-buttons\"\u003e","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Marcus Soh"},"content":"    \u003cbutton mat-button [mat-dialog-close]\u003d\"{ action: \u0027cancel\u0027 }\"\u003eCancel\u003c/button\u003e","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"Marcus Soh"},"content":"    \u003cbutton type\u003d\"submit\" mat-button\u003eSave\u003c/button\u003e","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"Marcus Soh"},"content":"  \u003c/div\u003e","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"Marcus Soh"},"content":"\u003c/form\u003e","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":21}},{"path":"src/app/shared/presets/presets-save-prompt/presets-save-prompt.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"import { Component, Inject, OnInit } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"import { FormBuilder, FormGroup, Validators } from \u0027@angular/forms\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"import { MatDialogRef, MAT_DIALOG_DATA } from \u0027@angular/material/dialog\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"import { DialogData } from \u0027../presets.component\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Marcus Soh"},"content":"@Component({","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"  selector: \u0027app-presets-save-prompt\u0027,","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":"  templateUrl: \u0027./presets-save-prompt.component.html\u0027,","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":"  styleUrls: [\u0027./presets-save-prompt.component.css\u0027]","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"})","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Marcus Soh"},"content":"export class PresetsSavePromptComponent implements OnInit {","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Marcus Soh"},"content":"  form: FormGroup;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Marcus Soh"},"content":"  constructor(","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"    private fb: FormBuilder,","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Marcus Soh"},"content":"    public dialogRef: MatDialogRef\u003cPresetsSavePromptComponent\u003e,","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Marcus Soh"},"content":"    @Inject(MAT_DIALOG_DATA) public data: DialogData","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"Marcus Soh"},"content":"  ) {}","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"Marcus Soh"},"content":"  ngOnInit(): void {","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"Marcus Soh"},"content":"    this.form \u003d this.fb.group({","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"Marcus Soh"},"content":"      label: [\u0027\u0027, Validators.required],","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"Marcus Soh"},"content":"      isGlobal: [false]","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"Marcus Soh"},"content":"    });","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"Marcus Soh"},"content":"  onSubmit(event: Event) {","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Marcus Soh"},"content":"    event.preventDefault();","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Marcus Soh"},"content":"    if (this.form.valid) {","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"Marcus Soh"},"content":"      this.dialogRef.close({ action: \u0027confirm\u0027, data: this.form.value });","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":33}},{"path":"src/app/shared/presets/presets.component.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":".wrapper {","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"  flex-direction: row;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"  justify-content: end;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Marcus Soh"},"content":"  gap: 1.25rem;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":".option-wrapper {","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Marcus Soh"},"content":"  flex-direction: row;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Marcus Soh"},"content":"  justify-content: space-between;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Marcus Soh"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Marcus Soh"},"content":"::ng-deep .mat-tooltip {","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"Marcus Soh"},"content":"  white-space: pre-line;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":18}},{"path":"src/app/shared/presets/presets.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"\u003cdiv class\u003d\"wrapper\"\u003e","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"  \u003c!-- \u003cmat-slide-toggle [(ngModel)]\u003d\"!!this.presetsService.currentPreset\" (change)\u003d\"onSaveToggleClicked($event)\" labelPosition\u003d\"before\"","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"    \u003eSave your filters\u003c/mat-slide-toggle","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"  \u003e --\u003e","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":"  \u003cmat-form-field appearance\u003d\"standard\"\u003e","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Marcus Soh"},"content":"    \u003cmat-label","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"      \u003eCurrent preset","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":"      \u003cspan *ngIf\u003d\"this.presetsService.currentPreset \u0026\u0026 this.presetsService.currentPreset.isGlobal()\"\u003e (global) \u003c/span\u003e\u003c/mat-label","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":"    \u003e","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"    \u003cmat-select","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Marcus Soh"},"content":"      [(ngModel)]\u003d\"this.presetsService.currentPreset\"","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Marcus Soh"},"content":"      (selectionChange)\u003d\"onOptionSelected($event)\"","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Marcus Soh"},"content":"      (openedChange)\u003d\"onSelectOpened($event)\"","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"    \u003e","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Marcus Soh"},"content":"      \u003cmat-select-trigger\u003e","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Marcus Soh"},"content":"        {{ this.presetsService.currentPreset?.label || \u0027None\u0027 }}","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"Marcus Soh"},"content":"      \u003c/mat-select-trigger\u003e","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Marcus Soh"},"content":"      \u003cmat-optgroup [label]\u003d\"\u0027Global presets\u0027\"\u003e","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"Marcus Soh"},"content":"        \u003cmat-option","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"Marcus Soh"},"content":"          *ngFor\u003d\"let preset of this.presetsService.globalPresets$.value\"","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"Marcus Soh"},"content":"          [value]\u003d\"preset\"","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"Marcus Soh"},"content":"          [matTooltip]\u003d\"preset.toText()\"","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"Marcus Soh"},"content":"          matTooltipPosition\u003d\"left\"","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Marcus Soh"},"content":"        \u003e","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"Marcus Soh"},"content":"          \u003cdiv class\u003d\"option-wrapper\"\u003e","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"Marcus Soh"},"content":"            {{ preset.label }}","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Marcus Soh"},"content":"            \u003cbutton mat-button (click)\u003d\"onDeleteButtonClicked($event, preset)\"\u003e","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Marcus Soh"},"content":"              \u003cmat-icon aria-hidden\u003d\"false\" aria-label\u003d\"Delete preset\" style\u003d\"margin: 0\" color\u003d\"warn\"\u003edelete_outline\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Marcus Soh"},"content":"            \u003c/button\u003e","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"Marcus Soh"},"content":"          \u003c/div\u003e","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Marcus Soh"},"content":"        \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"Marcus Soh"},"content":"        \u003cmat-option *ngIf\u003d\"this.presetsService.globalPresets$.value.length \u003d\u003d 0\" [value]\u003d\"undefined\" disabled\u003e -- none -- \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Marcus Soh"},"content":"      \u003c/mat-optgroup\u003e","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Marcus Soh"},"content":"      \u003cmat-optgroup [label]\u003d\"\u0027Repo-specific presets\u0027\"\u003e","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Marcus Soh"},"content":"        \u003cmat-option","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Marcus Soh"},"content":"          *ngFor\u003d\"let preset of this.presetsService.availablePresets$.value\"","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Marcus Soh"},"content":"          [value]\u003d\"preset\"","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Marcus Soh"},"content":"          [matTooltip]\u003d\"preset.toText()\"","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Marcus Soh"},"content":"          matTooltipPosition\u003d\"left\"","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"Marcus Soh"},"content":"        \u003e","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Marcus Soh"},"content":"          \u003cdiv class\u003d\"option-wrapper\"\u003e","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Marcus Soh"},"content":"            {{ preset.label }}","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"Marcus Soh"},"content":"            \u003cbutton mat-button (click)\u003d\"onDeleteButtonClicked($event, preset)\"\u003e","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"Marcus Soh"},"content":"              \u003cmat-icon aria-hidden\u003d\"false\" aria-label\u003d\"Delete preset\" style\u003d\"margin: 0\" color\u003d\"warn\"\u003edelete_outline\u003c/mat-icon\u003e","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"Marcus Soh"},"content":"            \u003c/button\u003e","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"Marcus Soh"},"content":"          \u003c/div\u003e","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"Marcus Soh"},"content":"        \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"Marcus Soh"},"content":"        \u003cmat-option *ngIf\u003d\"this.presetsService.availablePresets$.value.length \u003d\u003d 0\" [value]\u003d\"undefined\" disabled\u003e -- none -- \u003c/mat-option\u003e","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"Marcus Soh"},"content":"      \u003c/mat-optgroup\u003e","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"Marcus Soh"},"content":"    \u003c/mat-select\u003e","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"Marcus Soh"},"content":"  \u003c/mat-form-field\u003e","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"Marcus Soh"},"content":"  \u003c!-- \u003cbutton mat-button color\u003d\"warn\" *ngIf\u003d\"!!this.presetsService.currentPreset\" (click)\u003d\"onSaveButtonClicked()\"\u003eDelete\u003c/button\u003e --\u003e","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"Marcus Soh"},"content":"  \u003cbutton mat-raised-button color\u003d\"primary\" (click)\u003d\"onSaveButtonClicked()\"\u003eSave\u003c/button\u003e","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"Marcus Soh"},"content":"\u003c/div\u003e","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":54}},{"path":"src/app/shared/presets/presets.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"import { Component, OnDestroy, OnInit } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"import { MatDialog } from \u0027@angular/material/dialog\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"import { MatSelectChange } from \u0027@angular/material/select\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"import { MatSlideToggleChange } from \u0027@angular/material/slide-toggle\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":"import { Subject } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Marcus Soh"},"content":"import { takeUntil } from \u0027rxjs/operators\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"import { EitherOrPreset, Preset } from \u0027../../core/models/preset.model\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":"import { GroupingContextService } from \u0027../../core/services/grouping/grouping-context.service\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":"import { LoggingService } from \u0027../../core/services/logging.service\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"import { PresetsService } from \u0027../../core/services/presets.services\u0027;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Marcus Soh"},"content":"import { ViewService } from \u0027../../core/services/view.service\u0027;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"Marcus Soh"},"content":"import { PresetsSavePromptComponent } from \u0027./presets-save-prompt/presets-save-prompt.component\u0027;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Marcus Soh"},"content":"export interface DialogData {","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Marcus Soh"},"content":"  label: string;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Marcus Soh"},"content":"/**","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"Marcus Soh"},"content":" * This component is abstracted out save-filter controls used by Issues-viewer","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"Marcus Soh"},"content":" */","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"Marcus Soh"},"content":"@Component({","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"Marcus Soh"},"content":"  selector: \u0027app-presets\u0027,","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"Marcus Soh"},"content":"  templateUrl: \u0027./presets.component.html\u0027,","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Marcus Soh"},"content":"  styleUrls: [\u0027./presets.component.css\u0027]","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"Marcus Soh"},"content":"})","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"Marcus Soh"},"content":"export class PresetsComponent implements OnDestroy {","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Marcus Soh"},"content":"  constructor(","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Marcus Soh"},"content":"    private logger: LoggingService,","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Marcus Soh"},"content":"    public dialog: MatDialog,","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"Marcus Soh"},"content":"    public presetsService: PresetsService,","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"Marcus Soh"},"content":"    public groupingContextService: GroupingContextService,","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"Marcus Soh"},"content":"    private viewService: ViewService","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Marcus Soh"},"content":"  ) {}","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Marcus Soh"},"content":"  selected \u003d \u0027\u0027;","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Marcus Soh"},"content":"  // public isChecked \u003d false;","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Marcus Soh"},"content":"  private unsubscribe$ \u003d new Subject\u003cvoid\u003e();","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Marcus Soh"},"content":"  private isMenuOpen \u003d false;","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"Marcus Soh"},"content":"  onSaveButtonClicked() {","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Marcus Soh"},"content":"    this.promptSave();","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"Marcus Soh"},"content":"  onDeleteButtonClicked(event: MouseEvent, preset: EitherOrPreset) {","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"Marcus Soh"},"content":"    event.preventDefault();","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"Marcus Soh"},"content":"    event.stopPropagation();","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"Marcus Soh"},"content":"    this.presetsService.deletePreset(preset);","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"Marcus Soh"},"content":"  promptSave() {","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"Marcus Soh"},"content":"    const dialogRef \u003d this.dialog.open(PresetsSavePromptComponent, {","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"Marcus Soh"},"content":"      width: \u0027400px\u0027","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"Marcus Soh"},"content":"    });","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"Marcus Soh"},"content":"    dialogRef.afterClosed().subscribe((result) \u003d\u003e {","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"Marcus Soh"},"content":"      if (result?.action \u003d\u003d\u003d \u0027confirm\u0027) {","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"Marcus Soh"},"content":"        // save the filter","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"Marcus Soh"},"content":"        // get the URL","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"Marcus Soh"},"content":"        // set in localstorage using filters-save.services.ts","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"Marcus Soh"},"content":"        const groupBy \u003d this.groupingContextService.currGroupBy;","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"Marcus Soh"},"content":"        const preset \u003d this.presetsService.savePreset(this.viewService.currentRepo, groupBy, result.data);","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"Marcus Soh"},"content":"        this.presetsService.changeToPreset(preset);","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"Marcus Soh"},"content":"      }","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"Marcus Soh"},"content":"    });","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"Marcus Soh"},"content":"  // on select","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"Marcus Soh"},"content":"  onOptionSelected(event: MatSelectChange) {","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"Marcus Soh"},"content":"    const preset \u003d event.value;","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"Marcus Soh"},"content":"    if (preset) {","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"Marcus Soh"},"content":"      this.logger.info(`PresetComponent: Changing to preset`, preset);","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"Marcus Soh"},"content":"      this.presetsService.changeToPreset(preset);","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"Marcus Soh"},"content":"    } else {","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"Marcus Soh"},"content":"      this.logger.warn(`PresetComponent: Preset not found`);","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"Marcus Soh"},"content":"    }","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"Marcus Soh"},"content":"  onSelectOpened(event: boolean) {","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"Marcus Soh"},"content":"    this.isMenuOpen \u003d event;","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"Marcus Soh"},"content":"  ngOnDestroy(): void {","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"Marcus Soh"},"content":"    this.unsubscribe$.next();","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"Marcus Soh"},"content":"    this.unsubscribe$.complete();","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"Marcus Soh"},"content":"  }","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"Marcus Soh"},"content":"}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":87}},{"path":"src/app/shared/presets/presets.module.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Marcus Soh"},"content":"import { NgModule } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Marcus Soh"},"content":"import { SharedModule } from \u0027../shared.module\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Marcus Soh"},"content":"import { PresetsSavePromptComponent } from \u0027./presets-save-prompt/presets-save-prompt.component\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Marcus Soh"},"content":"import { PresetsComponent } from \u0027./presets.component\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Marcus Soh"},"content":"@NgModule({","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"  imports: [SharedModule],","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Marcus Soh"},"content":"  declarations: [PresetsComponent, PresetsSavePromptComponent],","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":"  exports: [PresetsComponent]","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"Marcus Soh"},"content":"})","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"Marcus Soh"},"content":"export class PresetsModule {}","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":11}},{"path":"src/styles.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"/* You can add global styles to this file, and also import other style files */","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"html,","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"body {","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"  margin: 0;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"  padding: 0;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"  min-height: 100vh;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"  height: 100%;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"html,","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"body {","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"  height: 100%;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"body {","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  margin: 0;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"  font-family: Roboto, \u0027Helvetica Neue\u0027, sans-serif;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"tng wen xi"},"content":"app-root {","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"tng wen xi"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"tng wen xi"},"content":"  flex-direction: column;","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"tng wen xi"},"content":"  height: 100vh;","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"tng wen xi"},"content":"}","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"tng wen xi"},"content":"","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"/* Timeline comment style */","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":".timeline-header {","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"  background-color: #f1f8ff;","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"  border-bottom: 1px solid #c0d3eb;","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"  border-top-left-radius: 3px;","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  border-top-right-radius: 3px;","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"  color: #586069;","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"  height: 35px;","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"  padding: 5px;","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":".timeline-comment {","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"  overflow: auto;","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"  border: 1px solid #c0d3eb;","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"  background-color: #fff;","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  border-radius: 3px;","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"  margin-bottom: 30px;","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":".comment {","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  padding: 15px;","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":".question-mark {","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"  color: red;","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"  font-size: 35px;","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"  margin: 0 10px 15px 0;","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"  text-shadow: -1.5px 0 black, 0 1.5px black, 1.5px 0 black, 0 -1.5px black;","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"/* Timeline comment style */","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"/* MaterialUI icon styles */","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":".material-icons-outlined,","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":".material-icons.material-icons--outlined,","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":".material-icons-two-tone,","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":".material-icons.material-icons--two-tone,","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":".material-icons-round,","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":".material-icons.material-icons--round,","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":".material-icons-sharp,","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":".material-icons.material-icons--sharp {","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"  font-weight: normal;","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"  font-style: normal;","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"  font-size: 24px;","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"  line-height: 1;","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"  letter-spacing: normal;","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"  text-transform: none;","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"  display: inline-block;","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"  white-space: nowrap;","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"  word-wrap: normal;","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"  direction: ltr;","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"  -webkit-font-feature-settings: \u0027liga\u0027;","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"  -webkit-font-smoothing: antialiased;","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":".material-icons-outlined,","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":".material-icons.material-icons--outlined {","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"  font-family: \u0027Material Icons Outlined\u0027;","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":".material-icons-two-tone,","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":".material-icons.material-icons--two-tone {","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"  font-family: \u0027Material Icons Two Tone\u0027;","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":".material-icons-round,","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":".material-icons.material-icons--round {","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"  font-family: \u0027Material Icons Round\u0027;","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":".material-icons-sharp,","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":".material-icons.material-icons--sharp {","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"  font-family: \u0027Material Icons Sharp\u0027;","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"/* MaterialUI icon styles */","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":".link-grey-dark {","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"  color: #24292e;","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"  font-weight: 500;","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"  font-size: 16px;","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":".link-grey-dark:hover {","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"  color: #0366d6;","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":".no-underline {","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"  text-decoration: none !important;","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":".grid-flush-left {","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"  position: absolute;","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"  left: 5px;","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":".grid-flush-right {","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"  position: absolute;","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"  right: 5px;","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":".mat-table tbody tr:hover td {","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"  background-color: #e8e8ee;","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"table {","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"-"},"content":"  width: 100%;","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"  table-layout: fixed;","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"-"},"content":".centralize {","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"-"},"content":"  justify-content: center;","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"-"},"content":".editor-actions {","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"-"},"content":"  float: right;","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"-"},"content":"  padding: 10px;","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"-"},"content":".editor-action {","isFullCredit":false},{"lineNumber":146,"author":{"gitId":"-"},"content":"  margin-left: 10px !important;","isFullCredit":false},{"lineNumber":147,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":148,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":149,"author":{"gitId":"-"},"content":".bold-name {","isFullCredit":false},{"lineNumber":150,"author":{"gitId":"-"},"content":"  font-weight: 500;","isFullCredit":false},{"lineNumber":151,"author":{"gitId":"-"},"content":"  font-size: 17px;","isFullCredit":false},{"lineNumber":152,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":153,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":154,"author":{"gitId":"-"},"content":".full-grid-width {","isFullCredit":false},{"lineNumber":155,"author":{"gitId":"-"},"content":"  width: 100%;","isFullCredit":false},{"lineNumber":156,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":157,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":158,"author":{"gitId":"-"},"content":".white-spinner circle {","isFullCredit":false},{"lineNumber":159,"author":{"gitId":"-"},"content":"  stroke: white !important;","isFullCredit":false},{"lineNumber":160,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":161,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":162,"author":{"gitId":"-"},"content":".sync-spinner {","isFullCredit":false},{"lineNumber":163,"author":{"gitId":"-"},"content":"  display: flex;","isFullCredit":false},{"lineNumber":164,"author":{"gitId":"-"},"content":"  align-items: center;","isFullCredit":false},{"lineNumber":165,"author":{"gitId":"-"},"content":"  justify-content: center;","isFullCredit":false},{"lineNumber":166,"author":{"gitId":"-"},"content":"  margin-left: 16px;","isFullCredit":false},{"lineNumber":167,"author":{"gitId":"-"},"content":"  margin-right: 16px;","isFullCredit":false},{"lineNumber":168,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":169,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":170,"author":{"gitId":"-"},"content":".column.left {","isFullCredit":false},{"lineNumber":171,"author":{"gitId":"-"},"content":"  max-width: 85%;","isFullCredit":false},{"lineNumber":172,"author":{"gitId":"-"},"content":"  min-width: 380px;","isFullCredit":false},{"lineNumber":173,"author":{"gitId":"-"},"content":"}","isFullCredit":false},{"lineNumber":174,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":175,"author":{"gitId":"-"},"content":".column.right {","isFullCredit":false},{"lineNumber":176,"author":{"gitId":"-"},"content":"  max-width: 15%;","isFullCredit":false},{"lineNumber":177,"author":{"gitId":"-"},"content":"  min-width: 180px;","isFullCredit":false},{"lineNumber":178,"author":{"gitId":"-"},"content":"}","isFullCredit":false}],"authorContributionMap":{"tng wen xi":6,"-":172}},{"path":"tests/app/shared/filter-bar/label-filter-bar/label-filter-bar.component.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { NO_ERRORS_SCHEMA } from \u0027@angular/core\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { ComponentFixture, fakeAsync, TestBed, tick } from \u0027@angular/core/testing\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { MatSelectionList } from \u0027@angular/material/list\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { MatMenuModule } from \u0027@angular/material/menu\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { BehaviorSubject, of } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { SimpleLabel } from \u0027../../../../../src/app/core/models/label.model\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Marcus Soh"},"content":"import { Filter, FiltersService } from \u0027../../../../../src/app/core/services/filters.service\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027../../../../../src/app/core/services/label.service\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../../../../../src/app/core/services/logging.service\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { LabelFilterBarComponent } from \u0027../../../../../src/app/shared/filter-bar/label-filter-bar/label-filter-bar.component\u0027;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { LABEL_NAME_SEVERITY_HIGH, LABEL_NAME_SEVERITY_LOW, SEVERITY_SIMPLE_LABELS } from \u0027../../../../constants/label.constants\u0027;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"describe(\u0027LabelFilterBarComponent\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  let component: LabelFilterBarComponent;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  let fixture: ComponentFixture\u003cLabelFilterBarComponent\u003e;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  let labelServiceSpy: jasmine.SpyObj\u003cLabelService\u003e;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"  let loggingServiceSpy: jasmine.SpyObj\u003cLoggingService\u003e;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"  let filtersServiceSpy: jasmine.SpyObj\u003cFiltersService\u003e;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"  let labelsSubject: BehaviorSubject\u003cSimpleLabel[]\u003e;","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  beforeEach(async () \u003d\u003e {","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"    labelServiceSpy \u003d jasmine.createSpyObj(\u0027LabelService\u0027, [\u0027connect\u0027, \u0027startPollLabels\u0027, \u0027fetchLabels\u0027]);","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"    loggingServiceSpy \u003d jasmine.createSpyObj(\u0027LoggingService\u0027, [\u0027info\u0027, \u0027debug\u0027]);","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"Marcus Soh"},"content":"    filtersServiceSpy \u003d jasmine.createSpyObj(\u0027FiltersService\u0027, [\u0027updateFilters\u0027, \u0027sanitizeLabels\u0027], {","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"Marcus Soh"},"content":"      filter$: new BehaviorSubject\u003cany\u003e({}).asObservable()","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"Marcus Soh"},"content":"    });","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"    TestBed.configureTestingModule({","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"      providers: [","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"        { provide: LabelService, useValue: labelServiceSpy },","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"        { provide: LoggingService, useValue: loggingServiceSpy },","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"        { provide: FiltersService, useValue: filtersServiceSpy }","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"      ],","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"      imports: [MatMenuModule],","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"      declarations: [LabelFilterBarComponent],","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"      schemas: [NO_ERRORS_SCHEMA]","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"    }).compileComponents();","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"    fixture \u003d TestBed.createComponent(LabelFilterBarComponent);","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"    component \u003d fixture.componentInstance;","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"    fixture.detectChanges();","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"  it(\u0027should create\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"    expect(component).toBeTruthy();","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"  describe(\u0027ngAfterViewInit\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"    beforeEach(() \u003d\u003e {","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"      // Setup labels observable","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"      labelsSubject \u003d new BehaviorSubject\u003cSimpleLabel[]\u003e([]);","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"      labelServiceSpy.fetchLabels.and.returnValue(of([]));","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"      labelServiceSpy.connect.and.returnValue(labelsSubject.asObservable());","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"      filtersServiceSpy.sanitizeLabels.and.callThrough();","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"    // it(\u0027should update allLabels with latest emmitted value after ngAfterViewInit\u0027, fakeAsync(() \u003d\u003e {","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"    //   component.ngAfterViewInit();","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"    //   tick();","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"    //   labelsSubject.next(SEVERITY_SIMPLE_LABELS);","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"    //   expect(component.allLabels).toEqual(SEVERITY_SIMPLE_LABELS);","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"    // }));","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"  describe(\u0027hide(label)\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"    it(\u0027should add label to hidden labels set and update filter\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"      const label \u003d LABEL_NAME_SEVERITY_HIGH;","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"      expect(component.hiddenLabelNames).not.toContain(label);","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"      component.hide(label);","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"      expect(component.hiddenLabelNames).toContain(label);","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"Marcus Soh"},"content":"      expect(filtersServiceSpy.updateFilters).toHaveBeenCalledWith({","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"Marcus Soh"},"content":"        hiddenLabels: component.hiddenLabelNames,","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"Marcus Soh"},"content":"        labels: [],","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"Marcus Soh"},"content":"        deselectedLabels: new Set\u003cstring\u003e([])","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"Marcus Soh"},"content":"      });","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"  describe(\u0027show(label)\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"    it(\u0027should remove label from hidden labels set and update filter\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"      const label \u003d LABEL_NAME_SEVERITY_HIGH;","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"      component.hide(label);","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"      expect(component.hiddenLabelNames).toContain(label);","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"      component.show(label);","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"      expect(component.hiddenLabelNames).not.toContain(label);","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"Marcus Soh"},"content":"      expect(filtersServiceSpy.updateFilters).toHaveBeenCalledWith({","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"Marcus Soh"},"content":"        hiddenLabels: new Set\u003cstring\u003e([]),","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"Marcus Soh"},"content":"        labels: [],","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"Marcus Soh"},"content":"        deselectedLabels: new Set\u003cstring\u003e([])","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"Marcus Soh"},"content":"      });","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"  describe(\u0027hasLabels\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"    beforeEach(() \u003d\u003e {","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"      component.allLabels \u003d SEVERITY_SIMPLE_LABELS;","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"    it(\u0027should return true if any label match the filter\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"      const filter \u003d \u0027low\u0027;","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"      const result \u003d component.hasLabels(filter);","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"      expect(result).toBeTrue();","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"    it(\u0027should return false if no label match the filter\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"      const filter \u003d \u0027priority\u0027;","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"      const result \u003d component.hasLabels(filter);","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"      expect(result).toBeFalse();","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"    it(\u0027should return false if no label exists\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"      const filter \u003d \u0027low\u0027;","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"      component.allLabels \u003d [];","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"      const result \u003d component.hasLabels(filter);","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":"      expect(result).toBeFalse();","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"  describe(\u0027updateSelection\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"Marcus Soh"},"content":"    it(\u0027should update filters service with selected and hidden labels\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"      const selectedLabels \u003d [LABEL_NAME_SEVERITY_HIGH, LABEL_NAME_SEVERITY_LOW];","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"Marcus Soh"},"content":"      const hiddenLabels \u003d [LABEL_NAME_SEVERITY_HIGH];","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"-"},"content":"      component.selectedLabelNames \u003d new Set\u003cstring\u003e(selectedLabels);","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"Marcus Soh"},"content":"      component.hiddenLabelNames \u003d new Set\u003cstring\u003e(hiddenLabels);","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"-"},"content":"      component.updateSelection();","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"Marcus Soh"},"content":"      expect(filtersServiceSpy.updateFilters).toHaveBeenCalledWith({","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"Marcus Soh"},"content":"        labels: selectedLabels,","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"Marcus Soh"},"content":"        deselectedLabels: new Set\u003cstring\u003e(),","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"Marcus Soh"},"content":"        hiddenLabels: new Set\u003cstring\u003e(hiddenLabels)","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"Marcus Soh"},"content":"      });","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":146,"author":{"gitId":"Marcus Soh"},"content":"  describe(\u0027resetAll\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":147,"author":{"gitId":"-"},"content":"    it(\u0027should deselect all labels and update the filter\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":148,"author":{"gitId":"Marcus Soh"},"content":"      component.resetSelection();","isFullCredit":false},{"lineNumber":149,"author":{"gitId":"-"},"content":"      expect(component.selectedLabelNames).toEqual(new Set\u003cstring\u003e());","isFullCredit":false},{"lineNumber":150,"author":{"gitId":"-"},"content":"      expect(component.deselectedLabelNames).toEqual(new Set\u003cstring\u003e());","isFullCredit":false},{"lineNumber":151,"author":{"gitId":"Marcus Soh"},"content":"      expect(component.hiddenLabelNames).toEqual(new Set\u003cstring\u003e());","isFullCredit":false},{"lineNumber":152,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":153,"author":{"gitId":"Marcus Soh"},"content":"      expect(component.isDefault).toBeTrue();","isFullCredit":false},{"lineNumber":154,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":155,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":156,"author":{"gitId":"-"},"content":"});","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":27,"-":129}},{"path":"tests/constants/filter.constants.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Norbert"},"content":"import { milestone } from \u0027@primer/octicons\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"Norbert"},"content":"import {","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"Norbert"},"content":"  MilestoneOptions,","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"Norbert"},"content":"  OrderOptions,","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"Norbert"},"content":"  SortOptions,","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Norbert"},"content":"  StatusOptions,","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"Norbert"},"content":"  TypeFilter,","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"Norbert"},"content":"  TypeOptions","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Norbert"},"content":"} from \u0027../../src/app/core/constants/filter-options.constants\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { Filter } from \u0027../../src/app/core/services/filters.service\u0027;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"export const DEFAULT_FILTER: Filter \u003d {","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"  title: \u0027\u0027,","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"Norbert"},"content":"  status: [StatusOptions.OpenPullRequests, StatusOptions.MergedPullRequests, StatusOptions.OpenIssues, StatusOptions.ClosedIssues],","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"Norbert"},"content":"  type: TypeOptions.All,","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"Norbert"},"content":"  sort: { active: SortOptions.Status, direction: OrderOptions.Asc },","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"  labels: [],","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"Norbert"},"content":"  milestones: [MilestoneOptions.PullRequestWithoutMilestone],","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"  hiddenLabels: new Set\u003cstring\u003e(),","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"  deselectedLabels: new Set\u003cstring\u003e(),","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"  itemsPerPage: 20,","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"  assignees: [\u0027Unassigned\u0027]","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"};","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"export const CHANGED_FILTER: Filter \u003d {","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"  title: \u0027test\u0027,","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"Norbert"},"content":"  status: [StatusOptions.OpenPullRequests],","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"Norbert"},"content":"  type: TypeOptions.Issue,","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"Norbert"},"content":"  sort: { active: SortOptions.Id, direction: OrderOptions.Asc },","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"  labels: [\u0027aspect-testing\u0027, \u0027aspect-documentation\u0027],","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"  milestones: [\u0027V3.3.6\u0027],","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"  hiddenLabels: new Set\u003cstring\u003e([\u0027aspect-testing\u0027]),","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"  deselectedLabels: new Set\u003cstring\u003e([\u0027aspect-documentation\u0027]),","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"  itemsPerPage: 50,","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"  assignees: [\u0027test\u0027]","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"};","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Norbert"},"content":"export const ENCODED_FILTER \u003d {","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Norbert"},"content":"  title: \u0027title\u0027,","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"Norbert"},"content":"  status: [","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Norbert"},"content":"    StatusOptions.OpenPullRequests,","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Norbert"},"content":"    StatusOptions.MergedPullRequests,","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"Norbert"},"content":"    StatusOptions.ClosedPullRequests,","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"Norbert"},"content":"    StatusOptions.OpenIssues,","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"Norbert"},"content":"    StatusOptions.ClosedIssues","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"Norbert"},"content":"  ],","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"Norbert"},"content":"  type: TypeFilter[TypeOptions.All],","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"Norbert"},"content":"  sort: { active: SortOptions.Status, direction: OrderOptions.Asc },","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"Norbert"},"content":"  labels: [\u0027aspect-testing\u0027],","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"Norbert"},"content":"  milestones: [MilestoneOptions.PullRequestWithoutMilestone, MilestoneOptions.IssueWithoutMilestone],","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"Norbert"},"content":"  hiddenLabels: new Set\u003cstring\u003e([\u0027aspect-testing\u0027]),","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"Norbert"},"content":"  deselectedLabels: new Set\u003cstring\u003e([\u0027aspect-documentation\u0027]),","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"Norbert"},"content":"  itemsPerPage: 50,","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"Norbert"},"content":"  assignees: [\u0027test\u0027]","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"Norbert"},"content":"};","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"Norbert"},"content":"export const ENCODED_FILTER_STRING \u003d `(-label:\"aspect-documentation\") AND (label:\"aspect-testing\") AND ((no:milestone AND is:pr) OR (no:milestone AND is:issue)) AND (undefined) AND ((is:issue (is:open OR is:closed) (assignee:test)) OR (is:pr (is:open OR is:merged OR is:closed) (author:test))) AND (title)`;","isFullCredit":false}],"authorContributionMap":{"Norbert":37,"-":20}},{"path":"tests/services/filters.service.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { ActivatedRoute, convertToParamMap, Router } from \u0027@angular/router\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { AssigneeService } from \u0027../../src/app/core/services/assignee.service\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { FiltersService } from \u0027../../src/app/core/services/filters.service\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../../src/app/core/services/logging.service\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { MilestoneService } from \u0027../../src/app/core/services/milestone.service\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"Norbert"},"content":"import { CHANGED_FILTER, DEFAULT_FILTER, ENCODED_FILTER, ENCODED_FILTER_STRING } from \u0027../constants/filter.constants\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"let filtersService: FiltersService;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"let loggingServiceSpy: jasmine.SpyObj\u003cLoggingService\u003e;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"let routerSpy: jasmine.SpyObj\u003cRouter\u003e;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"let activatedRouteSpy: jasmine.SpyObj\u003cActivatedRoute\u003e;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"let milestoneServiceSpy: jasmine.SpyObj\u003cMilestoneService\u003e;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"let assigneeServiceSpy: jasmine.SpyObj\u003cAssigneeService\u003e;","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"describe(\u0027FiltersService\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"  beforeEach(() \u003d\u003e {","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"    loggingServiceSpy \u003d jasmine.createSpyObj(\u0027LoggingService\u0027, [\u0027info\u0027]);","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"    routerSpy \u003d jasmine.createSpyObj(\u0027Router\u0027, [\u0027navigate\u0027]);","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"    activatedRouteSpy \u003d jasmine.createSpyObj(\u0027ActivatedRoute\u0027, [\u0027snapshot\u0027], {","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"      snapshot: {","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"        queryParamMap: convertToParamMap({})","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"      }","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"    milestoneServiceSpy \u003d jasmine.createSpyObj(\u0027MilestoneService\u0027, [\u0027milestones\u0027, \u0027getEarliestOpenMilestone\u0027, \u0027getLatestClosedMilestone\u0027], {","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"      milestones: []","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"    assigneeServiceSpy \u003d jasmine.createSpyObj(\u0027AssigneeService\u0027, [\u0027assignees\u0027, \u0027hasNoAssignees\u0027], {","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"      assignees: []","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"    filtersService \u003d new FiltersService(loggingServiceSpy, routerSpy, activatedRouteSpy, milestoneServiceSpy, assigneeServiceSpy);","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"    filtersService.initializeFromURLParams();","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"  it(\u0027should initially be on currentlyActive preset\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"    filtersService.presetView$.subscribe((presetView) \u003d\u003e {","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"      expect(presetView).toEqual(\u0027currentlyActive\u0027);","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"      done();","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"  it(\u0027should initially have the correct default filters\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"    filtersService.filter$.subscribe((filter) \u003d\u003e {","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"      expect(filter).toEqual(DEFAULT_FILTER);","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"      done();","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"  describe(\u0027.clearFilters\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"    it(\u0027should reset to default filters\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"      filtersService.updateFilters(CHANGED_FILTER);","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"      filtersService.clearFilters();","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"      filtersService.filter$.subscribe((filter) \u003d\u003e {","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"        expect(filter).toEqual(DEFAULT_FILTER);","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"        done();","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"    it(\u0027should reset to default preset view\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"      filtersService.updateFilters(CHANGED_FILTER);","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"      filtersService.clearFilters();","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"      filtersService.presetView$.subscribe((presetView) \u003d\u003e {","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"        expect(presetView).toEqual(\u0027currentlyActive\u0027);","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"        done();","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"  describe(\u0027.updateFilters\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"    beforeEach(() \u003d\u003e {","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"      filtersService.clearFilters();","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"    it(\u0027should correctly update filters\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"      filtersService.updateFilters(CHANGED_FILTER);","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"      filtersService.filter$.subscribe((filter) \u003d\u003e {","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"        expect(filter).toEqual(CHANGED_FILTER);","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"        done();","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"    it(\u0027should update preset views when certain filters changed\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"      filtersService.updateFilters({ labels: [\u0027aspect-testing\u0027] });","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"      filtersService.presetView$.subscribe((presetView) \u003d\u003e {","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"        expect(presetView).toEqual(\u0027custom\u0027);","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"        done();","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"    it(\u0027should retain preset view when certain filters are changed\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"      filtersService.updateFilters({ title: \u0027test\u0027 });","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"      filtersService.presetView$.subscribe((presetView) \u003d\u003e {","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"        expect(presetView).toEqual(\u0027currentlyActive\u0027);","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"        done();","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"    it(\u0027should push filters to URL\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"      filtersService.updateFilters(CHANGED_FILTER);","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"      expect(routerSpy.navigate).toHaveBeenCalled();","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"      done();","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"  describe(\u0027.updatePresetView\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"    beforeEach(() \u003d\u003e {","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"      filtersService.clearFilters();","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"    it(\u0027should correctly update preset view\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"      filtersService.updatePresetView(\u0027contributions\u0027);","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"      filtersService.presetView$.subscribe((presetView) \u003d\u003e {","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"        expect(presetView).toEqual(\u0027contributions\u0027);","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"        done();","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"    it(\u0027should correctly apply filters when updating preset view\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"      filtersService.updatePresetView(\u0027contributions\u0027);","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"      filtersService.filter$.subscribe((filter) \u003d\u003e {","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"        expect(filter.sort).toEqual({ active: \u0027id\u0027, direction: \u0027desc\u0027 });","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"        done();","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":"    it(\u0027should not overwrite certain filters\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":"      filtersService.updateFilters({ hiddenLabels: new Set([\u0027aspect-testing\u0027]) });","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"      filtersService.updatePresetView(\u0027contributions\u0027);","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"      filtersService.filter$.subscribe((filter) \u003d\u003e {","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"        expect(filter.hiddenLabels).toEqual(new Set([\u0027aspect-testing\u0027]));","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"        done();","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"Norbert"},"content":"  describe(\u0027.getEncodedFilter\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"Norbert"},"content":"    it(\u0027should correctly encode filters\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"Norbert"},"content":"      filtersService.updateFilters(ENCODED_FILTER);","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"Norbert"},"content":"      const encodedFilter \u003d filtersService.getEncodedFilter();","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"Norbert"},"content":"","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"Norbert"},"content":"      expect(encodedFilter).toEqual(ENCODED_FILTER_STRING);","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"Norbert"},"content":"    });","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"Norbert"},"content":"  });","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"-"},"content":"});","isFullCredit":false}],"authorContributionMap":{"-":132,"Norbert":10}},{"path":"tests/services/repo-url-cache.service.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { FormControl } from \u0027@angular/forms\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Observable } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { RepoUrlCacheService } from \u0027../../src/app/core/services/repo-url-cache.service\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { MockLocalStorage } from \u0027../helper/mock.local.storage\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"let repoUrlCacheService: RepoUrlCacheService;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"const repoNameOne \u003d \u0027mock/repo_one\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"-"},"content":"const repoNameTwo \u003d \u0027mock/repo_two\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"const mockLocalStorageFunctionCalls \u003d (mockLocalStorage: MockLocalStorage) \u003d\u003e {","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"  spyOn(localStorage, \u0027getItem\u0027).and.callFake(mockLocalStorage.getItem.bind(mockLocalStorage));","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"  spyOn(localStorage, \u0027setItem\u0027).and.callFake(mockLocalStorage.setItem.bind(mockLocalStorage));","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"  spyOn(localStorage, \u0027removeItem\u0027).and.callFake(mockLocalStorage.removeItem.bind(mockLocalStorage));","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"  spyOn(localStorage, \u0027clear\u0027).and.callFake(mockLocalStorage.clear.bind(mockLocalStorage));","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"};","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"describe(\u0027RepoUrlCacheService\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"  beforeAll(() \u003d\u003e {","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"-"},"content":"    const mockLocalStorage \u003d new MockLocalStorage();","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"    mockLocalStorageFunctionCalls(mockLocalStorage);","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"  afterEach(() \u003d\u003e {","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"    localStorage.clear();","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"  it(\u0027should load with no suggestions if localStorage is empty\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"    repoUrlCacheService \u003d new RepoUrlCacheService();","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"-"},"content":"    expect(repoUrlCacheService.suggestions).toEqual([]);","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"-"},"content":"  it(\u0027should load with suggestions if localStorage is not empty\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"-"},"content":"    localStorage.setItem(RepoUrlCacheService.KEY_NAME, JSON.stringify([repoNameOne, repoNameTwo]));","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"-"},"content":"    repoUrlCacheService \u003d new RepoUrlCacheService();","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"-"},"content":"    expect(repoUrlCacheService.suggestions).toEqual([repoNameOne, repoNameTwo]);","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"-"},"content":"  describe(\u0027cache()\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"    it(\u0027should update suggestions if it does not already include the repo\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"      repoUrlCacheService \u003d new RepoUrlCacheService();","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"      repoUrlCacheService.cache(repoNameOne);","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"      // suggestions in repoUrlCacheService should be updated","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"      expect(repoUrlCacheService.suggestions).toEqual([repoNameOne]);","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"      // suggestions in localStorage should be updated","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"      expect(localStorage.getItem(RepoUrlCacheService.KEY_NAME)).toEqual(JSON.stringify([repoNameOne]));","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"    it(\u0027should not update suggestions if it already includes the repo\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"      localStorage.setItem(RepoUrlCacheService.KEY_NAME, JSON.stringify([repoNameOne]));","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"      repoUrlCacheService \u003d new RepoUrlCacheService();","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"      repoUrlCacheService.cache(repoNameOne);","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"      // suggestions in repoUrlCacheService should not be updated","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"      expect(repoUrlCacheService.suggestions).toEqual([repoNameOne]);","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"      // suggestions in localStorage should be not updated","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"      expect(localStorage.getItem(RepoUrlCacheService.KEY_NAME)).toEqual(JSON.stringify([repoNameOne]));","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"  describe(\u0027getFilteredSuggestions()\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"    it(\u0027should return an Observable\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"      const formControl \u003d new FormControl();","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"      repoUrlCacheService \u003d new RepoUrlCacheService();","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"      const filteredSuggestions \u003d repoUrlCacheService.getFilteredSuggestions(formControl);","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"      expect(filteredSuggestions).toBeInstanceOf(Observable);","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"tng wen xi"},"content":"","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"tng wen xi"},"content":"  describe(\u0027removeFromSuggestions()\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"tng wen xi"},"content":"    it(\u0027should return without changing anything if repo is not in localStorage\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"tng wen xi"},"content":"      localStorage.setItem(RepoUrlCacheService.KEY_NAME, JSON.stringify([repoNameOne]));","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"tng wen xi"},"content":"      repoUrlCacheService \u003d new RepoUrlCacheService();","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"tng wen xi"},"content":"      const oldSuggestions \u003d localStorage.getItem(RepoUrlCacheService.KEY_NAME);","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"tng wen xi"},"content":"      repoUrlCacheService.removeFromSuggestions(repoNameTwo);","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"tng wen xi"},"content":"      expect(localStorage.getItem(RepoUrlCacheService.KEY_NAME)).toEqual(oldSuggestions);","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"tng wen xi"},"content":"    });","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"tng wen xi"},"content":"","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"tng wen xi"},"content":"    it(\u0027should be able to remove a repo if it is in localStorage\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"tng wen xi"},"content":"      localStorage.setItem(RepoUrlCacheService.KEY_NAME, JSON.stringify([repoNameOne, repoNameTwo]));","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"tng wen xi"},"content":"      repoUrlCacheService \u003d new RepoUrlCacheService();","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"tng wen xi"},"content":"      repoUrlCacheService.removeFromSuggestions(repoNameTwo);","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"tng wen xi"},"content":"      expect(localStorage.getItem(RepoUrlCacheService.KEY_NAME)).toEqual(JSON.stringify([repoNameOne]));","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"tng wen xi"},"content":"    });","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"tng wen xi"},"content":"  });","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"});","isFullCredit":false}],"authorContributionMap":{"tng wen xi":17,"-":79}},{"path":"tests/services/view.service.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { ActivatedRoute, Router } from \u0027@angular/router\u0027;","isFullCredit":false},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { of } from \u0027rxjs\u0027;","isFullCredit":false},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { STORAGE_KEYS } from \u0027../../src/app/core/constants/storage-keys.constants\u0027;","isFullCredit":false},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { Repo } from \u0027../../src/app/core/models/repo.model\u0027;","isFullCredit":false},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { View } from \u0027../../src/app/core/models/view.model\u0027;","isFullCredit":false},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { ErrorMessageService } from \u0027../../src/app/core/services/error-message.service\u0027;","isFullCredit":false},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027../../src/app/core/services/github.service\u0027;","isFullCredit":false},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../../src/app/core/services/logging.service\u0027;","isFullCredit":false},{"lineNumber":9,"author":{"gitId":"Marcus Soh"},"content":"import { PresetsService } from \u0027../../src/app/core/services/presets.services\u0027;","isFullCredit":false},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { RepoUrlCacheService } from \u0027../../src/app/core/services/repo-url-cache.service\u0027;","isFullCredit":false},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { ViewService } from \u0027../../src/app/core/services/view.service\u0027;","isFullCredit":false},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { CATCHER_REPO, WATCHER_REPO } from \u0027../constants/session.constants\u0027;","isFullCredit":false},{"lineNumber":13,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":14,"author":{"gitId":"-"},"content":"let viewService: ViewService;","isFullCredit":false},{"lineNumber":15,"author":{"gitId":"-"},"content":"let githubServiceSpy: jasmine.SpyObj\u003cGithubService\u003e;","isFullCredit":false},{"lineNumber":16,"author":{"gitId":"-"},"content":"let repoUrlCacheServiceSpy: jasmine.SpyObj\u003cRepoUrlCacheService\u003e;","isFullCredit":false},{"lineNumber":17,"author":{"gitId":"-"},"content":"let loggingServiceSpy: jasmine.SpyObj\u003cLoggingService\u003e;","isFullCredit":false},{"lineNumber":18,"author":{"gitId":"-"},"content":"let routerSpy: jasmine.SpyObj\u003cRouter\u003e;","isFullCredit":false},{"lineNumber":19,"author":{"gitId":"-"},"content":"let activatedRouteSpy: jasmine.SpyObj\u003cActivatedRoute\u003e;","isFullCredit":false},{"lineNumber":20,"author":{"gitId":"Marcus Soh"},"content":"let presetServiceSpy: jasmine.SpyObj\u003cPresetsService\u003e;","isFullCredit":false},{"lineNumber":21,"author":{"gitId":"-"},"content":"describe(\u0027ViewService\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":22,"author":{"gitId":"-"},"content":"  beforeEach(() \u003d\u003e {","isFullCredit":false},{"lineNumber":23,"author":{"gitId":"-"},"content":"    githubServiceSpy \u003d jasmine.createSpyObj(\u0027GithubService\u0027, [","isFullCredit":false},{"lineNumber":24,"author":{"gitId":"-"},"content":"      \u0027isUsernamePresent\u0027,","isFullCredit":false},{"lineNumber":25,"author":{"gitId":"-"},"content":"      \u0027isOrganisationPresent\u0027,","isFullCredit":false},{"lineNumber":26,"author":{"gitId":"-"},"content":"      \u0027isRepositoryPresent\u0027,","isFullCredit":false},{"lineNumber":27,"author":{"gitId":"-"},"content":"      \u0027storeViewDetails\u0027","isFullCredit":false},{"lineNumber":28,"author":{"gitId":"-"},"content":"    ]);","isFullCredit":false},{"lineNumber":29,"author":{"gitId":"-"},"content":"    activatedRouteSpy \u003d jasmine.createSpyObj(\u0027ActivatedRoute\u0027, [\u0027snapshot\u0027]);","isFullCredit":false},{"lineNumber":30,"author":{"gitId":"-"},"content":"    routerSpy \u003d jasmine.createSpyObj(\u0027Router\u0027, [\u0027navigate\u0027]);","isFullCredit":false},{"lineNumber":31,"author":{"gitId":"tng wen xi"},"content":"    repoUrlCacheServiceSpy \u003d jasmine.createSpyObj(\u0027RepoUrlCacheService\u0027, [\u0027cache\u0027, \u0027removeFromSuggestions\u0027]);","isFullCredit":false},{"lineNumber":32,"author":{"gitId":"-"},"content":"    loggingServiceSpy \u003d jasmine.createSpyObj(\u0027LoggingService\u0027, [\u0027info\u0027]);","isFullCredit":false},{"lineNumber":33,"author":{"gitId":"Marcus Soh"},"content":"    presetServiceSpy \u003d jasmine.createSpyObj(\u0027PresetsService\u0027, [\u0027savePreset\u0027, \u0027getSavedPresetsForCurrentRepo\u0027, \u0027loadSavedPresets\u0027]);","isFullCredit":false},{"lineNumber":34,"author":{"gitId":"Marcus Soh"},"content":"","isFullCredit":false},{"lineNumber":35,"author":{"gitId":"Marcus Soh"},"content":"    viewService \u003d new ViewService(","isFullCredit":false},{"lineNumber":36,"author":{"gitId":"Marcus Soh"},"content":"      githubServiceSpy,","isFullCredit":false},{"lineNumber":37,"author":{"gitId":"Marcus Soh"},"content":"      repoUrlCacheServiceSpy,","isFullCredit":false},{"lineNumber":38,"author":{"gitId":"Marcus Soh"},"content":"      presetServiceSpy,","isFullCredit":false},{"lineNumber":39,"author":{"gitId":"Marcus Soh"},"content":"      loggingServiceSpy,","isFullCredit":false},{"lineNumber":40,"author":{"gitId":"Marcus Soh"},"content":"      activatedRouteSpy,","isFullCredit":false},{"lineNumber":41,"author":{"gitId":"Marcus Soh"},"content":"      routerSpy","isFullCredit":false},{"lineNumber":42,"author":{"gitId":"Marcus Soh"},"content":"    );","isFullCredit":false},{"lineNumber":43,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":44,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":45,"author":{"gitId":"-"},"content":"  describe(\u0027setRepository(Repo, Repo[])\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":46,"author":{"gitId":"-"},"content":"    it(\u0027should set the current repositories and update session data\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":47,"author":{"gitId":"-"},"content":"      const repos: Repo[] \u003d [CATCHER_REPO];","isFullCredit":false},{"lineNumber":48,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":49,"author":{"gitId":"-"},"content":"      viewService.setRepository(WATCHER_REPO, repos);","isFullCredit":false},{"lineNumber":50,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":51,"author":{"gitId":"-"},"content":"      expect(viewService.currentRepo).toEqual(WATCHER_REPO);","isFullCredit":false},{"lineNumber":52,"author":{"gitId":"-"},"content":"      expect(viewService.otherRepos).toEqual(repos);","isFullCredit":false},{"lineNumber":53,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":54,"author":{"gitId":"-"},"content":"      const currentSessionRepo \u003d viewService.sessionData.sessionRepo.find((x) \u003d\u003e x.view \u003d\u003d\u003d viewService.currentView);","isFullCredit":false},{"lineNumber":55,"author":{"gitId":"-"},"content":"      expect(currentSessionRepo?.repos).toEqual([WATCHER_REPO, CATCHER_REPO]);","isFullCredit":false},{"lineNumber":56,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":57,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":58,"author":{"gitId":"-"},"content":"    it(\u0027should store view details via githubService and update localStorage\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":59,"author":{"gitId":"-"},"content":"      const localStorageSetItem \u003d spyOn(localStorage, \u0027setItem\u0027);","isFullCredit":false},{"lineNumber":60,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":61,"author":{"gitId":"-"},"content":"      viewService.setRepository(WATCHER_REPO);","isFullCredit":false},{"lineNumber":62,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":63,"author":{"gitId":"-"},"content":"      expect(githubServiceSpy.storeViewDetails).toHaveBeenCalledWith(WATCHER_REPO.owner, WATCHER_REPO.name);","isFullCredit":false},{"lineNumber":64,"author":{"gitId":"-"},"content":"      expect(localStorageSetItem).toHaveBeenCalledWith(\u0027sessionData\u0027, JSON.stringify(viewService.sessionData));","isFullCredit":false},{"lineNumber":65,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":66,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":67,"author":{"gitId":"-"},"content":"    it(\u0027should navigate to the new repository\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":68,"author":{"gitId":"-"},"content":"      viewService.setRepository(WATCHER_REPO);","isFullCredit":false},{"lineNumber":69,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":70,"author":{"gitId":"-"},"content":"      expect(routerSpy.navigate).toHaveBeenCalledWith([\u0027issuesViewer\u0027], {","isFullCredit":false},{"lineNumber":71,"author":{"gitId":"-"},"content":"        queryParams: { repo: WATCHER_REPO.toString() },","isFullCredit":false},{"lineNumber":72,"author":{"gitId":"-"},"content":"        queryParamsHandling: \u0027merge\u0027","isFullCredit":false},{"lineNumber":73,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":74,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":75,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":76,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":77,"author":{"gitId":"-"},"content":"  describe(\u0027changeRepositoryIfValid(Repo)\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":78,"author":{"gitId":"-"},"content":"    it(\u0027should set isChangingRepo to true at the start and false at the end\u0027, async () \u003d\u003e {","isFullCredit":false},{"lineNumber":79,"author":{"gitId":"-"},"content":"      githubServiceSpy.isOrganisationPresent.and.returnValue(of(true));","isFullCredit":false},{"lineNumber":80,"author":{"gitId":"-"},"content":"      githubServiceSpy.isRepositoryPresent.and.returnValue(of(true));","isFullCredit":false},{"lineNumber":81,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":82,"author":{"gitId":"-"},"content":"      const isChangingRepoNextSpy \u003d spyOn(viewService.isChangingRepo, \u0027next\u0027);","isFullCredit":false},{"lineNumber":83,"author":{"gitId":"-"},"content":"      spyOn(viewService, \u0027setRepository\u0027);","isFullCredit":false},{"lineNumber":84,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":85,"author":{"gitId":"-"},"content":"      await viewService.changeRepositoryIfValid(WATCHER_REPO);","isFullCredit":false},{"lineNumber":86,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":87,"author":{"gitId":"-"},"content":"      expect(isChangingRepoNextSpy.calls.first().args[0]).toBe(true);","isFullCredit":false},{"lineNumber":88,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":89,"author":{"gitId":"-"},"content":"      expect(isChangingRepoNextSpy.calls.mostRecent().args[0]).toBe(false);","isFullCredit":false},{"lineNumber":90,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":91,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":92,"author":{"gitId":"-"},"content":"    it(\u0027should throw error if repository is not valid\u0027, async () \u003d\u003e {","isFullCredit":false},{"lineNumber":93,"author":{"gitId":"-"},"content":"      githubServiceSpy.isOrganisationPresent.and.returnValue(of(false));","isFullCredit":false},{"lineNumber":94,"author":{"gitId":"-"},"content":"      githubServiceSpy.isUsernamePresent.and.returnValue(of(false));","isFullCredit":false},{"lineNumber":95,"author":{"gitId":"-"},"content":"      githubServiceSpy.isRepositoryPresent.and.returnValue(of(false));","isFullCredit":false},{"lineNumber":96,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":97,"author":{"gitId":"-"},"content":"      await expectAsync(viewService.changeRepositoryIfValid(WATCHER_REPO)).toBeRejectedWithError(","isFullCredit":false},{"lineNumber":98,"author":{"gitId":"-"},"content":"        ErrorMessageService.repoOwnerNotPresentMessage()","isFullCredit":false},{"lineNumber":99,"author":{"gitId":"-"},"content":"      );","isFullCredit":false},{"lineNumber":100,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":101,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":102,"author":{"gitId":"-"},"content":"    it(\u0027should set and navigate to new repo if repo is valid\u0027, async () \u003d\u003e {","isFullCredit":false},{"lineNumber":103,"author":{"gitId":"-"},"content":"      githubServiceSpy.isOrganisationPresent.and.returnValue(of(true));","isFullCredit":false},{"lineNumber":104,"author":{"gitId":"-"},"content":"      githubServiceSpy.isRepositoryPresent.and.returnValue(of(true));","isFullCredit":false},{"lineNumber":105,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":106,"author":{"gitId":"-"},"content":"      const repoChanged$Spy \u003d spyOn(viewService.repoChanged$, \u0027next\u0027);","isFullCredit":false},{"lineNumber":107,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":108,"author":{"gitId":"-"},"content":"      await viewService.changeRepositoryIfValid(WATCHER_REPO);","isFullCredit":false},{"lineNumber":109,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":110,"author":{"gitId":"-"},"content":"      expect(loggingServiceSpy.info).toHaveBeenCalledWith(`ViewService: Changing current repository to \u0027${WATCHER_REPO}\u0027`);","isFullCredit":false},{"lineNumber":111,"author":{"gitId":"-"},"content":"      expect(viewService.currentRepo).toEqual(WATCHER_REPO);","isFullCredit":false},{"lineNumber":112,"author":{"gitId":"-"},"content":"      expect(routerSpy.navigate).toHaveBeenCalledWith([\u0027issuesViewer\u0027], {","isFullCredit":false},{"lineNumber":113,"author":{"gitId":"-"},"content":"        queryParams: { repo: WATCHER_REPO.toString() },","isFullCredit":false},{"lineNumber":114,"author":{"gitId":"-"},"content":"        queryParamsHandling: \u0027merge\u0027","isFullCredit":false},{"lineNumber":115,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":116,"author":{"gitId":"-"},"content":"      expect(repoUrlCacheServiceSpy.cache).toHaveBeenCalledWith(WATCHER_REPO.toString());","isFullCredit":false},{"lineNumber":117,"author":{"gitId":"-"},"content":"      expect(repoChanged$Spy).toHaveBeenCalledWith(WATCHER_REPO);","isFullCredit":false},{"lineNumber":118,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":119,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":120,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":121,"author":{"gitId":"-"},"content":"  describe(\u0027initializeCurrentRepository()\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":122,"author":{"gitId":"-"},"content":"    beforeEach(() \u003d\u003e {","isFullCredit":false},{"lineNumber":123,"author":{"gitId":"-"},"content":"      const org \u003d WATCHER_REPO.owner;","isFullCredit":false},{"lineNumber":124,"author":{"gitId":"-"},"content":"      const repoName \u003d WATCHER_REPO.name;","isFullCredit":false},{"lineNumber":125,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":126,"author":{"gitId":"-"},"content":"      const localStorageGetItemSpy \u003d spyOn(window.localStorage, \u0027getItem\u0027);","isFullCredit":false},{"lineNumber":127,"author":{"gitId":"-"},"content":"      localStorageGetItemSpy.withArgs(STORAGE_KEYS.ORG).and.returnValue(org);","isFullCredit":false},{"lineNumber":128,"author":{"gitId":"-"},"content":"      localStorageGetItemSpy.withArgs(STORAGE_KEYS.DATA_REPO).and.returnValue(repoName);","isFullCredit":false},{"lineNumber":129,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":130,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":131,"author":{"gitId":"-"},"content":"    it(\u0027should set and navigate to new repo if repo is valid\u0027, async () \u003d\u003e {","isFullCredit":false},{"lineNumber":132,"author":{"gitId":"-"},"content":"      githubServiceSpy.isOrganisationPresent.and.returnValue(of(true));","isFullCredit":false},{"lineNumber":133,"author":{"gitId":"-"},"content":"      githubServiceSpy.isRepositoryPresent.and.returnValue(of(true));","isFullCredit":false},{"lineNumber":134,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":135,"author":{"gitId":"-"},"content":"      const repoSetSourceNext \u003d spyOn(viewService.repoSetSource, \u0027next\u0027);","isFullCredit":false},{"lineNumber":136,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":137,"author":{"gitId":"-"},"content":"      await viewService.initializeCurrentRepository();","isFullCredit":false},{"lineNumber":138,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":139,"author":{"gitId":"-"},"content":"      expect(loggingServiceSpy.info).toHaveBeenCalledWith(`ViewService: Repo is ${WATCHER_REPO}`);","isFullCredit":false},{"lineNumber":140,"author":{"gitId":"-"},"content":"      expect(viewService.currentRepo).toEqual(WATCHER_REPO);","isFullCredit":false},{"lineNumber":141,"author":{"gitId":"-"},"content":"      expect(routerSpy.navigate).toHaveBeenCalledWith([\u0027issuesViewer\u0027], {","isFullCredit":false},{"lineNumber":142,"author":{"gitId":"-"},"content":"        queryParams: { repo: WATCHER_REPO.toString() },","isFullCredit":false},{"lineNumber":143,"author":{"gitId":"-"},"content":"        queryParamsHandling: \u0027merge\u0027","isFullCredit":false},{"lineNumber":144,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":145,"author":{"gitId":"-"},"content":"      expect(repoSetSourceNext).toHaveBeenCalledWith(true);","isFullCredit":false},{"lineNumber":146,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":147,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":148,"author":{"gitId":"-"},"content":"    it(\u0027should throw error if repository is invalid\u0027, async () \u003d\u003e {","isFullCredit":false},{"lineNumber":149,"author":{"gitId":"-"},"content":"      githubServiceSpy.isOrganisationPresent.and.returnValue(of(true));","isFullCredit":false},{"lineNumber":150,"author":{"gitId":"-"},"content":"      githubServiceSpy.isRepositoryPresent.and.returnValue(of(false));","isFullCredit":false},{"lineNumber":151,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":152,"author":{"gitId":"-"},"content":"      await expectAsync(viewService.initializeCurrentRepository()).toBeRejectedWithError(ErrorMessageService.repositoryNotPresentMessage());","isFullCredit":false},{"lineNumber":153,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":154,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":155,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":156,"author":{"gitId":"-"},"content":"  describe(\u0027changeView(View)\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":157,"author":{"gitId":"-"},"content":"    it(\u0027should set current view\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":158,"author":{"gitId":"-"},"content":"      viewService.setRepository(WATCHER_REPO);","isFullCredit":false},{"lineNumber":159,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":160,"author":{"gitId":"-"},"content":"      expect(viewService.currentView).toEqual(View.issuesViewer);","isFullCredit":false},{"lineNumber":161,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":162,"author":{"gitId":"-"},"content":"      viewService.changeView(View.activityDashboard);","isFullCredit":false},{"lineNumber":163,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":164,"author":{"gitId":"-"},"content":"      expect(viewService.currentView).toEqual(View.activityDashboard);","isFullCredit":false},{"lineNumber":165,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":166,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":167,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":168,"author":{"gitId":"-"},"content":"  describe(\u0027.reset()\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":169,"author":{"gitId":"-"},"content":"    it(\u0027should reset the currentView of the ViewService\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":170,"author":{"gitId":"-"},"content":"      viewService.currentView \u003d View.activityDashboard;","isFullCredit":false},{"lineNumber":171,"author":{"gitId":"-"},"content":"      viewService.reset();","isFullCredit":false},{"lineNumber":172,"author":{"gitId":"-"},"content":"      expect(viewService.currentView).toBe(View.issuesViewer);","isFullCredit":false},{"lineNumber":173,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":174,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":175,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":176,"author":{"gitId":"-"},"content":"  describe(\u0027setupFromUrl(url)\u0027, () \u003d\u003e {","isFullCredit":false},{"lineNumber":177,"author":{"gitId":"-"},"content":"    it(\u0027should set items in local storage if url is valid\u0027, async () \u003d\u003e {","isFullCredit":false},{"lineNumber":178,"author":{"gitId":"-"},"content":"      const validUrl \u003d `/issuesViewer?repo\u003d${WATCHER_REPO.owner}%2F${WATCHER_REPO.name}`;","isFullCredit":false},{"lineNumber":179,"author":{"gitId":"-"},"content":"      const localStorageSetItemSpy \u003d spyOn(window.localStorage, \u0027setItem\u0027);","isFullCredit":false},{"lineNumber":180,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":181,"author":{"gitId":"-"},"content":"      await viewService.setupFromUrl(validUrl).toPromise();","isFullCredit":false},{"lineNumber":182,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":183,"author":{"gitId":"-"},"content":"      expect(localStorageSetItemSpy).toHaveBeenCalledWith(STORAGE_KEYS.ORG, WATCHER_REPO.owner);","isFullCredit":false},{"lineNumber":184,"author":{"gitId":"-"},"content":"      expect(localStorageSetItemSpy).toHaveBeenCalledWith(STORAGE_KEYS.DATA_REPO, WATCHER_REPO.name);","isFullCredit":false},{"lineNumber":185,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":186,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":187,"author":{"gitId":"-"},"content":"    it(\u0027should throw error for url without repo paramater\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":188,"author":{"gitId":"-"},"content":"      const urlWithoutRepo \u003d \u0027/issuesViewer\u0027;","isFullCredit":false},{"lineNumber":189,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":190,"author":{"gitId":"-"},"content":"      viewService.setupFromUrl(urlWithoutRepo).subscribe({","isFullCredit":false},{"lineNumber":191,"author":{"gitId":"-"},"content":"        error: (err) \u003d\u003e {","isFullCredit":false},{"lineNumber":192,"author":{"gitId":"-"},"content":"          expect(err).toEqual(new Error(ErrorMessageService.invalidUrlMessage()));","isFullCredit":false},{"lineNumber":193,"author":{"gitId":"-"},"content":"          done();","isFullCredit":false},{"lineNumber":194,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":195,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":196,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":197,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":198,"author":{"gitId":"-"},"content":"    it(\u0027should throw error for empty url\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":199,"author":{"gitId":"-"},"content":"      const emptyUrl \u003d \u0027\u0027;","isFullCredit":false},{"lineNumber":200,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":201,"author":{"gitId":"-"},"content":"      viewService.setupFromUrl(emptyUrl).subscribe({","isFullCredit":false},{"lineNumber":202,"author":{"gitId":"-"},"content":"        error: (err) \u003d\u003e {","isFullCredit":false},{"lineNumber":203,"author":{"gitId":"-"},"content":"          expect(err).toEqual(new Error(ErrorMessageService.invalidUrlMessage()));","isFullCredit":false},{"lineNumber":204,"author":{"gitId":"-"},"content":"          done();","isFullCredit":false},{"lineNumber":205,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":206,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":207,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":208,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":209,"author":{"gitId":"-"},"content":"    it(\u0027should throw error for url with invalid repo format\u0027, (done) \u003d\u003e {","isFullCredit":false},{"lineNumber":210,"author":{"gitId":"-"},"content":"      const urlWithInvalidRepoFormat \u003d \u0027/issuesViewer?repo\u003dInvalidRepo\u0027;","isFullCredit":false},{"lineNumber":211,"author":{"gitId":"-"},"content":"","isFullCredit":false},{"lineNumber":212,"author":{"gitId":"-"},"content":"      viewService.setupFromUrl(urlWithInvalidRepoFormat).subscribe({","isFullCredit":false},{"lineNumber":213,"author":{"gitId":"-"},"content":"        error: (err) \u003d\u003e {","isFullCredit":false},{"lineNumber":214,"author":{"gitId":"-"},"content":"          expect(err).toEqual(new Error(ErrorMessageService.repositoryNotPresentMessage()));","isFullCredit":false},{"lineNumber":215,"author":{"gitId":"-"},"content":"          done();","isFullCredit":false},{"lineNumber":216,"author":{"gitId":"-"},"content":"        }","isFullCredit":false},{"lineNumber":217,"author":{"gitId":"-"},"content":"      });","isFullCredit":false},{"lineNumber":218,"author":{"gitId":"-"},"content":"    });","isFullCredit":false},{"lineNumber":219,"author":{"gitId":"-"},"content":"  });","isFullCredit":false},{"lineNumber":220,"author":{"gitId":"-"},"content":"});","isFullCredit":false}],"authorContributionMap":{"Marcus Soh":12,"tng wen xi":1,"-":207}}]
